import{r as i,j as t,w as m}from"./index-BHtdhaZ_.js";import{F as f}from"./LinkIcon-DoK7g8kz.js";function u(s){return typeof window>"u"?s:`${window.location.origin}${s.startsWith("/")?s:`/${s}`}`}const k=({memeId:s,title:l="",className:d="",mediaUrl:a})=>{const[p,o]=i.useState(!1),[h,n]=i.useState(!1),c=u(`/memes/${encodeURIComponent(s)}`),r=encodeURIComponent(c),b=encodeURIComponent(l||"Meme"),x=[{label:"Copy link",icon:p?"✓":null,onClick:async()=>{try{await navigator.clipboard.writeText(c),o(!0),setTimeout(()=>o(!1),2e3)}catch{}},href:null},...a?[{label:"Copy URL",icon:h?"✓":null,onClick:async()=>{if(a)try{await navigator.clipboard.writeText(a),n(!0),setTimeout(()=>n(!1),2e3)}catch{}},href:null}]:[],{label:"Instagram",href:"https://www.instagram.com/",title:"Open Instagram (copy link first to share)"},{label:"Facebook",href:`https://www.facebook.com/sharer/sharer.php?u=${r}`},{label:"Bluesky",href:`https://bsky.app/intent/compose?text=${r}`},{label:"Reddit",href:`https://www.reddit.com/submit?url=${r}&title=${b}`}];return t.jsxs("div",{className:`rounded-xl border border-slate-800 bg-slate-950/60 p-4 ${d}`,children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(f,{className:"h-4 w-4 text-slate-400"}),t.jsx("span",{className:"text-xs font-medium text-slate-400 uppercase",children:"Share"})]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(e=>e.onClick?t.jsxs("button",{type:"button",onClick:e.onClick,className:"inline-flex items-center gap-1.5 rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 hover:bg-slate-800 hover:border-slate-600",children:[e.icon?t.jsx("span",{className:"text-emerald-400",children:e.icon}):t.jsx(m,{className:"h-4 w-4 text-slate-400"}),e.label]},e.label):t.jsx("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",title:e.title,className:"inline-flex items-center gap-1.5 rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 hover:bg-slate-800 hover:border-slate-600",children:e.label},e.label))})]})};export{k as S};
