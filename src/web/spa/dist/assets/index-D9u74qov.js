function op(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function ip(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var od={exports:{}},fl={},id={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=Symbol.for("react.element"),up=Symbol.for("react.portal"),cp=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),mp=Symbol.for("react.provider"),pp=Symbol.for("react.context"),hp=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),gp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),Lu=Symbol.iterator;function vp(e){return e===null||typeof e!="object"?null:(e=Lu&&e[Lu]||e["@@iterator"],typeof e=="function"?e:null)}var ud={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cd=Object.assign,dd={};function Zr(e,t,n){this.props=e,this.context=t,this.refs=dd,this.updater=n||ud}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fd(){}fd.prototype=Zr.prototype;function Ai(e,t,n){this.props=e,this.context=t,this.refs=dd,this.updater=n||ud}var $i=Ai.prototype=new fd;$i.constructor=Ai;cd($i,Zr.prototype);$i.isPureReactComponent=!0;var Au=Array.isArray,md=Object.prototype.hasOwnProperty,Ri={current:null},pd={key:!0,ref:!0,__self:!0,__source:!0};function hd(e,t,n){var r,a={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)md.call(t,r)&&!pd.hasOwnProperty(r)&&(a[r]=t[r]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var u=Array(i),d=0;d<i;d++)u[d]=arguments[d+2];a.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)a[r]===void 0&&(a[r]=i[r]);return{$$typeof:qs,type:e,key:l,ref:o,props:a,_owner:Ri.current}}function wp(e,t){return{$$typeof:qs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ii(e){return typeof e=="object"&&e!==null&&e.$$typeof===qs}function bp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $u=/\/+/g;function Ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bp(""+e.key):t.toString(36)}function Na(e,t,n,r,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qs:case up:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Ol(o,0):r,Au(a)?(n="",e!=null&&(n=e.replace($u,"$&/")+"/"),Na(a,t,n,"",function(d){return d})):a!=null&&(Ii(a)&&(a=wp(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace($u,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",Au(e))for(var i=0;i<e.length;i++){l=e[i];var u=r+Ol(l,i);o+=Na(l,t,n,u,a)}else if(u=vp(e),typeof u=="function")for(e=u.call(e),i=0;!(l=e.next()).done;)l=l.value,u=r+Ol(l,i++),o+=Na(l,t,n,u,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function na(e,t,n){if(e==null)return e;var r=[],a=0;return Na(e,r,"","",function(l){return t.call(n,l,a++)}),r}function jp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var bt={current:null},Sa={transition:null},Np={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Sa,ReactCurrentOwner:Ri};function xd(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:na,forEach:function(e,t,n){na(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return na(e,function(){t++}),t},toArray:function(e){return na(e,function(t){return t})||[]},only:function(e){if(!Ii(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Zr;Se.Fragment=cp;Se.Profiler=fp;Se.PureComponent=Ai;Se.StrictMode=dp;Se.Suspense=xp;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Np;Se.act=xd;Se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=cd({},e.props),a=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Ri.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)md.call(t,u)&&!pd.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var d=0;d<u;d++)i[d]=arguments[d+2];r.children=i}return{$$typeof:qs,type:e.type,key:a,ref:l,props:r,_owner:o}};Se.createContext=function(e){return e={$$typeof:pp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mp,_context:e},e.Consumer=e};Se.createElement=hd;Se.createFactory=function(e){var t=hd.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:hp,render:e}};Se.isValidElement=Ii;Se.lazy=function(e){return{$$typeof:yp,_payload:{_status:-1,_result:e},_init:jp}};Se.memo=function(e,t){return{$$typeof:gp,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=Sa.transition;Sa.transition={};try{e()}finally{Sa.transition=t}};Se.unstable_act=xd;Se.useCallback=function(e,t){return bt.current.useCallback(e,t)};Se.useContext=function(e){return bt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return bt.current.useDeferredValue(e)};Se.useEffect=function(e,t){return bt.current.useEffect(e,t)};Se.useId=function(){return bt.current.useId()};Se.useImperativeHandle=function(e,t,n){return bt.current.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return bt.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return bt.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return bt.current.useMemo(e,t)};Se.useReducer=function(e,t,n){return bt.current.useReducer(e,t,n)};Se.useRef=function(e){return bt.current.useRef(e)};Se.useState=function(e){return bt.current.useState(e)};Se.useSyncExternalStore=function(e,t,n){return bt.current.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return bt.current.useTransition()};Se.version="18.3.1";id.exports=Se;var c=id.exports;const Le=ip(c),Wr=op({__proto__:null,default:Le},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=c,kp=Symbol.for("react.element"),Cp=Symbol.for("react.fragment"),Ep=Object.prototype.hasOwnProperty,Pp=Sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tp={key:!0,ref:!0,__self:!0,__source:!0};function gd(e,t,n){var r,a={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Ep.call(t,r)&&!Tp.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:kp,type:e,key:l,ref:o,props:a,_owner:Pp.current}}fl.Fragment=Cp;fl.jsx=gd;fl.jsxs=gd;od.exports=fl;var s=od.exports,So={},yd={exports:{}},Rt={},vd={exports:{}},wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,b){var C=j.length;j.push(b);e:for(;0<C;){var L=C-1>>>1,T=j[L];if(0<a(T,b))j[L]=b,j[C]=T,C=L;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var b=j[0],C=j.pop();if(C!==b){j[0]=C;e:for(var L=0,T=j.length,Y=T>>>1;L<Y;){var ee=2*(L+1)-1,ve=j[ee],Ae=ee+1,W=j[Ae];if(0>a(ve,C))Ae<T&&0>a(W,ve)?(j[L]=W,j[Ae]=C,L=Ae):(j[L]=ve,j[ee]=C,L=ee);else if(Ae<T&&0>a(W,C))j[L]=W,j[Ae]=C,L=Ae;else break e}}return b}function a(j,b){var C=j.sortIndex-b.sortIndex;return C!==0?C:j.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var u=[],d=[],m=1,p=null,g=3,w=!1,S=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var b=n(d);b!==null;){if(b.callback===null)r(d);else if(b.startTime<=j)r(d),b.sortIndex=b.expirationTime,t(u,b);else break;b=n(d)}}function N(j){if(y=!1,x(j),!S)if(n(u)!==null)S=!0,z(E);else{var b=n(d);b!==null&&q(N,b.startTime-j)}}function E(j,b){S=!1,y&&(y=!1,h(U),U=-1),w=!0;var C=g;try{for(x(b),p=n(u);p!==null&&(!(p.expirationTime>b)||j&&!ne());){var L=p.callback;if(typeof L=="function"){p.callback=null,g=p.priorityLevel;var T=L(p.expirationTime<=b);b=e.unstable_now(),typeof T=="function"?p.callback=T:p===n(u)&&r(u),x(b)}else r(u);p=n(u)}if(p!==null)var Y=!0;else{var ee=n(d);ee!==null&&q(N,ee.startTime-b),Y=!1}return Y}finally{p=null,g=C,w=!1}}var P=!1,R=null,U=-1,K=5,G=-1;function ne(){return!(e.unstable_now()-G<K)}function pe(){if(R!==null){var j=e.unstable_now();G=j;var b=!0;try{b=R(!0,j)}finally{b?ie():(P=!1,R=null)}}else P=!1}var ie;if(typeof f=="function")ie=function(){f(pe)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,A=O.port2;O.port1.onmessage=pe,ie=function(){A.postMessage(null)}}else ie=function(){v(pe,0)};function z(j){R=j,P||(P=!0,ie())}function q(j,b){U=v(function(){j(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){S||w||(S=!0,z(E))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(j){switch(g){case 1:case 2:case 3:var b=3;break;default:b=g}var C=g;g=b;try{return j()}finally{g=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,b){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var C=g;g=j;try{return b()}finally{g=C}},e.unstable_scheduleCallback=function(j,b,C){var L=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?L+C:L):C=L,j){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=C+T,j={id:m++,callback:b,priorityLevel:j,startTime:C,expirationTime:T,sortIndex:-1},C>L?(j.sortIndex=C,t(d,j),n(u)===null&&j===n(d)&&(y?(h(U),U=-1):y=!0,q(N,C-L))):(j.sortIndex=T,t(u,j),S||w||(S=!0,z(E))),j},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(j){var b=g;return function(){var C=g;g=b;try{return j.apply(this,arguments)}finally{g=C}}}})(wd);vd.exports=wd;var Lp=vd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap=c,$t=Lp;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bd=new Set,Ts={};function fr(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for(Ts[e]=t,e=0;e<t.length;e++)bd.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=Object.prototype.hasOwnProperty,$p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ru={},Iu={};function Rp(e){return ko.call(Iu,e)?!0:ko.call(Ru,e)?!1:$p.test(e)?Iu[e]=!0:(Ru[e]=!0,!1)}function Ip(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Up(e,t,n,r){if(t===null||typeof t>"u"||Ip(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jt(e,t,n,r,a,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dt[e]=new jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dt[t]=new jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dt[e]=new jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dt[e]=new jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dt[e]=new jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dt[e]=new jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dt[e]=new jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dt[e]=new jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dt[e]=new jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ui=/[\-:]([a-z])/g;function Di(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ui,Di);dt[t]=new jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ui,Di);dt[t]=new jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ui,Di);dt[t]=new jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dt[e]=new jt(e,1,!1,e.toLowerCase(),null,!1,!1)});dt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dt[e]=new jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Oi(e,t,n,r){var a=dt.hasOwnProperty(t)?dt[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Up(t,n,a,r)&&(n=null),r||a===null?Rp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var hn=Ap.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ra=Symbol.for("react.element"),kr=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),_i=Symbol.for("react.strict_mode"),Co=Symbol.for("react.profiler"),jd=Symbol.for("react.provider"),Nd=Symbol.for("react.context"),Mi=Symbol.for("react.forward_ref"),Eo=Symbol.for("react.suspense"),Po=Symbol.for("react.suspense_list"),Fi=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Sd=Symbol.for("react.offscreen"),Uu=Symbol.iterator;function ss(e){return e===null||typeof e!="object"?null:(e=Uu&&e[Uu]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,_l;function ps(e){if(_l===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_l=t&&t[1]||""}return`
`+_l+e}var Ml=!1;function Fl(e,t){if(!e||Ml)return"";Ml=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=r.stack.split(`
`),o=a.length-1,i=l.length-1;1<=o&&0<=i&&a[o]!==l[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==l[i]){if(o!==1||i!==1)do if(o--,i--,0>i||a[o]!==l[i]){var u=`
`+a[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=i);break}}}finally{Ml=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ps(e):""}function Dp(e){switch(e.tag){case 5:return ps(e.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 2:case 15:return e=Fl(e.type,!1),e;case 11:return e=Fl(e.type.render,!1),e;case 1:return e=Fl(e.type,!0),e;default:return""}}function To(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case kr:return"Portal";case Co:return"Profiler";case _i:return"StrictMode";case Eo:return"Suspense";case Po:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nd:return(e.displayName||"Context")+".Consumer";case jd:return(e._context.displayName||"Context")+".Provider";case Mi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fi:return t=e.displayName||null,t!==null?t:To(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return To(e(t))}catch{}}return null}function Op(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return To(t);case 8:return t===_i?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function On(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _p(e){var t=kd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sa(e){e._valueTracker||(e._valueTracker=_p(e))}function Cd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=kd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Da(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lo(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Du(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=On(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ed(e,t){t=t.checked,t!=null&&Oi(e,"checked",t,!1)}function Ao(e,t){Ed(e,t);var n=On(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$o(e,t.type,n):t.hasOwnProperty("defaultValue")&&$o(e,t.type,On(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ou(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $o(e,t,n){(t!=="number"||Da(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hs=Array.isArray;function Or(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+On(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ro(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _u(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(hs(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:On(n)}}function Pd(e,t){var n=On(t.value),r=On(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Mu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Td(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Io(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Td(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var aa,Ld=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(aa=aa||document.createElement("div"),aa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=aa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ls(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mp=["Webkit","ms","Moz","O"];Object.keys(ws).forEach(function(e){Mp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ws[t]=ws[e]})});function Ad(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ws.hasOwnProperty(e)&&ws[e]?(""+t).trim():t+"px"}function $d(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Ad(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var Fp=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uo(e,t){if(t){if(Fp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Do(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oo=null;function Bi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _o=null,_r=null,Mr=null;function Fu(e){if(e=Js(e)){if(typeof _o!="function")throw Error(F(280));var t=e.stateNode;t&&(t=gl(t),_o(e.stateNode,e.type,t))}}function Rd(e){_r?Mr?Mr.push(e):Mr=[e]:_r=e}function Id(){if(_r){var e=_r,t=Mr;if(Mr=_r=null,Fu(e),t)for(e=0;e<t.length;e++)Fu(t[e])}}function Ud(e,t){return e(t)}function Dd(){}var Bl=!1;function Od(e,t,n){if(Bl)return e(t,n);Bl=!0;try{return Ud(e,t,n)}finally{Bl=!1,(_r!==null||Mr!==null)&&(Dd(),Id())}}function As(e,t){var n=e.stateNode;if(n===null)return null;var r=gl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Mo=!1;if(cn)try{var as={};Object.defineProperty(as,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{Mo=!1}function Bp(e,t,n,r,a,l,o,i,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var bs=!1,Oa=null,_a=!1,Fo=null,zp={onError:function(e){bs=!0,Oa=e}};function Wp(e,t,n,r,a,l,o,i,u){bs=!1,Oa=null,Bp.apply(zp,arguments)}function Gp(e,t,n,r,a,l,o,i,u){if(Wp.apply(this,arguments),bs){if(bs){var d=Oa;bs=!1,Oa=null}else throw Error(F(198));_a||(_a=!0,Fo=d)}}function mr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bu(e){if(mr(e)!==e)throw Error(F(188))}function Hp(e){var t=e.alternate;if(!t){if(t=mr(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return Bu(a),e;if(l===r)return Bu(a),t;l=l.sibling}throw Error(F(188))}if(n.return!==r.return)n=a,r=l;else{for(var o=!1,i=a.child;i;){if(i===n){o=!0,n=a,r=l;break}if(i===r){o=!0,r=a,n=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===n){o=!0,n=l,r=a;break}if(i===r){o=!0,r=l,n=a;break}i=i.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Md(e){return e=Hp(e),e!==null?Fd(e):null}function Fd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fd(e);if(t!==null)return t;e=e.sibling}return null}var Bd=$t.unstable_scheduleCallback,zu=$t.unstable_cancelCallback,Vp=$t.unstable_shouldYield,Kp=$t.unstable_requestPaint,Xe=$t.unstable_now,qp=$t.unstable_getCurrentPriorityLevel,zi=$t.unstable_ImmediatePriority,zd=$t.unstable_UserBlockingPriority,Ma=$t.unstable_NormalPriority,Qp=$t.unstable_LowPriority,Wd=$t.unstable_IdlePriority,ml=null,Jt=null;function Yp(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ml,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Xp,Jp=Math.log,Zp=Math.LN2;function Xp(e){return e>>>=0,e===0?32:31-(Jp(e)/Zp|0)|0}var la=64,oa=4194304;function xs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var i=o&~a;i!==0?r=xs(i):(l&=o,l!==0&&(r=xs(l)))}else o=n&~a,o!==0?r=xs(o):l!==0&&(r=xs(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ht(t),a=1<<n,r|=e[n],t&=~a;return r}function eh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function th(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Ht(l),i=1<<o,u=a[o];u===-1?(!(i&n)||i&r)&&(a[o]=eh(i,t)):u<=t&&(e.expiredLanes|=i),l&=~i}}function Bo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gd(){var e=la;return la<<=1,!(la&4194240)&&(la=64),e}function zl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=n}function nh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Ht(n),l=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~l}}function Wi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ht(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var _e=0;function Hd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vd,Gi,Kd,qd,Qd,zo=!1,ia=[],Pn=null,Tn=null,Ln=null,$s=new Map,Rs=new Map,jn=[],rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wu(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":$s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(t.pointerId)}}function ls(e,t,n,r,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Js(t),t!==null&&Gi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function sh(e,t,n,r,a){switch(t){case"focusin":return Pn=ls(Pn,e,t,n,r,a),!0;case"dragenter":return Tn=ls(Tn,e,t,n,r,a),!0;case"mouseover":return Ln=ls(Ln,e,t,n,r,a),!0;case"pointerover":var l=a.pointerId;return $s.set(l,ls($s.get(l)||null,e,t,n,r,a)),!0;case"gotpointercapture":return l=a.pointerId,Rs.set(l,ls(Rs.get(l)||null,e,t,n,r,a)),!0}return!1}function Yd(e){var t=Xn(e.target);if(t!==null){var n=mr(t);if(n!==null){if(t=n.tag,t===13){if(t=_d(n),t!==null){e.blockedOn=t,Qd(e.priority,function(){Kd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ka(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Oo=r,n.target.dispatchEvent(r),Oo=null}else return t=Js(n),t!==null&&Gi(t),e.blockedOn=n,!1;t.shift()}return!0}function Gu(e,t,n){ka(e)&&n.delete(t)}function ah(){zo=!1,Pn!==null&&ka(Pn)&&(Pn=null),Tn!==null&&ka(Tn)&&(Tn=null),Ln!==null&&ka(Ln)&&(Ln=null),$s.forEach(Gu),Rs.forEach(Gu)}function os(e,t){e.blockedOn===t&&(e.blockedOn=null,zo||(zo=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,ah)))}function Is(e){function t(a){return os(a,e)}if(0<ia.length){os(ia[0],e);for(var n=1;n<ia.length;n++){var r=ia[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pn!==null&&os(Pn,e),Tn!==null&&os(Tn,e),Ln!==null&&os(Ln,e),$s.forEach(t),Rs.forEach(t),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)Yd(n),n.blockedOn===null&&jn.shift()}var Fr=hn.ReactCurrentBatchConfig,Ba=!0;function lh(e,t,n,r){var a=_e,l=Fr.transition;Fr.transition=null;try{_e=1,Hi(e,t,n,r)}finally{_e=a,Fr.transition=l}}function oh(e,t,n,r){var a=_e,l=Fr.transition;Fr.transition=null;try{_e=4,Hi(e,t,n,r)}finally{_e=a,Fr.transition=l}}function Hi(e,t,n,r){if(Ba){var a=Wo(e,t,n,r);if(a===null)Zl(e,t,r,za,n),Wu(e,r);else if(sh(a,e,t,n,r))r.stopPropagation();else if(Wu(e,r),t&4&&-1<rh.indexOf(e)){for(;a!==null;){var l=Js(a);if(l!==null&&Vd(l),l=Wo(e,t,n,r),l===null&&Zl(e,t,r,za,n),l===a)break;a=l}a!==null&&r.stopPropagation()}else Zl(e,t,r,null,n)}}var za=null;function Wo(e,t,n,r){if(za=null,e=Bi(r),e=Xn(e),e!==null)if(t=mr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return za=e,null}function Jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qp()){case zi:return 1;case zd:return 4;case Ma:case Qp:return 16;case Wd:return 536870912;default:return 16}default:return 16}}var kn=null,Vi=null,Ca=null;function Zd(){if(Ca)return Ca;var e,t=Vi,n=t.length,r,a="value"in kn?kn.value:kn.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[l-r];r++);return Ca=a.slice(e,1<r?1-r:void 0)}function Ea(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ua(){return!0}function Hu(){return!1}function It(e){function t(n,r,a,l,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ua:Hu,this.isPropagationStopped=Hu,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),t}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=It(Xr),Ys=Ke({},Xr,{view:0,detail:0}),ih=It(Ys),Wl,Gl,is,pl=Ke({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==is&&(is&&e.type==="mousemove"?(Wl=e.screenX-is.screenX,Gl=e.screenY-is.screenY):Gl=Wl=0,is=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:Gl}}),Vu=It(pl),uh=Ke({},pl,{dataTransfer:0}),ch=It(uh),dh=Ke({},Ys,{relatedTarget:0}),Hl=It(dh),fh=Ke({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),mh=It(fh),ph=Ke({},Xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hh=It(ph),xh=Ke({},Xr,{data:0}),Ku=It(xh),gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vh[e])?!!t[e]:!1}function qi(){return wh}var bh=Ke({},Ys,{key:function(e){if(e.key){var t=gh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ea(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qi,charCode:function(e){return e.type==="keypress"?Ea(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ea(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jh=It(bh),Nh=Ke({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qu=It(Nh),Sh=Ke({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qi}),kh=It(Sh),Ch=Ke({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eh=It(Ch),Ph=Ke({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Th=It(Ph),Lh=[9,13,27,32],Qi=cn&&"CompositionEvent"in window,js=null;cn&&"documentMode"in document&&(js=document.documentMode);var Ah=cn&&"TextEvent"in window&&!js,Xd=cn&&(!Qi||js&&8<js&&11>=js),Qu=" ",Yu=!1;function ef(e,t){switch(e){case"keyup":return Lh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Er=!1;function $h(e,t){switch(e){case"compositionend":return tf(t);case"keypress":return t.which!==32?null:(Yu=!0,Qu);case"textInput":return e=t.data,e===Qu&&Yu?null:e;default:return null}}function Rh(e,t){if(Er)return e==="compositionend"||!Qi&&ef(e,t)?(e=Zd(),Ca=Vi=kn=null,Er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xd&&t.locale!=="ko"?null:t.data;default:return null}}var Ih={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ih[e.type]:t==="textarea"}function nf(e,t,n,r){Rd(r),t=Wa(t,"onChange"),0<t.length&&(n=new Ki("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ns=null,Us=null;function Uh(e){pf(e,0)}function hl(e){var t=Lr(e);if(Cd(t))return e}function Dh(e,t){if(e==="change")return t}var rf=!1;if(cn){var Vl;if(cn){var Kl="oninput"in document;if(!Kl){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),Kl=typeof Zu.oninput=="function"}Vl=Kl}else Vl=!1;rf=Vl&&(!document.documentMode||9<document.documentMode)}function Xu(){Ns&&(Ns.detachEvent("onpropertychange",sf),Us=Ns=null)}function sf(e){if(e.propertyName==="value"&&hl(Us)){var t=[];nf(t,Us,e,Bi(e)),Od(Uh,t)}}function Oh(e,t,n){e==="focusin"?(Xu(),Ns=t,Us=n,Ns.attachEvent("onpropertychange",sf)):e==="focusout"&&Xu()}function _h(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hl(Us)}function Mh(e,t){if(e==="click")return hl(t)}function Fh(e,t){if(e==="input"||e==="change")return hl(t)}function Bh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:Bh;function Ds(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!ko.call(t,a)||!Kt(e[a],t[a]))return!1}return!0}function ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tc(e,t){var n=ec(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ec(n)}}function af(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?af(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lf(){for(var e=window,t=Da();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Da(e.document)}return t}function Yi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zh(e){var t=lf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&af(n.ownerDocument.documentElement,n)){if(r!==null&&Yi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!e.extend&&l>r&&(a=r,r=l,l=a),a=tc(n,l);var o=tc(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wh=cn&&"documentMode"in document&&11>=document.documentMode,Pr=null,Go=null,Ss=null,Ho=!1;function nc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ho||Pr==null||Pr!==Da(r)||(r=Pr,"selectionStart"in r&&Yi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ss&&Ds(Ss,r)||(Ss=r,r=Wa(Go,"onSelect"),0<r.length&&(t=new Ki("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pr)))}function ca(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionend:ca("Transition","TransitionEnd")},ql={},of={};cn&&(of=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function xl(e){if(ql[e])return ql[e];if(!Tr[e])return e;var t=Tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in of)return ql[e]=t[n];return e}var uf=xl("animationend"),cf=xl("animationiteration"),df=xl("animationstart"),ff=xl("transitionend"),mf=new Map,rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(e,t){mf.set(e,t),fr(t,[e])}for(var Ql=0;Ql<rc.length;Ql++){var Yl=rc[Ql],Gh=Yl.toLowerCase(),Hh=Yl[0].toUpperCase()+Yl.slice(1);Fn(Gh,"on"+Hh)}Fn(uf,"onAnimationEnd");Fn(cf,"onAnimationIteration");Fn(df,"onAnimationStart");Fn("dblclick","onDoubleClick");Fn("focusin","onFocus");Fn("focusout","onBlur");Fn(ff,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vh=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function sc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gp(r,t,void 0,e),e.currentTarget=null}function pf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],u=i.instance,d=i.currentTarget;if(i=i.listener,u!==l&&a.isPropagationStopped())break e;sc(a,i,d),l=u}else for(o=0;o<r.length;o++){if(i=r[o],u=i.instance,d=i.currentTarget,i=i.listener,u!==l&&a.isPropagationStopped())break e;sc(a,i,d),l=u}}}if(_a)throw e=Fo,_a=!1,Fo=null,e}function Fe(e,t){var n=t[Yo];n===void 0&&(n=t[Yo]=new Set);var r=e+"__bubble";n.has(r)||(hf(t,e,2,!1),n.add(r))}function Jl(e,t,n){var r=0;t&&(r|=4),hf(n,e,r,t)}var da="_reactListening"+Math.random().toString(36).slice(2);function Os(e){if(!e[da]){e[da]=!0,bd.forEach(function(n){n!=="selectionchange"&&(Vh.has(n)||Jl(n,!1,e),Jl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[da]||(t[da]=!0,Jl("selectionchange",!1,t))}}function hf(e,t,n,r){switch(Jd(t)){case 1:var a=lh;break;case 4:a=oh;break;default:a=Hi}n=a.bind(null,t,n,e),a=void 0,!Mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Zl(e,t,n,r,a){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var i=r.stateNode.containerInfo;if(i===a||i.nodeType===8&&i.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;o=o.return}for(;i!==null;){if(o=Xn(i),o===null)return;if(u=o.tag,u===5||u===6){r=l=o;continue e}i=i.parentNode}}r=r.return}Od(function(){var d=l,m=Bi(n),p=[];e:{var g=mf.get(e);if(g!==void 0){var w=Ki,S=e;switch(e){case"keypress":if(Ea(n)===0)break e;case"keydown":case"keyup":w=jh;break;case"focusin":S="focus",w=Hl;break;case"focusout":S="blur",w=Hl;break;case"beforeblur":case"afterblur":w=Hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=kh;break;case uf:case cf:case df:w=mh;break;case ff:w=Eh;break;case"scroll":w=ih;break;case"wheel":w=Th;break;case"copy":case"cut":case"paste":w=hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=qu}var y=(t&4)!==0,v=!y&&e==="scroll",h=y?g!==null?g+"Capture":null:g;y=[];for(var f=d,x;f!==null;){x=f;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,h!==null&&(N=As(f,h),N!=null&&y.push(_s(f,N,x)))),v)break;f=f.return}0<y.length&&(g=new w(g,S,null,n,m),p.push({event:g,listeners:y}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",g&&n!==Oo&&(S=n.relatedTarget||n.fromElement)&&(Xn(S)||S[dn]))break e;if((w||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,w?(S=n.relatedTarget||n.toElement,w=d,S=S?Xn(S):null,S!==null&&(v=mr(S),S!==v||S.tag!==5&&S.tag!==6)&&(S=null)):(w=null,S=d),w!==S)){if(y=Vu,N="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=qu,N="onPointerLeave",h="onPointerEnter",f="pointer"),v=w==null?g:Lr(w),x=S==null?g:Lr(S),g=new y(N,f+"leave",w,n,m),g.target=v,g.relatedTarget=x,N=null,Xn(m)===d&&(y=new y(h,f+"enter",S,n,m),y.target=x,y.relatedTarget=v,N=y),v=N,w&&S)t:{for(y=w,h=S,f=0,x=y;x;x=yr(x))f++;for(x=0,N=h;N;N=yr(N))x++;for(;0<f-x;)y=yr(y),f--;for(;0<x-f;)h=yr(h),x--;for(;f--;){if(y===h||h!==null&&y===h.alternate)break t;y=yr(y),h=yr(h)}y=null}else y=null;w!==null&&ac(p,g,w,y,!1),S!==null&&v!==null&&ac(p,v,S,y,!0)}}e:{if(g=d?Lr(d):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var E=Dh;else if(Ju(g))if(rf)E=Fh;else{E=_h;var P=Oh}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(E=Mh);if(E&&(E=E(e,d))){nf(p,E,n,m);break e}P&&P(e,g,d),e==="focusout"&&(P=g._wrapperState)&&P.controlled&&g.type==="number"&&$o(g,"number",g.value)}switch(P=d?Lr(d):window,e){case"focusin":(Ju(P)||P.contentEditable==="true")&&(Pr=P,Go=d,Ss=null);break;case"focusout":Ss=Go=Pr=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,nc(p,n,m);break;case"selectionchange":if(Wh)break;case"keydown":case"keyup":nc(p,n,m)}var R;if(Qi)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Er?ef(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(Xd&&n.locale!=="ko"&&(Er||U!=="onCompositionStart"?U==="onCompositionEnd"&&Er&&(R=Zd()):(kn=m,Vi="value"in kn?kn.value:kn.textContent,Er=!0)),P=Wa(d,U),0<P.length&&(U=new Ku(U,e,null,n,m),p.push({event:U,listeners:P}),R?U.data=R:(R=tf(n),R!==null&&(U.data=R)))),(R=Ah?$h(e,n):Rh(e,n))&&(d=Wa(d,"onBeforeInput"),0<d.length&&(m=new Ku("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:d}),m.data=R))}pf(p,t)})}function _s(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wa(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=As(e,n),l!=null&&r.unshift(_s(e,l,a)),l=As(e,t),l!=null&&r.push(_s(e,l,a))),e=e.return}return r}function yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ac(e,t,n,r,a){for(var l=t._reactName,o=[];n!==null&&n!==r;){var i=n,u=i.alternate,d=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&d!==null&&(i=d,a?(u=As(n,l),u!=null&&o.unshift(_s(n,u,i))):a||(u=As(n,l),u!=null&&o.push(_s(n,u,i)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Kh=/\r\n?/g,qh=/\u0000|\uFFFD/g;function lc(e){return(typeof e=="string"?e:""+e).replace(Kh,`
`).replace(qh,"")}function fa(e,t,n){if(t=lc(t),lc(e)!==t&&n)throw Error(F(425))}function Ga(){}var Vo=null,Ko=null;function qo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qo=typeof setTimeout=="function"?setTimeout:void 0,Qh=typeof clearTimeout=="function"?clearTimeout:void 0,oc=typeof Promise=="function"?Promise:void 0,Yh=typeof queueMicrotask=="function"?queueMicrotask:typeof oc<"u"?function(e){return oc.resolve(null).then(e).catch(Jh)}:Qo;function Jh(e){setTimeout(function(){throw e})}function Xl(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Is(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Is(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ic(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),Yt="__reactFiber$"+es,Ms="__reactProps$"+es,dn="__reactContainer$"+es,Yo="__reactEvents$"+es,Zh="__reactListeners$"+es,Xh="__reactHandles$"+es;function Xn(e){var t=e[Yt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dn]||n[Yt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ic(e);e!==null;){if(n=e[Yt])return n;e=ic(e)}return t}e=n,n=e.parentNode}return null}function Js(e){return e=e[Yt]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function gl(e){return e[Ms]||null}var Jo=[],Ar=-1;function Bn(e){return{current:e}}function Be(e){0>Ar||(e.current=Jo[Ar],Jo[Ar]=null,Ar--)}function Me(e,t){Ar++,Jo[Ar]=e.current,e.current=t}var _n={},gt=Bn(_n),kt=Bn(!1),or=_n;function Hr(e,t){var n=e.type.contextTypes;if(!n)return _n;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ct(e){return e=e.childContextTypes,e!=null}function Ha(){Be(kt),Be(gt)}function uc(e,t,n){if(gt.current!==_n)throw Error(F(168));Me(gt,t),Me(kt,n)}function xf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(F(108,Op(e)||"Unknown",a));return Ke({},n,r)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_n,or=gt.current,Me(gt,e),Me(kt,kt.current),!0}function cc(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=xf(e,t,or),r.__reactInternalMemoizedMergedChildContext=e,Be(kt),Be(gt),Me(gt,e)):Be(kt),Me(kt,n)}var sn=null,yl=!1,eo=!1;function gf(e){sn===null?sn=[e]:sn.push(e)}function e0(e){yl=!0,gf(e)}function zn(){if(!eo&&sn!==null){eo=!0;var e=0,t=_e;try{var n=sn;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sn=null,yl=!1}catch(a){throw sn!==null&&(sn=sn.slice(e+1)),Bd(zi,zn),a}finally{_e=t,eo=!1}}return null}var $r=[],Rr=0,Ka=null,qa=0,Ut=[],Dt=0,ir=null,an=1,ln="";function Yn(e,t){$r[Rr++]=qa,$r[Rr++]=Ka,Ka=e,qa=t}function yf(e,t,n){Ut[Dt++]=an,Ut[Dt++]=ln,Ut[Dt++]=ir,ir=e;var r=an;e=ln;var a=32-Ht(r)-1;r&=~(1<<a),n+=1;var l=32-Ht(t)+a;if(30<l){var o=a-a%5;l=(r&(1<<o)-1).toString(32),r>>=o,a-=o,an=1<<32-Ht(t)+a|n<<a|r,ln=l+e}else an=1<<l|n<<a|r,ln=e}function Ji(e){e.return!==null&&(Yn(e,1),yf(e,1,0))}function Zi(e){for(;e===Ka;)Ka=$r[--Rr],$r[Rr]=null,qa=$r[--Rr],$r[Rr]=null;for(;e===ir;)ir=Ut[--Dt],Ut[Dt]=null,ln=Ut[--Dt],Ut[Dt]=null,an=Ut[--Dt],Ut[Dt]=null}var At=null,Lt=null,We=!1,Gt=null;function vf(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,Lt=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ir!==null?{id:an,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,At=e,Lt=null,!0):!1;default:return!1}}function Zo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xo(e){if(We){var t=Lt;if(t){var n=t;if(!dc(e,t)){if(Zo(e))throw Error(F(418));t=An(n.nextSibling);var r=At;t&&dc(e,t)?vf(r,n):(e.flags=e.flags&-4097|2,We=!1,At=e)}}else{if(Zo(e))throw Error(F(418));e.flags=e.flags&-4097|2,We=!1,At=e}}}function fc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function ma(e){if(e!==At)return!1;if(!We)return fc(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qo(e.type,e.memoizedProps)),t&&(t=Lt)){if(Zo(e))throw wf(),Error(F(418));for(;t;)vf(e,t),t=An(t.nextSibling)}if(fc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=An(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=At?An(e.stateNode.nextSibling):null;return!0}function wf(){for(var e=Lt;e;)e=An(e.nextSibling)}function Vr(){Lt=At=null,We=!1}function Xi(e){Gt===null?Gt=[e]:Gt.push(e)}var t0=hn.ReactCurrentBatchConfig;function us(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var a=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var i=a.refs;o===null?delete i[l]:i[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function pa(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mc(e){var t=e._init;return t(e._payload)}function bf(e){function t(h,f){if(e){var x=h.deletions;x===null?(h.deletions=[f],h.flags|=16):x.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function a(h,f){return h=Un(h,f),h.index=0,h.sibling=null,h}function l(h,f,x){return h.index=x,e?(x=h.alternate,x!==null?(x=x.index,x<f?(h.flags|=2,f):x):(h.flags|=2,f)):(h.flags|=1048576,f)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,f,x,N){return f===null||f.tag!==6?(f=oo(x,h.mode,N),f.return=h,f):(f=a(f,x),f.return=h,f)}function u(h,f,x,N){var E=x.type;return E===Cr?m(h,f,x.props.children,N,x.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===wn&&mc(E)===f.type)?(N=a(f,x.props),N.ref=us(h,f,x),N.return=h,N):(N=Ia(x.type,x.key,x.props,null,h.mode,N),N.ref=us(h,f,x),N.return=h,N)}function d(h,f,x,N){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=io(x,h.mode,N),f.return=h,f):(f=a(f,x.children||[]),f.return=h,f)}function m(h,f,x,N,E){return f===null||f.tag!==7?(f=ar(x,h.mode,N,E),f.return=h,f):(f=a(f,x),f.return=h,f)}function p(h,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=oo(""+f,h.mode,x),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ra:return x=Ia(f.type,f.key,f.props,null,h.mode,x),x.ref=us(h,null,f),x.return=h,x;case kr:return f=io(f,h.mode,x),f.return=h,f;case wn:var N=f._init;return p(h,N(f._payload),x)}if(hs(f)||ss(f))return f=ar(f,h.mode,x,null),f.return=h,f;pa(h,f)}return null}function g(h,f,x,N){var E=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return E!==null?null:i(h,f,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ra:return x.key===E?u(h,f,x,N):null;case kr:return x.key===E?d(h,f,x,N):null;case wn:return E=x._init,g(h,f,E(x._payload),N)}if(hs(x)||ss(x))return E!==null?null:m(h,f,x,N,null);pa(h,x)}return null}function w(h,f,x,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return h=h.get(x)||null,i(f,h,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ra:return h=h.get(N.key===null?x:N.key)||null,u(f,h,N,E);case kr:return h=h.get(N.key===null?x:N.key)||null,d(f,h,N,E);case wn:var P=N._init;return w(h,f,x,P(N._payload),E)}if(hs(N)||ss(N))return h=h.get(x)||null,m(f,h,N,E,null);pa(f,N)}return null}function S(h,f,x,N){for(var E=null,P=null,R=f,U=f=0,K=null;R!==null&&U<x.length;U++){R.index>U?(K=R,R=null):K=R.sibling;var G=g(h,R,x[U],N);if(G===null){R===null&&(R=K);break}e&&R&&G.alternate===null&&t(h,R),f=l(G,f,U),P===null?E=G:P.sibling=G,P=G,R=K}if(U===x.length)return n(h,R),We&&Yn(h,U),E;if(R===null){for(;U<x.length;U++)R=p(h,x[U],N),R!==null&&(f=l(R,f,U),P===null?E=R:P.sibling=R,P=R);return We&&Yn(h,U),E}for(R=r(h,R);U<x.length;U++)K=w(R,h,U,x[U],N),K!==null&&(e&&K.alternate!==null&&R.delete(K.key===null?U:K.key),f=l(K,f,U),P===null?E=K:P.sibling=K,P=K);return e&&R.forEach(function(ne){return t(h,ne)}),We&&Yn(h,U),E}function y(h,f,x,N){var E=ss(x);if(typeof E!="function")throw Error(F(150));if(x=E.call(x),x==null)throw Error(F(151));for(var P=E=null,R=f,U=f=0,K=null,G=x.next();R!==null&&!G.done;U++,G=x.next()){R.index>U?(K=R,R=null):K=R.sibling;var ne=g(h,R,G.value,N);if(ne===null){R===null&&(R=K);break}e&&R&&ne.alternate===null&&t(h,R),f=l(ne,f,U),P===null?E=ne:P.sibling=ne,P=ne,R=K}if(G.done)return n(h,R),We&&Yn(h,U),E;if(R===null){for(;!G.done;U++,G=x.next())G=p(h,G.value,N),G!==null&&(f=l(G,f,U),P===null?E=G:P.sibling=G,P=G);return We&&Yn(h,U),E}for(R=r(h,R);!G.done;U++,G=x.next())G=w(R,h,U,G.value,N),G!==null&&(e&&G.alternate!==null&&R.delete(G.key===null?U:G.key),f=l(G,f,U),P===null?E=G:P.sibling=G,P=G);return e&&R.forEach(function(pe){return t(h,pe)}),We&&Yn(h,U),E}function v(h,f,x,N){if(typeof x=="object"&&x!==null&&x.type===Cr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ra:e:{for(var E=x.key,P=f;P!==null;){if(P.key===E){if(E=x.type,E===Cr){if(P.tag===7){n(h,P.sibling),f=a(P,x.props.children),f.return=h,h=f;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===wn&&mc(E)===P.type){n(h,P.sibling),f=a(P,x.props),f.ref=us(h,P,x),f.return=h,h=f;break e}n(h,P);break}else t(h,P);P=P.sibling}x.type===Cr?(f=ar(x.props.children,h.mode,N,x.key),f.return=h,h=f):(N=Ia(x.type,x.key,x.props,null,h.mode,N),N.ref=us(h,f,x),N.return=h,h=N)}return o(h);case kr:e:{for(P=x.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){n(h,f.sibling),f=a(f,x.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=io(x,h.mode,N),f.return=h,h=f}return o(h);case wn:return P=x._init,v(h,f,P(x._payload),N)}if(hs(x))return S(h,f,x,N);if(ss(x))return y(h,f,x,N);pa(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(n(h,f.sibling),f=a(f,x),f.return=h,h=f):(n(h,f),f=oo(x,h.mode,N),f.return=h,h=f),o(h)):n(h,f)}return v}var Kr=bf(!0),jf=bf(!1),Qa=Bn(null),Ya=null,Ir=null,eu=null;function tu(){eu=Ir=Ya=null}function nu(e){var t=Qa.current;Be(Qa),e._currentValue=t}function ei(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Br(e,t){Ya=e,eu=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(St=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(eu!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(Ya===null)throw Error(F(308));Ir=e,Ya.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var er=null;function ru(e){er===null?er=[e]:er.push(e)}function Nf(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,ru(t)):(n.next=a.next,a.next=n),t.interleaved=n,fn(e,r)}function fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bn=!1;function su(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,fn(e,n)}return a=r.interleaved,a===null?(t.next=t,ru(r)):(t.next=a.next,a.next=t),r.interleaved=t,fn(e,n)}function Pa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wi(e,n)}}function pc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ja(e,t,n,r){var a=e.updateQueue;bn=!1;var l=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var u=i,d=u.next;u.next=null,o===null?l=d:o.next=d,o=u;var m=e.alternate;m!==null&&(m=m.updateQueue,i=m.lastBaseUpdate,i!==o&&(i===null?m.firstBaseUpdate=d:i.next=d,m.lastBaseUpdate=u))}if(l!==null){var p=a.baseState;o=0,m=d=u=null,i=l;do{var g=i.lane,w=i.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:w,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var S=e,y=i;switch(g=t,w=n,y.tag){case 1:if(S=y.payload,typeof S=="function"){p=S.call(w,p,g);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=y.payload,g=typeof S=="function"?S.call(w,p,g):S,g==null)break e;p=Ke({},p,g);break e;case 2:bn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,g=a.effects,g===null?a.effects=[i]:g.push(i))}else w={eventTime:w,lane:g,tag:i.tag,payload:i.payload,callback:i.callback,next:null},m===null?(d=m=w,u=p):m=m.next=w,o|=g;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;g=i,i=g.next,g.next=null,a.lastBaseUpdate=g,a.shared.pending=null}}while(!0);if(m===null&&(u=p),a.baseState=u,a.firstBaseUpdate=d,a.lastBaseUpdate=m,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);cr|=o,e.lanes=o,e.memoizedState=p}}function hc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(F(191,a));a.call(r)}}}var Zs={},Zt=Bn(Zs),Fs=Bn(Zs),Bs=Bn(Zs);function tr(e){if(e===Zs)throw Error(F(174));return e}function au(e,t){switch(Me(Bs,t),Me(Fs,e),Me(Zt,Zs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Io(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Io(t,e)}Be(Zt),Me(Zt,t)}function qr(){Be(Zt),Be(Fs),Be(Bs)}function kf(e){tr(Bs.current);var t=tr(Zt.current),n=Io(t,e.type);t!==n&&(Me(Fs,e),Me(Zt,n))}function lu(e){Fs.current===e&&(Be(Zt),Be(Fs))}var He=Bn(0);function Za(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ou(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var Ta=hn.ReactCurrentDispatcher,no=hn.ReactCurrentBatchConfig,ur=0,Ve=null,rt=null,lt=null,Xa=!1,ks=!1,zs=0,n0=0;function mt(){throw Error(F(321))}function iu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function uu(e,t,n,r,a,l){if(ur=l,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ta.current=e===null||e.memoizedState===null?l0:o0,e=n(r,a),ks){l=0;do{if(ks=!1,zs=0,25<=l)throw Error(F(301));l+=1,lt=rt=null,t.updateQueue=null,Ta.current=i0,e=n(r,a)}while(ks)}if(Ta.current=el,t=rt!==null&&rt.next!==null,ur=0,lt=rt=Ve=null,Xa=!1,t)throw Error(F(300));return e}function cu(){var e=zs!==0;return zs=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ve.memoizedState=lt=e:lt=lt.next=e,lt}function Ft(){if(rt===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=lt===null?Ve.memoizedState:lt.next;if(t!==null)lt=t,rt=e;else{if(e===null)throw Error(F(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},lt===null?Ve.memoizedState=lt=e:lt=lt.next=e}return lt}function Ws(e,t){return typeof t=="function"?t(e):t}function ro(e){var t=Ft(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=rt,a=r.baseQueue,l=n.pending;if(l!==null){if(a!==null){var o=a.next;a.next=l.next,l.next=o}r.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,r=r.baseState;var i=o=null,u=null,d=l;do{var m=d.lane;if((ur&m)===m)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(i=u=p,o=r):u=u.next=p,Ve.lanes|=m,cr|=m}d=d.next}while(d!==null&&d!==l);u===null?o=r:u.next=i,Kt(r,t.memoizedState)||(St=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do l=a.lane,Ve.lanes|=l,cr|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function so(e){var t=Ft(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do l=e(l,o.action),o=o.next;while(o!==a);Kt(l,t.memoizedState)||(St=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Cf(){}function Ef(e,t){var n=Ve,r=Ft(),a=t(),l=!Kt(r.memoizedState,a);if(l&&(r.memoizedState=a,St=!0),r=r.queue,du(Lf.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,Gs(9,Tf.bind(null,n,r,a,t),void 0,null),ot===null)throw Error(F(349));ur&30||Pf(n,t,a)}return a}function Pf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Tf(e,t,n,r){t.value=n,t.getSnapshot=r,Af(t)&&$f(e)}function Lf(e,t,n){return n(function(){Af(t)&&$f(e)})}function Af(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch{return!0}}function $f(e){var t=fn(e,1);t!==null&&Vt(t,e,1,-1)}function xc(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},t.queue=e,e=e.dispatch=a0.bind(null,Ve,e),[t.memoizedState,e]}function Gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Rf(){return Ft().memoizedState}function La(e,t,n,r){var a=Qt();Ve.flags|=e,a.memoizedState=Gs(1|t,n,void 0,r===void 0?null:r)}function vl(e,t,n,r){var a=Ft();r=r===void 0?null:r;var l=void 0;if(rt!==null){var o=rt.memoizedState;if(l=o.destroy,r!==null&&iu(r,o.deps)){a.memoizedState=Gs(t,n,l,r);return}}Ve.flags|=e,a.memoizedState=Gs(1|t,n,l,r)}function gc(e,t){return La(8390656,8,e,t)}function du(e,t){return vl(2048,8,e,t)}function If(e,t){return vl(4,2,e,t)}function Uf(e,t){return vl(4,4,e,t)}function Df(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Of(e,t,n){return n=n!=null?n.concat([e]):null,vl(4,4,Df.bind(null,t,e),n)}function fu(){}function _f(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&iu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Mf(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&iu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ff(e,t,n){return ur&21?(Kt(n,t)||(n=Gd(),Ve.lanes|=n,cr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=n)}function r0(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=no.transition;no.transition={};try{e(!1),t()}finally{_e=n,no.transition=r}}function Bf(){return Ft().memoizedState}function s0(e,t,n){var r=In(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zf(e))Wf(t,n);else if(n=Nf(e,t,n,r),n!==null){var a=wt();Vt(n,e,r,a),Gf(n,t,r)}}function a0(e,t,n){var r=In(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zf(e))Wf(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,i=l(o,n);if(a.hasEagerState=!0,a.eagerState=i,Kt(i,o)){var u=t.interleaved;u===null?(a.next=a,ru(t)):(a.next=u.next,u.next=a),t.interleaved=a;return}}catch{}finally{}n=Nf(e,t,a,r),n!==null&&(a=wt(),Vt(n,e,r,a),Gf(n,t,r))}}function zf(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function Wf(e,t){ks=Xa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wi(e,n)}}var el={readContext:Mt,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},l0={readContext:Mt,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:gc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,La(4194308,4,Df.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=Qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=s0.bind(null,Ve,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:xc,useDebugValue:fu,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=xc(!1),t=e[0];return e=r0.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ve,a=Qt();if(We){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),ot===null)throw Error(F(349));ur&30||Pf(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,gc(Lf.bind(null,r,l,e),[e]),r.flags|=2048,Gs(9,Tf.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Qt(),t=ot.identifierPrefix;if(We){var n=ln,r=an;n=(r&~(1<<32-Ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=zs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=n0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},o0={readContext:Mt,useCallback:_f,useContext:Mt,useEffect:du,useImperativeHandle:Of,useInsertionEffect:If,useLayoutEffect:Uf,useMemo:Mf,useReducer:ro,useRef:Rf,useState:function(){return ro(Ws)},useDebugValue:fu,useDeferredValue:function(e){var t=Ft();return Ff(t,rt.memoizedState,e)},useTransition:function(){var e=ro(Ws)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Cf,useSyncExternalStore:Ef,useId:Bf,unstable_isNewReconciler:!1},i0={readContext:Mt,useCallback:_f,useContext:Mt,useEffect:du,useImperativeHandle:Of,useInsertionEffect:If,useLayoutEffect:Uf,useMemo:Mf,useReducer:so,useRef:Rf,useState:function(){return so(Ws)},useDebugValue:fu,useDeferredValue:function(e){var t=Ft();return rt===null?t.memoizedState=e:Ff(t,rt.memoizedState,e)},useTransition:function(){var e=so(Ws)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Cf,useSyncExternalStore:Ef,useId:Bf,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ti(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wl={isMounted:function(e){return(e=e._reactInternals)?mr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wt(),a=In(e),l=on(r,a);l.payload=t,n!=null&&(l.callback=n),t=$n(e,l,a),t!==null&&(Vt(t,e,a,r),Pa(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wt(),a=In(e),l=on(r,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=$n(e,l,a),t!==null&&(Vt(t,e,a,r),Pa(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wt(),r=In(e),a=on(n,r);a.tag=2,t!=null&&(a.callback=t),t=$n(e,a,r),t!==null&&(Vt(t,e,r,n),Pa(t,e,r))}};function yc(e,t,n,r,a,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!Ds(n,r)||!Ds(a,l):!0}function Hf(e,t,n){var r=!1,a=_n,l=t.contextType;return typeof l=="object"&&l!==null?l=Mt(l):(a=Ct(t)?or:gt.current,r=t.contextTypes,l=(r=r!=null)?Hr(e,a):_n),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function vc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wl.enqueueReplaceState(t,t.state,null)}function ni(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},su(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Mt(l):(l=Ct(t)?or:gt.current,a.context=Hr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ti(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&wl.enqueueReplaceState(a,a.state,null),Ja(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Qr(e,t){try{var n="",r=t;do n+=Dp(r),r=r.return;while(r);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function ao(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ri(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var u0=typeof WeakMap=="function"?WeakMap:Map;function Vf(e,t,n){n=on(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nl||(nl=!0,mi=r),ri(e,t)},n}function Kf(e,t,n){n=on(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ri(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){ri(e,t),typeof r!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function wc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new u0;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=N0.bind(null,e,t,n),t.then(e,e))}function bc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jc(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=on(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e)}var c0=hn.ReactCurrentOwner,St=!1;function vt(e,t,n,r){t.child=e===null?jf(t,null,n,r):Kr(t,e.child,n,r)}function Nc(e,t,n,r,a){n=n.render;var l=t.ref;return Br(t,a),r=uu(e,t,n,r,l,a),n=cu(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mn(e,t,a)):(We&&n&&Ji(t),t.flags|=1,vt(e,t,r,a),t.child)}function Sc(e,t,n,r,a){if(e===null){var l=n.type;return typeof l=="function"&&!wu(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,qf(e,t,l,r,a)):(e=Ia(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Ds,n(o,r)&&e.ref===t.ref)return mn(e,t,a)}return t.flags|=1,e=Un(l,r),e.ref=t.ref,e.return=t,t.child=e}function qf(e,t,n,r,a){if(e!==null){var l=e.memoizedProps;if(Ds(l,r)&&e.ref===t.ref)if(St=!1,t.pendingProps=r=l,(e.lanes&a)!==0)e.flags&131072&&(St=!0);else return t.lanes=e.lanes,mn(e,t,a)}return si(e,t,n,r,a)}function Qf(e,t,n){var r=t.pendingProps,a=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Dr,Tt),Tt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Me(Dr,Tt),Tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Me(Dr,Tt),Tt|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Me(Dr,Tt),Tt|=r;return vt(e,t,a,n),t.child}function Yf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function si(e,t,n,r,a){var l=Ct(n)?or:gt.current;return l=Hr(t,l),Br(t,a),n=uu(e,t,n,r,l,a),r=cu(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mn(e,t,a)):(We&&r&&Ji(t),t.flags|=1,vt(e,t,n,a),t.child)}function kc(e,t,n,r,a){if(Ct(n)){var l=!0;Va(t)}else l=!1;if(Br(t,a),t.stateNode===null)Aa(e,t),Hf(t,n,r),ni(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Mt(d):(d=Ct(n)?or:gt.current,d=Hr(t,d));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==r||u!==d)&&vc(t,o,r,d),bn=!1;var g=t.memoizedState;o.state=g,Ja(t,r,o,a),u=t.memoizedState,i!==r||g!==u||kt.current||bn?(typeof m=="function"&&(ti(t,n,m,r),u=t.memoizedState),(i=bn||yc(t,n,i,r,g,u,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=d,r=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Sf(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:zt(t.type,i),o.props=d,p=t.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Mt(u):(u=Ct(n)?or:gt.current,u=Hr(t,u));var w=n.getDerivedStateFromProps;(m=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==p||g!==u)&&vc(t,o,r,u),bn=!1,g=t.memoizedState,o.state=g,Ja(t,r,o,a);var S=t.memoizedState;i!==p||g!==S||kt.current||bn?(typeof w=="function"&&(ti(t,n,w,r),S=t.memoizedState),(d=bn||yc(t,n,d,r,g,S,u)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),o.props=r,o.state=S,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ai(e,t,n,r,l,a)}function ai(e,t,n,r,a,l){Yf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&cc(t,n,!1),mn(e,t,l);r=t.stateNode,c0.current=t;var i=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Kr(t,e.child,null,l),t.child=Kr(t,null,i,l)):vt(e,t,i,l),t.memoizedState=r.state,a&&cc(t,n,!0),t.child}function Jf(e){var t=e.stateNode;t.pendingContext?uc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uc(e,t.context,!1),au(e,t.containerInfo)}function Cc(e,t,n,r,a){return Vr(),Xi(a),t.flags|=256,vt(e,t,n,r),t.child}var li={dehydrated:null,treeContext:null,retryLane:0};function oi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zf(e,t,n){var r=t.pendingProps,a=He.current,l=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(a&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Me(He,a&1),e===null)return Xo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Nl(o,r,0,null),e=ar(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=oi(n),t.memoizedState=li,e):mu(t,o));if(a=e.memoizedState,a!==null&&(i=a.dehydrated,i!==null))return d0(e,t,o,r,i,a,n);if(l){l=r.fallback,o=t.mode,a=e.child,i=a.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Un(a,u),r.subtreeFlags=a.subtreeFlags&14680064),i!==null?l=Un(i,l):(l=ar(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?oi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=li,r}return l=e.child,e=l.sibling,r=Un(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mu(e,t){return t=Nl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ha(e,t,n,r){return r!==null&&Xi(r),Kr(t,e.child,null,n),e=mu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function d0(e,t,n,r,a,l,o){if(n)return t.flags&256?(t.flags&=-257,r=ao(Error(F(422))),ha(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=Nl({mode:"visible",children:r.children},a,0,null),l=ar(l,a,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Kr(t,e.child,null,o),t.child.memoizedState=oi(o),t.memoizedState=li,l);if(!(t.mode&1))return ha(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var i=r.dgst;return r=i,l=Error(F(419)),r=ao(l,r,void 0),ha(e,t,o,r)}if(i=(o&e.childLanes)!==0,St||i){if(r=ot,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,fn(e,a),Vt(r,e,a,-1))}return vu(),r=ao(Error(F(421))),ha(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=S0.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Lt=An(a.nextSibling),At=t,We=!0,Gt=null,e!==null&&(Ut[Dt++]=an,Ut[Dt++]=ln,Ut[Dt++]=ir,an=e.id,ln=e.overflow,ir=t),t=mu(t,r.children),t.flags|=4096,t)}function Ec(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ei(e.return,t,n)}function lo(e,t,n,r,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=a)}function Xf(e,t,n){var r=t.pendingProps,a=r.revealOrder,l=r.tail;if(vt(e,t,r.children,n),r=He.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ec(e,n,t);else if(e.tag===19)Ec(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Me(He,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Za(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),lo(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Za(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}lo(t,!0,n,null,l);break;case"together":lo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Aa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function f0(e,t,n){switch(t.tag){case 3:Jf(t),Vr();break;case 5:kf(t);break;case 1:Ct(t.type)&&Va(t);break;case 4:au(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Me(Qa,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Me(He,He.current&1),t.flags|=128,null):n&t.child.childLanes?Zf(e,t,n):(Me(He,He.current&1),e=mn(e,t,n),e!==null?e.sibling:null);Me(He,He.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xf(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Me(He,He.current),r)break;return null;case 22:case 23:return t.lanes=0,Qf(e,t,n)}return mn(e,t,n)}var em,ii,tm,nm;em=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ii=function(){};tm=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,tr(Zt.current);var l=null;switch(n){case"input":a=Lo(e,a),r=Lo(e,r),l=[];break;case"select":a=Ke({},a,{value:void 0}),r=Ke({},r,{value:void 0}),l=[];break;case"textarea":a=Ro(e,a),r=Ro(e,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ga)}Uo(n,r);var o;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var i=a[d];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ts.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var u=r[d];if(i=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&u!==i&&(u!=null||i!=null))if(d==="style")if(i){for(o in i)!i.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&i[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(l||(l=[]),l.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(l=l||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ts.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Fe("scroll",e),l||i===u||(l=[])):(l=l||[]).push(d,u))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};nm=function(e,t,n,r){n!==r&&(t.flags|=4)};function cs(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function m0(e,t,n){var r=t.pendingProps;switch(Zi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return Ct(t.type)&&Ha(),pt(t),null;case 3:return r=t.stateNode,qr(),Be(kt),Be(gt),ou(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ma(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gt!==null&&(xi(Gt),Gt=null))),ii(e,t),pt(t),null;case 5:lu(t);var a=tr(Bs.current);if(n=t.type,e!==null&&t.stateNode!=null)tm(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return pt(t),null}if(e=tr(Zt.current),ma(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Yt]=t,r[Ms]=l,e=(t.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(a=0;a<gs.length;a++)Fe(gs[a],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Du(r,l),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Fe("invalid",r);break;case"textarea":_u(r,l),Fe("invalid",r)}Uo(n,l),a=null;for(var o in l)if(l.hasOwnProperty(o)){var i=l[o];o==="children"?typeof i=="string"?r.textContent!==i&&(l.suppressHydrationWarning!==!0&&fa(r.textContent,i,e),a=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&fa(r.textContent,i,e),a=["children",""+i]):Ts.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":sa(r),Ou(r,l,!0);break;case"textarea":sa(r),Mu(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Ga)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Td(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Yt]=t,e[Ms]=r,em(e,t,!1,!1),t.stateNode=e;e:{switch(o=Do(n,r),n){case"dialog":Fe("cancel",e),Fe("close",e),a=r;break;case"iframe":case"object":case"embed":Fe("load",e),a=r;break;case"video":case"audio":for(a=0;a<gs.length;a++)Fe(gs[a],e);a=r;break;case"source":Fe("error",e),a=r;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),a=r;break;case"details":Fe("toggle",e),a=r;break;case"input":Du(e,r),a=Lo(e,r),Fe("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Ke({},r,{value:void 0}),Fe("invalid",e);break;case"textarea":_u(e,r),a=Ro(e,r),Fe("invalid",e);break;default:a=r}Uo(n,a),i=a;for(l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="style"?$d(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ld(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ls(e,u):typeof u=="number"&&Ls(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ts.hasOwnProperty(l)?u!=null&&l==="onScroll"&&Fe("scroll",e):u!=null&&Oi(e,l,u,o))}switch(n){case"input":sa(e),Ou(e,r,!1);break;case"textarea":sa(e),Mu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+On(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Or(e,!!r.multiple,l,!1):r.defaultValue!=null&&Or(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ga)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)nm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=tr(Bs.current),tr(Zt.current),ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yt]=t,(l=r.nodeValue!==n)&&(e=At,e!==null))switch(e.tag){case 3:fa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fa(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yt]=t,t.stateNode=r}return pt(t),null;case 13:if(Be(He),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Lt!==null&&t.mode&1&&!(t.flags&128))wf(),Vr(),t.flags|=98560,l=!1;else if(l=ma(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(F(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(F(317));l[Yt]=t}else Vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),l=!1}else Gt!==null&&(xi(Gt),Gt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?st===0&&(st=3):vu())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return qr(),ii(e,t),e===null&&Os(t.stateNode.containerInfo),pt(t),null;case 10:return nu(t.type._context),pt(t),null;case 17:return Ct(t.type)&&Ha(),pt(t),null;case 19:if(Be(He),l=t.memoizedState,l===null)return pt(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)cs(l,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Za(e),o!==null){for(t.flags|=128,cs(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Me(He,He.current&1|2),t.child}e=e.sibling}l.tail!==null&&Xe()>Yr&&(t.flags|=128,r=!0,cs(l,!1),t.lanes=4194304)}else{if(!r)if(e=Za(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!We)return pt(t),null}else 2*Xe()-l.renderingStartTime>Yr&&n!==1073741824&&(t.flags|=128,r=!0,cs(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xe(),t.sibling=null,n=He.current,Me(He,r?n&1|2:n&1),t):(pt(t),null);case 22:case 23:return yu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tt&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function p0(e,t){switch(Zi(t),t.tag){case 1:return Ct(t.type)&&Ha(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qr(),Be(kt),Be(gt),ou(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lu(t),null;case 13:if(Be(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(He),null;case 4:return qr(),null;case 10:return nu(t.type._context),null;case 22:case 23:return yu(),null;case 24:return null;default:return null}}var xa=!1,ht=!1,h0=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ur(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(e,t,r)}else n.current=null}function ui(e,t,n){try{n()}catch(r){Qe(e,t,r)}}var Pc=!1;function x0(e,t){if(Vo=Ba,e=lf(),Yi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,i=-1,u=-1,d=0,m=0,p=e,g=null;t:for(;;){for(var w;p!==n||a!==0&&p.nodeType!==3||(i=o+a),p!==l||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)g=p,p=w;for(;;){if(p===e)break t;if(g===n&&++d===a&&(i=o),g===l&&++m===r&&(u=o),(w=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=w}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ko={focusedElem:e,selectionRange:n},Ba=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var y=S.memoizedProps,v=S.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:zt(t.type,y),v);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(N){Qe(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return S=Pc,Pc=!1,S}function Cs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&ui(t,n,l)}a=a.next}while(a!==r)}}function bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ci(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rm(e){var t=e.alternate;t!==null&&(e.alternate=null,rm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[Ms],delete t[Yo],delete t[Zh],delete t[Xh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sm(e){return e.tag===5||e.tag===3||e.tag===4}function Tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function di(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ga));else if(r!==4&&(e=e.child,e!==null))for(di(e,t,n),e=e.sibling;e!==null;)di(e,t,n),e=e.sibling}function fi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fi(e,t,n),e=e.sibling;e!==null;)fi(e,t,n),e=e.sibling}var it=null,Wt=!1;function vn(e,t,n){for(n=n.child;n!==null;)am(e,t,n),n=n.sibling}function am(e,t,n){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ml,n)}catch{}switch(n.tag){case 5:ht||Ur(n,t);case 6:var r=it,a=Wt;it=null,vn(e,t,n),it=r,Wt=a,it!==null&&(Wt?(e=it,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(Wt?(e=it,n=n.stateNode,e.nodeType===8?Xl(e.parentNode,n):e.nodeType===1&&Xl(e,n),Is(e)):Xl(it,n.stateNode));break;case 4:r=it,a=Wt,it=n.stateNode.containerInfo,Wt=!0,vn(e,t,n),it=r,Wt=a;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&ui(n,t,o),a=a.next}while(a!==r)}vn(e,t,n);break;case 1:if(!ht&&(Ur(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Qe(n,t,i)}vn(e,t,n);break;case 21:vn(e,t,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,vn(e,t,n),ht=r):vn(e,t,n);break;default:vn(e,t,n)}}function Lc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new h0),t.forEach(function(r){var a=k0.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var l=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:it=i.stateNode,Wt=!1;break e;case 3:it=i.stateNode.containerInfo,Wt=!0;break e;case 4:it=i.stateNode.containerInfo,Wt=!0;break e}i=i.return}if(it===null)throw Error(F(160));am(l,o,a),it=null,Wt=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(d){Qe(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lm(t,e),t=t.sibling}function lm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),qt(e),r&4){try{Cs(3,e,e.return),bl(3,e)}catch(y){Qe(e,e.return,y)}try{Cs(5,e,e.return)}catch(y){Qe(e,e.return,y)}}break;case 1:Bt(t,e),qt(e),r&512&&n!==null&&Ur(n,n.return);break;case 5:if(Bt(t,e),qt(e),r&512&&n!==null&&Ur(n,n.return),e.flags&32){var a=e.stateNode;try{Ls(a,"")}catch(y){Qe(e,e.return,y)}}if(r&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&Ed(a,l),Do(i,o);var d=Do(i,l);for(o=0;o<u.length;o+=2){var m=u[o],p=u[o+1];m==="style"?$d(a,p):m==="dangerouslySetInnerHTML"?Ld(a,p):m==="children"?Ls(a,p):Oi(a,m,p,d)}switch(i){case"input":Ao(a,l);break;case"textarea":Pd(a,l);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var w=l.value;w!=null?Or(a,!!l.multiple,w,!1):g!==!!l.multiple&&(l.defaultValue!=null?Or(a,!!l.multiple,l.defaultValue,!0):Or(a,!!l.multiple,l.multiple?[]:"",!1))}a[Ms]=l}catch(y){Qe(e,e.return,y)}}break;case 6:if(Bt(t,e),qt(e),r&4){if(e.stateNode===null)throw Error(F(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(y){Qe(e,e.return,y)}}break;case 3:if(Bt(t,e),qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Is(t.containerInfo)}catch(y){Qe(e,e.return,y)}break;case 4:Bt(t,e),qt(e);break;case 13:Bt(t,e),qt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(xu=Xe())),r&4&&Lc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(ht=(d=ht)||m,Bt(t,e),ht=d):Bt(t,e),qt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(X=e,m=e.child;m!==null;){for(p=X=m;X!==null;){switch(g=X,w=g.child,g.tag){case 0:case 11:case 14:case 15:Cs(4,g,g.return);break;case 1:Ur(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(y){Qe(r,n,y)}}break;case 5:Ur(g,g.return);break;case 22:if(g.memoizedState!==null){$c(p);continue}}w!==null?(w.return=g,X=w):$c(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{a=p.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=Ad("display",o))}catch(y){Qe(e,e.return,y)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(y){Qe(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Bt(t,e),qt(e),r&4&&Lc(e);break;case 21:break;default:Bt(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(sm(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Ls(a,""),r.flags&=-33);var l=Tc(e);fi(e,l,a);break;case 3:case 4:var o=r.stateNode.containerInfo,i=Tc(e);di(e,i,o);break;default:throw Error(F(161))}}catch(u){Qe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function g0(e,t,n){X=e,om(e)}function om(e,t,n){for(var r=(e.mode&1)!==0;X!==null;){var a=X,l=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||xa;if(!o){var i=a.alternate,u=i!==null&&i.memoizedState!==null||ht;i=xa;var d=ht;if(xa=o,(ht=u)&&!d)for(X=a;X!==null;)o=X,u=o.child,o.tag===22&&o.memoizedState!==null?Rc(a):u!==null?(u.return=o,X=u):Rc(a);for(;l!==null;)X=l,om(l),l=l.sibling;X=a,xa=i,ht=d}Ac(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,X=l):Ac(e)}}function Ac(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||bl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ht)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:zt(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&hc(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hc(t,o,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&Is(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}ht||t.flags&512&&ci(t)}catch(g){Qe(t,t.return,g)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function $c(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Rc(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bl(4,t)}catch(u){Qe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(u){Qe(t,a,u)}}var l=t.return;try{ci(t)}catch(u){Qe(t,l,u)}break;case 5:var o=t.return;try{ci(t)}catch(u){Qe(t,o,u)}}}catch(u){Qe(t,t.return,u)}if(t===e){X=null;break}var i=t.sibling;if(i!==null){i.return=t.return,X=i;break}X=t.return}}var y0=Math.ceil,tl=hn.ReactCurrentDispatcher,pu=hn.ReactCurrentOwner,_t=hn.ReactCurrentBatchConfig,Pe=0,ot=null,nt=null,ut=0,Tt=0,Dr=Bn(0),st=0,Hs=null,cr=0,jl=0,hu=0,Es=null,Nt=null,xu=0,Yr=1/0,rn=null,nl=!1,mi=null,Rn=null,ga=!1,Cn=null,rl=0,Ps=0,pi=null,$a=-1,Ra=0;function wt(){return Pe&6?Xe():$a!==-1?$a:$a=Xe()}function In(e){return e.mode&1?Pe&2&&ut!==0?ut&-ut:t0.transition!==null?(Ra===0&&(Ra=Gd()),Ra):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Jd(e.type)),e):1}function Vt(e,t,n,r){if(50<Ps)throw Ps=0,pi=null,Error(F(185));Qs(e,n,r),(!(Pe&2)||e!==ot)&&(e===ot&&(!(Pe&2)&&(jl|=n),st===4&&Nn(e,ut)),Et(e,r),n===1&&Pe===0&&!(t.mode&1)&&(Yr=Xe()+500,yl&&zn()))}function Et(e,t){var n=e.callbackNode;th(e,t);var r=Fa(e,e===ot?ut:0);if(r===0)n!==null&&zu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zu(n),t===1)e.tag===0?e0(Ic.bind(null,e)):gf(Ic.bind(null,e)),Yh(function(){!(Pe&6)&&zn()}),n=null;else{switch(Hd(r)){case 1:n=zi;break;case 4:n=zd;break;case 16:n=Ma;break;case 536870912:n=Wd;break;default:n=Ma}n=hm(n,im.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function im(e,t){if($a=-1,Ra=0,Pe&6)throw Error(F(327));var n=e.callbackNode;if(zr()&&e.callbackNode!==n)return null;var r=Fa(e,e===ot?ut:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=sl(e,r);else{t=r;var a=Pe;Pe|=2;var l=cm();(ot!==e||ut!==t)&&(rn=null,Yr=Xe()+500,sr(e,t));do try{b0();break}catch(i){um(e,i)}while(!0);tu(),tl.current=l,Pe=a,nt!==null?t=0:(ot=null,ut=0,t=st)}if(t!==0){if(t===2&&(a=Bo(e),a!==0&&(r=a,t=hi(e,a))),t===1)throw n=Hs,sr(e,0),Nn(e,r),Et(e,Xe()),n;if(t===6)Nn(e,r);else{if(a=e.current.alternate,!(r&30)&&!v0(a)&&(t=sl(e,r),t===2&&(l=Bo(e),l!==0&&(r=l,t=hi(e,l))),t===1))throw n=Hs,sr(e,0),Nn(e,r),Et(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Jn(e,Nt,rn);break;case 3:if(Nn(e,r),(r&130023424)===r&&(t=xu+500-Xe(),10<t)){if(Fa(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){wt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Qo(Jn.bind(null,e,Nt,rn),t);break}Jn(e,Nt,rn);break;case 4:if(Nn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Ht(r);l=1<<o,o=t[o],o>a&&(a=o),r&=~l}if(r=a,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y0(r/1960))-r,10<r){e.timeoutHandle=Qo(Jn.bind(null,e,Nt,rn),r);break}Jn(e,Nt,rn);break;case 5:Jn(e,Nt,rn);break;default:throw Error(F(329))}}}return Et(e,Xe()),e.callbackNode===n?im.bind(null,e):null}function hi(e,t){var n=Es;return e.current.memoizedState.isDehydrated&&(sr(e,t).flags|=256),e=sl(e,t),e!==2&&(t=Nt,Nt=n,t!==null&&xi(t)),e}function xi(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function v0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],l=a.getSnapshot;a=a.value;try{if(!Kt(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nn(e,t){for(t&=~hu,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function Ic(e){if(Pe&6)throw Error(F(327));zr();var t=Fa(e,0);if(!(t&1))return Et(e,Xe()),null;var n=sl(e,t);if(e.tag!==0&&n===2){var r=Bo(e);r!==0&&(t=r,n=hi(e,r))}if(n===1)throw n=Hs,sr(e,0),Nn(e,t),Et(e,Xe()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jn(e,Nt,rn),Et(e,Xe()),null}function gu(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===0&&(Yr=Xe()+500,yl&&zn())}}function dr(e){Cn!==null&&Cn.tag===0&&!(Pe&6)&&zr();var t=Pe;Pe|=1;var n=_t.transition,r=_e;try{if(_t.transition=null,_e=1,e)return e()}finally{_e=r,_t.transition=n,Pe=t,!(Pe&6)&&zn()}}function yu(){Tt=Dr.current,Be(Dr)}function sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qh(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Zi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ha();break;case 3:qr(),Be(kt),Be(gt),ou();break;case 5:lu(r);break;case 4:qr();break;case 13:Be(He);break;case 19:Be(He);break;case 10:nu(r.type._context);break;case 22:case 23:yu()}n=n.return}if(ot=e,nt=e=Un(e.current,null),ut=Tt=t,st=0,Hs=null,hu=jl=cr=0,Nt=Es=null,er!==null){for(t=0;t<er.length;t++)if(n=er[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=a,r.next=o}n.pending=r}er=null}return e}function um(e,t){do{var n=nt;try{if(tu(),Ta.current=el,Xa){for(var r=Ve.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Xa=!1}if(ur=0,lt=rt=Ve=null,ks=!1,zs=0,pu.current=null,n===null||n.return===null){st=1,Hs=t,nt=null;break}e:{var l=e,o=n.return,i=n,u=t;if(t=ut,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,m=i,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var w=bc(o);if(w!==null){w.flags&=-257,jc(w,o,i,l,t),w.mode&1&&wc(l,d,t),t=w,u=d;var S=t.updateQueue;if(S===null){var y=new Set;y.add(u),t.updateQueue=y}else S.add(u);break e}else{if(!(t&1)){wc(l,d,t),vu();break e}u=Error(F(426))}}else if(We&&i.mode&1){var v=bc(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),jc(v,o,i,l,t),Xi(Qr(u,i));break e}}l=u=Qr(u,i),st!==4&&(st=2),Es===null?Es=[l]:Es.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=Vf(l,u,t);pc(l,h);break e;case 1:i=u;var f=l.type,x=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Rn===null||!Rn.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t;var N=Kf(l,i,t);pc(l,N);break e}}l=l.return}while(l!==null)}fm(n)}catch(E){t=E,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function cm(){var e=tl.current;return tl.current=el,e===null?el:e}function vu(){(st===0||st===3||st===2)&&(st=4),ot===null||!(cr&268435455)&&!(jl&268435455)||Nn(ot,ut)}function sl(e,t){var n=Pe;Pe|=2;var r=cm();(ot!==e||ut!==t)&&(rn=null,sr(e,t));do try{w0();break}catch(a){um(e,a)}while(!0);if(tu(),Pe=n,tl.current=r,nt!==null)throw Error(F(261));return ot=null,ut=0,st}function w0(){for(;nt!==null;)dm(nt)}function b0(){for(;nt!==null&&!Vp();)dm(nt)}function dm(e){var t=pm(e.alternate,e,Tt);e.memoizedProps=e.pendingProps,t===null?fm(e):nt=t,pu.current=null}function fm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=p0(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,nt=null;return}}else if(n=m0(n,t,Tt),n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);st===0&&(st=5)}function Jn(e,t,n){var r=_e,a=_t.transition;try{_t.transition=null,_e=1,j0(e,t,n,r)}finally{_t.transition=a,_e=r}return null}function j0(e,t,n,r){do zr();while(Cn!==null);if(Pe&6)throw Error(F(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(nh(e,l),e===ot&&(nt=ot=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ga||(ga=!0,hm(Ma,function(){return zr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=_t.transition,_t.transition=null;var o=_e;_e=1;var i=Pe;Pe|=4,pu.current=null,x0(e,n),lm(n,e),zh(Ko),Ba=!!Vo,Ko=Vo=null,e.current=n,g0(n),Kp(),Pe=i,_e=o,_t.transition=l}else e.current=n;if(ga&&(ga=!1,Cn=e,rl=a),l=e.pendingLanes,l===0&&(Rn=null),Yp(n.stateNode),Et(e,Xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(nl)throw nl=!1,e=mi,mi=null,e;return rl&1&&e.tag!==0&&zr(),l=e.pendingLanes,l&1?e===pi?Ps++:(Ps=0,pi=e):Ps=0,zn(),null}function zr(){if(Cn!==null){var e=Hd(rl),t=_t.transition,n=_e;try{if(_t.transition=null,_e=16>e?16:e,Cn===null)var r=!1;else{if(e=Cn,Cn=null,rl=0,Pe&6)throw Error(F(331));var a=Pe;for(Pe|=4,X=e.current;X!==null;){var l=X,o=l.child;if(X.flags&16){var i=l.deletions;if(i!==null){for(var u=0;u<i.length;u++){var d=i[u];for(X=d;X!==null;){var m=X;switch(m.tag){case 0:case 11:case 15:Cs(8,m,l)}var p=m.child;if(p!==null)p.return=m,X=p;else for(;X!==null;){m=X;var g=m.sibling,w=m.return;if(rm(m),m===d){X=null;break}if(g!==null){g.return=w,X=g;break}X=w}}}var S=l.alternate;if(S!==null){var y=S.child;if(y!==null){S.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}X=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,X=o;else e:for(;X!==null;){if(l=X,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Cs(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,X=h;break e}X=l.return}}var f=e.current;for(X=f;X!==null;){o=X;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,X=x;else e:for(o=f;X!==null;){if(i=X,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:bl(9,i)}}catch(E){Qe(i,i.return,E)}if(i===o){X=null;break e}var N=i.sibling;if(N!==null){N.return=i.return,X=N;break e}X=i.return}}if(Pe=a,zn(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ml,e)}catch{}r=!0}return r}finally{_e=n,_t.transition=t}}return!1}function Uc(e,t,n){t=Qr(n,t),t=Vf(e,t,1),e=$n(e,t,1),t=wt(),e!==null&&(Qs(e,1,t),Et(e,t))}function Qe(e,t,n){if(e.tag===3)Uc(e,e,n);else for(;t!==null;){if(t.tag===3){Uc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rn===null||!Rn.has(r))){e=Qr(n,e),e=Kf(t,e,1),t=$n(t,e,1),e=wt(),t!==null&&(Qs(t,1,e),Et(t,e));break}}t=t.return}}function N0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&n,ot===e&&(ut&n)===n&&(st===4||st===3&&(ut&130023424)===ut&&500>Xe()-xu?sr(e,0):hu|=n),Et(e,t)}function mm(e,t){t===0&&(e.mode&1?(t=oa,oa<<=1,!(oa&130023424)&&(oa=4194304)):t=1);var n=wt();e=fn(e,t),e!==null&&(Qs(e,t,n),Et(e,n))}function S0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mm(e,n)}function k0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),mm(e,n)}var pm;pm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)St=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return St=!1,f0(e,t,n);St=!!(e.flags&131072)}else St=!1,We&&t.flags&1048576&&yf(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Aa(e,t),e=t.pendingProps;var a=Hr(t,gt.current);Br(t,n),a=uu(null,t,r,e,a,n);var l=cu();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(r)?(l=!0,Va(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,su(t),a.updater=wl,t.stateNode=a,a._reactInternals=t,ni(t,r,e,n),t=ai(null,t,r,!0,l,n)):(t.tag=0,We&&l&&Ji(t),vt(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Aa(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=E0(r),e=zt(r,e),a){case 0:t=si(null,t,r,e,n);break e;case 1:t=kc(null,t,r,e,n);break e;case 11:t=Nc(null,t,r,e,n);break e;case 14:t=Sc(null,t,r,zt(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:zt(r,a),si(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:zt(r,a),kc(e,t,r,a,n);case 3:e:{if(Jf(t),e===null)throw Error(F(387));r=t.pendingProps,l=t.memoizedState,a=l.element,Sf(e,t),Ja(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Qr(Error(F(423)),t),t=Cc(e,t,r,n,a);break e}else if(r!==a){a=Qr(Error(F(424)),t),t=Cc(e,t,r,n,a);break e}else for(Lt=An(t.stateNode.containerInfo.firstChild),At=t,We=!0,Gt=null,n=jf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vr(),r===a){t=mn(e,t,n);break e}vt(e,t,r,n)}t=t.child}return t;case 5:return kf(t),e===null&&Xo(t),r=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,o=a.children,qo(r,a)?o=null:l!==null&&qo(r,l)&&(t.flags|=32),Yf(e,t),vt(e,t,o,n),t.child;case 6:return e===null&&Xo(t),null;case 13:return Zf(e,t,n);case 4:return au(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Kr(t,null,r,n):vt(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:zt(r,a),Nc(e,t,r,a,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,o=a.value,Me(Qa,r._currentValue),r._currentValue=o,l!==null)if(Kt(l.value,o)){if(l.children===a.children&&!kt.current){t=mn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){o=l.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=on(-1,n&-n),u.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?u.next=u:(u.next=m.next,m.next=u),d.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),ei(l.return,n,t),i.lanes|=n;break}u=u.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(F(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),ei(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}vt(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Br(t,n),a=Mt(a),r=r(a),t.flags|=1,vt(e,t,r,n),t.child;case 14:return r=t.type,a=zt(r,t.pendingProps),a=zt(r.type,a),Sc(e,t,r,a,n);case 15:return qf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:zt(r,a),Aa(e,t),t.tag=1,Ct(r)?(e=!0,Va(t)):e=!1,Br(t,n),Hf(t,r,a),ni(t,r,a,n),ai(null,t,r,!0,e,n);case 19:return Xf(e,t,n);case 22:return Qf(e,t,n)}throw Error(F(156,t.tag))};function hm(e,t){return Bd(e,t)}function C0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,r){return new C0(e,t,n,r)}function wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E0(e){if(typeof e=="function")return wu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Mi)return 11;if(e===Fi)return 14}return 2}function Un(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ia(e,t,n,r,a,l){var o=2;if(r=e,typeof e=="function")wu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Cr:return ar(n.children,a,l,t);case _i:o=8,a|=8;break;case Co:return e=Ot(12,n,t,a|2),e.elementType=Co,e.lanes=l,e;case Eo:return e=Ot(13,n,t,a),e.elementType=Eo,e.lanes=l,e;case Po:return e=Ot(19,n,t,a),e.elementType=Po,e.lanes=l,e;case Sd:return Nl(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jd:o=10;break e;case Nd:o=9;break e;case Mi:o=11;break e;case Fi:o=14;break e;case wn:o=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Ot(o,n,t,a),t.elementType=e,t.type=r,t.lanes=l,t}function ar(e,t,n,r){return e=Ot(7,e,r,t),e.lanes=n,e}function Nl(e,t,n,r){return e=Ot(22,e,r,t),e.elementType=Sd,e.lanes=n,e.stateNode={isHidden:!1},e}function oo(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function io(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function P0(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function bu(e,t,n,r,a,l,o,i,u){return e=new P0(e,t,n,i,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ot(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},su(l),e}function T0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xm(e){if(!e)return _n;e=e._reactInternals;e:{if(mr(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Ct(n))return xf(e,n,t)}return t}function gm(e,t,n,r,a,l,o,i,u){return e=bu(n,r,!0,e,a,l,o,i,u),e.context=xm(null),n=e.current,r=wt(),a=In(n),l=on(r,a),l.callback=t??null,$n(n,l,a),e.current.lanes=a,Qs(e,a,r),Et(e,r),e}function Sl(e,t,n,r){var a=t.current,l=wt(),o=In(a);return n=xm(n),t.context===null?t.context=n:t.pendingContext=n,t=on(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$n(a,t,o),e!==null&&(Vt(e,a,o,l),Pa(e,a,o)),o}function al(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ju(e,t){Dc(e,t),(e=e.alternate)&&Dc(e,t)}function L0(){return null}var ym=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nu(e){this._internalRoot=e}kl.prototype.render=Nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Sl(e,t,null,null)};kl.prototype.unmount=Nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){Sl(null,e,null,null)}),t[dn]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&Yd(e)}};function Su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oc(){}function A0(e,t,n,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var d=al(o);l.call(d)}}var o=gm(t,r,e,0,null,!1,!1,"",Oc);return e._reactRootContainer=o,e[dn]=o.current,Os(e.nodeType===8?e.parentNode:e),dr(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var i=r;r=function(){var d=al(u);i.call(d)}}var u=bu(e,0,!1,null,null,!1,!1,"",Oc);return e._reactRootContainer=u,e[dn]=u.current,Os(e.nodeType===8?e.parentNode:e),dr(function(){Sl(t,u,n,r)}),u}function El(e,t,n,r,a){var l=n._reactRootContainer;if(l){var o=l;if(typeof a=="function"){var i=a;a=function(){var u=al(o);i.call(u)}}Sl(t,o,e,a)}else o=A0(n,t,e,a,r);return al(o)}Vd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xs(t.pendingLanes);n!==0&&(Wi(t,n|1),Et(t,Xe()),!(Pe&6)&&(Yr=Xe()+500,zn()))}break;case 13:dr(function(){var r=fn(e,1);if(r!==null){var a=wt();Vt(r,e,1,a)}}),ju(e,1)}};Gi=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var n=wt();Vt(t,e,134217728,n)}ju(e,134217728)}};Kd=function(e){if(e.tag===13){var t=In(e),n=fn(e,t);if(n!==null){var r=wt();Vt(n,e,t,r)}ju(e,t)}};qd=function(){return _e};Qd=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};_o=function(e,t,n){switch(t){case"input":if(Ao(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=gl(r);if(!a)throw Error(F(90));Cd(r),Ao(r,a)}}}break;case"textarea":Pd(e,n);break;case"select":t=n.value,t!=null&&Or(e,!!n.multiple,t,!1)}};Ud=gu;Dd=dr;var $0={usingClientEntryPoint:!1,Events:[Js,Lr,gl,Rd,Id,gu]},ds={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R0={bundleType:ds.bundleType,version:ds.version,rendererPackageName:ds.rendererPackageName,rendererConfig:ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Md(e),e===null?null:e.stateNode},findFiberByHostInstance:ds.findFiberByHostInstance||L0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ya.isDisabled&&ya.supportsFiber)try{ml=ya.inject(R0),Jt=ya}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$0;Rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Su(t))throw Error(F(200));return T0(e,t,null,n)};Rt.createRoot=function(e,t){if(!Su(e))throw Error(F(299));var n=!1,r="",a=ym;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=bu(e,1,!1,null,null,n,!1,r,a),e[dn]=t.current,Os(e.nodeType===8?e.parentNode:e),new Nu(t)};Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Md(t),e=e===null?null:e.stateNode,e};Rt.flushSync=function(e){return dr(e)};Rt.hydrate=function(e,t,n){if(!Cl(t))throw Error(F(200));return El(null,e,t,!0,n)};Rt.hydrateRoot=function(e,t,n){if(!Su(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,a=!1,l="",o=ym;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=gm(t,null,e,1,n??null,a,!1,l,o),e[dn]=t.current,Os(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new kl(t)};Rt.render=function(e,t,n){if(!Cl(t))throw Error(F(200));return El(null,e,t,!1,n)};Rt.unmountComponentAtNode=function(e){if(!Cl(e))throw Error(F(40));return e._reactRootContainer?(dr(function(){El(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};Rt.unstable_batchedUpdates=gu;Rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cl(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return El(e,t,n,!1,r)};Rt.version="18.3.1-next-f1338f8080-20240426";function vm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vm)}catch(e){console.error(e)}}vm(),yd.exports=Rt;var wm=yd.exports,_c=wm;So.createRoot=_c.createRoot,So.hydrateRoot=_c.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vs.apply(this,arguments)}var En;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(En||(En={}));const Mc="popstate";function I0(e){e===void 0&&(e={});function t(r,a){let{pathname:l,search:o,hash:i}=r.location;return gi("",{pathname:l,search:o,hash:i},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:ll(a)}return D0(t,n,null,e)}function Ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ku(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U0(){return Math.random().toString(36).substr(2,8)}function Fc(e,t){return{usr:e.state,key:e.key,idx:t}}function gi(e,t,n,r){return n===void 0&&(n=null),Vs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ts(t):t,{state:n,key:t&&t.key||r||U0()})}function ll(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ts(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function D0(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,o=a.history,i=En.Pop,u=null,d=m();d==null&&(d=0,o.replaceState(Vs({},o.state,{idx:d}),""));function m(){return(o.state||{idx:null}).idx}function p(){i=En.Pop;let v=m(),h=v==null?null:v-d;d=v,u&&u({action:i,location:y.location,delta:h})}function g(v,h){i=En.Push;let f=gi(y.location,v,h);d=m()+1;let x=Fc(f,d),N=y.createHref(f);try{o.pushState(x,"",N)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(N)}l&&u&&u({action:i,location:y.location,delta:1})}function w(v,h){i=En.Replace;let f=gi(y.location,v,h);d=m();let x=Fc(f,d),N=y.createHref(f);o.replaceState(x,"",N),l&&u&&u({action:i,location:y.location,delta:0})}function S(v){let h=a.location.origin!=="null"?a.location.origin:a.location.href,f=typeof v=="string"?v:ll(v);return f=f.replace(/ $/,"%20"),Ye(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let y={get action(){return i},get location(){return e(a,o)},listen(v){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(Mc,p),u=v,()=>{a.removeEventListener(Mc,p),u=null}},createHref(v){return t(a,v)},createURL:S,encodeLocation(v){let h=S(v);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:g,replace:w,go(v){return o.go(v)}};return y}var Bc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bc||(Bc={}));function O0(e,t,n){return n===void 0&&(n="/"),_0(e,t,n)}function _0(e,t,n,r){let a=typeof t=="string"?ts(t):t,l=Jr(a.pathname||"/",n);if(l==null)return null;let o=bm(e);M0(o);let i=null;for(let u=0;i==null&&u<o.length;++u){let d=Y0(l);i=q0(o[u],d)}return i}function bm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(l,o,i)=>{let u={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};u.relativePath.startsWith("/")&&(Ye(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Dn([r,u.relativePath]),m=n.concat(u);l.children&&l.children.length>0&&(Ye(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),bm(l.children,t,m,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:V0(d,l.index),routesMeta:m})};return e.forEach((l,o)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))a(l,o);else for(let u of jm(l.path))a(l,o,u)}),t}function jm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let o=jm(r.join("/")),i=[];return i.push(...o.map(u=>u===""?l:[l,u].join("/"))),a&&i.push(...o),i.map(u=>e.startsWith("/")&&u===""?"/":u)}function M0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:K0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const F0=/^:[\w-]+$/,B0=3,z0=2,W0=1,G0=10,H0=-2,zc=e=>e==="*";function V0(e,t){let n=e.split("/"),r=n.length;return n.some(zc)&&(r+=H0),t&&(r+=z0),n.filter(a=>!zc(a)).reduce((a,l)=>a+(F0.test(l)?B0:l===""?W0:G0),r)}function K0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function q0(e,t,n){let{routesMeta:r}=e,a={},l="/",o=[];for(let i=0;i<r.length;++i){let u=r[i],d=i===r.length-1,m=l==="/"?t:t.slice(l.length)||"/",p=yi({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},m),g=u.route;if(!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:Dn([l,p.pathname]),pathnameBase:tx(Dn([l,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(l=Dn([l,p.pathnameBase]))}return o}function yi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Q0(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((d,m,p)=>{let{paramName:g,isOptional:w}=m;if(g==="*"){let y=i[p]||"";o=l.slice(0,l.length-y.length).replace(/(.)\/+$/,"$1")}const S=i[p];return w&&!S?d[g]=void 0:d[g]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:o,pattern:e}}function Q0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ku(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,u)=>(r.push({paramName:i,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Y0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ku(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const J0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z0=e=>J0.test(e);function X0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?ts(e):e,l;if(n)if(Z0(n))l=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),ku(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?l=Wc(n.substring(1),"/"):l=Wc(n,t)}else l=t;return{pathname:l,search:nx(r),hash:rx(a)}}function Wc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function uo(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ex(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Nm(e,t){let n=ex(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sm(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=ts(e):(a=Vs({},e),Ye(!a.pathname||!a.pathname.includes("?"),uo("?","pathname","search",a)),Ye(!a.pathname||!a.pathname.includes("#"),uo("#","pathname","hash",a)),Ye(!a.search||!a.search.includes("#"),uo("#","search","hash",a)));let l=e===""||a.pathname==="",o=l?"/":a.pathname,i;if(o==null)i=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;a.pathname=g.join("/")}i=p>=0?t[p]:"/"}let u=X0(a,i),d=o&&o!=="/"&&o.endsWith("/"),m=(l||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}const Dn=e=>e.join("/").replace(/\/\/+/g,"/"),tx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const km=["post","put","patch","delete"];new Set(km);const ax=["get",...km];new Set(ax);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ks.apply(this,arguments)}const Pl=c.createContext(null),Cm=c.createContext(null),Wn=c.createContext(null),Tl=c.createContext(null),Gn=c.createContext({outlet:null,matches:[],isDataRoute:!1}),Em=c.createContext(null);function lx(e,t){let{relative:n}=t===void 0?{}:t;Xs()||Ye(!1);let{basename:r,navigator:a}=c.useContext(Wn),{hash:l,pathname:o,search:i}=Al(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Dn([r,o])),a.createHref({pathname:u,search:i,hash:l})}function Xs(){return c.useContext(Tl)!=null}function ns(){return Xs()||Ye(!1),c.useContext(Tl).location}function Pm(e){c.useContext(Wn).static||c.useLayoutEffect(e)}function Xt(){let{isDataRoute:e}=c.useContext(Gn);return e?vx():ox()}function ox(){Xs()||Ye(!1);let e=c.useContext(Pl),{basename:t,future:n,navigator:r}=c.useContext(Wn),{matches:a}=c.useContext(Gn),{pathname:l}=ns(),o=JSON.stringify(Nm(a,n.v7_relativeSplatPath)),i=c.useRef(!1);return Pm(()=>{i.current=!0}),c.useCallback(function(d,m){if(m===void 0&&(m={}),!i.current)return;if(typeof d=="number"){r.go(d);return}let p=Sm(d,JSON.parse(o),l,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Dn([t,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[t,r,o,l,e])}function Ll(){let{matches:e}=c.useContext(Gn),t=e[e.length-1];return t?t.params:{}}function Al(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=c.useContext(Wn),{matches:a}=c.useContext(Gn),{pathname:l}=ns(),o=JSON.stringify(Nm(a,r.v7_relativeSplatPath));return c.useMemo(()=>Sm(e,JSON.parse(o),l,n==="path"),[e,o,l,n])}function ix(e,t){return ux(e,t)}function ux(e,t,n,r){Xs()||Ye(!1);let{navigator:a}=c.useContext(Wn),{matches:l}=c.useContext(Gn),o=l[l.length-1],i=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=ns(),m;if(t){var p;let v=typeof t=="string"?ts(t):t;u==="/"||(p=v.pathname)!=null&&p.startsWith(u)||Ye(!1),m=v}else m=d;let g=m.pathname||"/",w=g;if(u!=="/"){let v=u.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let S=O0(e,{pathname:w}),y=px(S&&S.map(v=>Object.assign({},v,{params:Object.assign({},i,v.params),pathname:Dn([u,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Dn([u,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),l,n,r);return t&&y?c.createElement(Tl.Provider,{value:{location:Ks({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:En.Pop}},y):y}function cx(){let e=yx(),t=sx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:a},n):null,null)}const dx=c.createElement(cx,null);class fx extends c.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?c.createElement(Gn.Provider,{value:this.props.routeContext},c.createElement(Em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mx(e){let{routeContext:t,match:n,children:r}=e,a=c.useContext(Pl);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(Gn.Provider,{value:t},r)}function px(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=(a=n)==null?void 0:a.errors;if(i!=null){let m=o.findIndex(p=>p.route.id&&(i==null?void 0:i[p.route.id])!==void 0);m>=0||Ye(!1),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:g,errors:w}=n,S=p.route.loader&&g[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||S){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,p,g)=>{let w,S=!1,y=null,v=null;n&&(w=i&&p.route.id?i[p.route.id]:void 0,y=p.route.errorElement||dx,u&&(d<0&&g===0?(wx("route-fallback"),S=!0,v=null):d===g&&(S=!0,v=p.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,g+1)),f=()=>{let x;return w?x=y:S?x=v:p.route.Component?x=c.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=m,c.createElement(mx,{match:p,routeContext:{outlet:m,matches:h,isDataRoute:n!=null},children:x})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?c.createElement(fx,{location:n.location,revalidation:n.revalidation,component:y,error:w,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var Tm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Tm||{}),Lm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Lm||{});function hx(e){let t=c.useContext(Pl);return t||Ye(!1),t}function xx(e){let t=c.useContext(Cm);return t||Ye(!1),t}function gx(e){let t=c.useContext(Gn);return t||Ye(!1),t}function Am(e){let t=gx(),n=t.matches[t.matches.length-1];return n.route.id||Ye(!1),n.route.id}function yx(){var e;let t=c.useContext(Em),n=xx(),r=Am();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function vx(){let{router:e}=hx(Tm.UseNavigateStable),t=Am(Lm.UseNavigateStable),n=c.useRef(!1);return Pm(()=>{n.current=!0}),c.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ks({fromRouteId:t},l)))},[e,t])}const Gc={};function wx(e,t,n){Gc[e]||(Gc[e]=!0)}function bx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ze(e){Ye(!1)}function jx(e){let{basename:t="/",children:n=null,location:r,navigationType:a=En.Pop,navigator:l,static:o=!1,future:i}=e;Xs()&&Ye(!1);let u=t.replace(/^\/*/,"/"),d=c.useMemo(()=>({basename:u,navigator:l,static:o,future:Ks({v7_relativeSplatPath:!1},i)}),[u,i,l,o]);typeof r=="string"&&(r=ts(r));let{pathname:m="/",search:p="",hash:g="",state:w=null,key:S="default"}=r,y=c.useMemo(()=>{let v=Jr(m,u);return v==null?null:{location:{pathname:v,search:p,hash:g,state:w,key:S},navigationType:a}},[u,m,p,g,w,S,a]);return y==null?null:c.createElement(Wn.Provider,{value:d},c.createElement(Tl.Provider,{children:n,value:y}))}function Nx(e){let{children:t,location:n}=e;return ix(vi(t),n)}new Promise(()=>{});function vi(e,t){t===void 0&&(t=[]);let n=[];return c.Children.forEach(e,(r,a)=>{if(!c.isValidElement(r))return;let l=[...t,a];if(r.type===c.Fragment){n.push.apply(n,vi(r.props.children,l));return}r.type!==Ze&&Ye(!1),!r.props.index||!r.props.children||Ye(!1);let o={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vi(r.props.children,l)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ol.apply(this,arguments)}function $m(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,l;for(l=0;l<r.length;l++)a=r[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Sx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kx(e,t){return e.button===0&&(!t||t==="_self")&&!Sx(e)}function wi(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function Cx(e,t){let n=wi(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(l=>{n.append(a,l)})}),n}const Ex=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Px=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Tx="6";try{window.__reactRouterVersion=Tx}catch{}const Lx=c.createContext({isTransitioning:!1}),Ax="startTransition",Hc=Wr[Ax];function $x(e){let{basename:t,children:n,future:r,window:a}=e,l=c.useRef();l.current==null&&(l.current=I0({window:a,v5Compat:!0}));let o=l.current,[i,u]=c.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},m=c.useCallback(p=>{d&&Hc?Hc(()=>u(p)):u(p)},[u,d]);return c.useLayoutEffect(()=>o.listen(m),[o,m]),c.useEffect(()=>bx(r),[r]),c.createElement(jx,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o,future:r})}const Rx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ix=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ge=c.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:l,replace:o,state:i,target:u,to:d,preventScrollReset:m,viewTransition:p}=t,g=$m(t,Ex),{basename:w}=c.useContext(Wn),S,y=!1;if(typeof d=="string"&&Ix.test(d)&&(S=d,Rx))try{let x=new URL(window.location.href),N=d.startsWith("//")?new URL(x.protocol+d):new URL(d),E=Jr(N.pathname,w);N.origin===x.origin&&E!=null?d=E+N.search+N.hash:y=!0}catch{}let v=lx(d,{relative:a}),h=Dx(d,{replace:o,state:i,target:u,preventScrollReset:m,relative:a,viewTransition:p});function f(x){r&&r(x),x.defaultPrevented||h(x)}return c.createElement("a",ol({},g,{href:S||v,onClick:y||l?r:f,ref:n,target:u}))}),vr=c.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:l="",end:o=!1,style:i,to:u,viewTransition:d,children:m}=t,p=$m(t,Px),g=Al(u,{relative:p.relative}),w=ns(),S=c.useContext(Cm),{navigator:y,basename:v}=c.useContext(Wn),h=S!=null&&Ox(g)&&d===!0,f=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,x=w.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;a||(x=x.toLowerCase(),N=N?N.toLowerCase():null,f=f.toLowerCase()),N&&v&&(N=Jr(N,v)||N);const E=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let P=x===f||!o&&x.startsWith(f)&&x.charAt(E)==="/",R=N!=null&&(N===f||!o&&N.startsWith(f)&&N.charAt(f.length)==="/"),U={isActive:P,isPending:R,isTransitioning:h},K=P?r:void 0,G;typeof l=="function"?G=l(U):G=[l,P?"active":null,R?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let ne=typeof i=="function"?i(U):i;return c.createElement(ge,ol({},p,{"aria-current":K,className:G,ref:n,style:ne,to:u,viewTransition:d}),typeof m=="function"?m(U):m)});var bi;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bi||(bi={}));var Vc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Vc||(Vc={}));function Ux(e){let t=c.useContext(Pl);return t||Ye(!1),t}function Dx(e,t){let{target:n,replace:r,state:a,preventScrollReset:l,relative:o,viewTransition:i}=t===void 0?{}:t,u=Xt(),d=ns(),m=Al(e,{relative:o});return c.useCallback(p=>{if(kx(p,n)){p.preventDefault();let g=r!==void 0?r:ll(d)===ll(m);u(e,{replace:g,state:a,preventScrollReset:l,relative:o,viewTransition:i})}},[d,u,m,r,a,n,e,l,o,i])}function Hn(e){let t=c.useRef(wi(e)),n=c.useRef(!1),r=ns(),a=c.useMemo(()=>Cx(r.search,n.current?null:t.current),[r.search]),l=Xt(),o=c.useCallback((i,u)=>{const d=wi(typeof i=="function"?i(a):i);n.current=!0,l("?"+d,u)},[l,a]);return[a,o]}function Ox(e,t){t===void 0&&(t={});let n=c.useContext(Lx);n==null&&Ye(!1);let{basename:r}=Ux(bi.useViewTransitionState),a=Al(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yi(a.pathname,o)!=null||yi(a.pathname,l)!=null}function _x({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const ct=c.forwardRef(_x);function Mx({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Rm=c.forwardRef(Mx);function Fx({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Bx=c.forwardRef(Fx);function zx({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const wr=c.forwardRef(zx);function Wx({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const br=c.forwardRef(Wx);function Gx({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Cu=c.forwardRef(Gx);function Hx({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Vx=c.forwardRef(Hx);var Kx=Object.defineProperty,qx=(e,t,n)=>t in e?Kx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,co=(e,t,n)=>(qx(e,typeof t!="symbol"?t+"":t,n),n);let Qx=class{constructor(){co(this,"current",this.detect()),co(this,"handoffState","pending"),co(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},un=new Qx,pn=(e,t)=>{un.isServer?c.useEffect(e,t):c.useLayoutEffect(e,t)};function $l(e){let t=c.useRef(e);return pn(()=>{t.current=e},[e]),t}let xt=function(e){let t=$l(e);return Le.useCallback((...n)=>t.current(...n),[t])};function Rl(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Il(){let e=[],t={addEventListener(n,r,a,l){return n.addEventListener(r,a,l),t.add(()=>n.removeEventListener(r,a,l))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Rl(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,a){let l=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:a}),this.add(()=>{Object.assign(n.style,{[r]:l})})},group(n){let r=Il();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let a of e.splice(r,1))a()}},dispose(){for(let n of e.splice(0))n()}};return t}function Yx(){let[e]=c.useState(Il);return c.useEffect(()=>()=>e.dispose(),[e]),e}function Jx(){let e=typeof document>"u";return"useSyncExternalStore"in Wr?(t=>t.useSyncExternalStore)(Wr)(()=>()=>{},()=>!1,()=>!e):!1}function Ul(){let e=Jx(),[t,n]=c.useState(un.isHandoffComplete);return t&&un.isHandoffComplete===!1&&n(!1),c.useEffect(()=>{t!==!0&&n(!0)},[t]),c.useEffect(()=>un.handoff(),[]),e?!1:t}var Kc;let rs=(Kc=Le.useId)!=null?Kc:function(){let e=Ul(),[t,n]=Le.useState(e?()=>un.nextId():null);return pn(()=>{t===null&&n(un.nextId())},[t]),t!=null?""+t:void 0};function Mn(e,t,...n){if(e in t){let a=t[e];return typeof a=="function"?a(...n):a}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Mn),r}function Im(e){return un.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let ji=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Zn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Zn||{}),Um=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Um||{}),Zx=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Zx||{});function Xx(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ji)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Dm=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Dm||{});function eg(e,t=0){var n;return e===((n=Im(e))==null?void 0:n.body)?!1:Mn(t,{0(){return e.matches(ji)},1(){let r=e;for(;r!==null;){if(r.matches(ji))return!0;r=r.parentElement}return!1}})}var tg=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(tg||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function lr(e){e==null||e.focus({preventScroll:!0})}let ng=["textarea","input"].join(",");function rg(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,ng))!=null?n:!1}function sg(e,t=n=>n){return e.slice().sort((n,r)=>{let a=t(n),l=t(r);if(a===null||l===null)return 0;let o=a.compareDocumentPosition(l);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Ua(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:a=[]}={}){let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?sg(e):e:Xx(e);a.length>0&&o.length>1&&(o=o.filter(w=>!a.includes(w))),r=r??l.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},m=0,p=o.length,g;do{if(m>=p||m+p<=0)return 0;let w=u+m;if(t&16)w=(w+p)%p;else{if(w<0)return 3;if(w>=p)return 1}g=o[w],g==null||g.focus(d),m+=i}while(g!==l.activeElement);return t&6&&rg(g)&&g.select(),2}function Om(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ag(){return/Android/gi.test(window.navigator.userAgent)}function lg(){return Om()||ag()}function va(e,t,n){let r=$l(t);c.useEffect(()=>{function a(l){r.current(l)}return document.addEventListener(e,a,n),()=>document.removeEventListener(e,a,n)},[e,n])}function _m(e,t,n){let r=$l(t);c.useEffect(()=>{function a(l){r.current(l)}return window.addEventListener(e,a,n),()=>window.removeEventListener(e,a,n)},[e,n])}function og(e,t,n=!0){let r=c.useRef(!1);c.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function a(o,i){if(!r.current||o.defaultPrevented)return;let u=i(o);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=function m(p){return typeof p=="function"?m(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let m of d){if(m===null)continue;let p=m instanceof HTMLElement?m:m.current;if(p!=null&&p.contains(u)||o.composed&&o.composedPath().includes(p))return}return!eg(u,Dm.Loose)&&u.tabIndex!==-1&&o.preventDefault(),t(o,u)}let l=c.useRef(null);va("pointerdown",o=>{var i,u;r.current&&(l.current=((u=(i=o.composedPath)==null?void 0:i.call(o))==null?void 0:u[0])||o.target)},!0),va("mousedown",o=>{var i,u;r.current&&(l.current=((u=(i=o.composedPath)==null?void 0:i.call(o))==null?void 0:u[0])||o.target)},!0),va("click",o=>{lg()||l.current&&(a(o,()=>l.current),l.current=null)},!0),va("touchend",o=>a(o,()=>o.target instanceof HTMLElement?o.target:null),!0),_m("blur",o=>a(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ea(...e){return c.useMemo(()=>Im(...e),[...e])}let Mm=Symbol();function ig(e,t=!0){return Object.assign(e,{[Mm]:t})}function xn(...e){let t=c.useRef(e);c.useEffect(()=>{t.current=e},[e]);let n=xt(r=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(r):a.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Mm]))?void 0:n}function Eu(e,t){let n=c.useRef([]),r=xt(e);c.useEffect(()=>{let a=[...n.current];for(let[l,o]of t.entries())if(n.current[l]!==o){let i=r(t,a);return n.current=t,i}},[r,...t])}function qc(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Ni=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ni||{}),ug=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ug||{});function en({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:a,visible:l=!0,name:o,mergeRefs:i}){i=i??cg;let u=Fm(t,e);if(l)return wa(u,n,r,o,i);let d=a??0;if(d&2){let{static:m=!1,...p}=u;if(m)return wa(p,n,r,o,i)}if(d&1){let{unmount:m=!0,...p}=u;return Mn(m?0:1,{0(){return null},1(){return wa({...p,hidden:!0,style:{display:"none"}},n,r,o,i)}})}return wa(u,n,r,o,i)}function wa(e,t={},n,r,a){let{as:l=n,children:o,refName:i="ref",...u}=fo(e,["unmount","static"]),d=e.ref!==void 0?{[i]:e.ref}:{},m=typeof o=="function"?o(t):o;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(t));let p={};if(t){let g=!1,w=[];for(let[S,y]of Object.entries(t))typeof y=="boolean"&&(g=!0),y===!0&&w.push(S);g&&(p["data-headlessui-state"]=w.join(" "))}if(l===c.Fragment&&Object.keys(Qc(u)).length>0){if(!c.isValidElement(m)||Array.isArray(m)&&m.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(u).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let g=m.props,w=typeof(g==null?void 0:g.className)=="function"?(...y)=>qc(g==null?void 0:g.className(...y),u.className):qc(g==null?void 0:g.className,u.className),S=w?{className:w}:{};return c.cloneElement(m,Object.assign({},Fm(m.props,Qc(fo(u,["ref"]))),p,d,{ref:a(m.ref,d.ref)},S))}return c.createElement(l,Object.assign({},fo(u,["ref"]),l!==c.Fragment&&d,l!==c.Fragment&&p),m)}function cg(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Fm(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let a in r)a.startsWith("on")&&typeof r[a]=="function"?(n[a]!=null||(n[a]=[]),n[a].push(r[a])):t[a]=r[a];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](a,...l){let o=n[r];for(let i of o){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;i(a,...l)}}});return t}function tn(e){var t;return Object.assign(c.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Qc(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function fo(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let dg="div";var il=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(il||{});function fg(e,t){var n;let{features:r=1,...a}=e,l={ref:t,"aria-hidden":(r&2)===2?!0:(n=a["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return en({ourProps:l,theirProps:a,slot:{},defaultTag:dg,name:"Hidden"})}let Si=tn(fg),Bm=c.createContext(null);Bm.displayName="OpenClosedContext";var ys=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ys||{});function mg(){return c.useContext(Bm)}function pg(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Sn=[];pg(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Sn[0]!==t.target&&(Sn.unshift(t.target),Sn=Sn.filter(n=>n!=null&&n.isConnected),Sn.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function hg(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&xg(n)?!1:r}function xg(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var zm=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(zm||{});function Wm(e,t,n,r){let a=$l(n);c.useEffect(()=>{e=e??window;function l(o){a.current(o)}return e.addEventListener(t,l,r),()=>e.removeEventListener(t,l,r)},[e,t,r])}function Gm(){let e=c.useRef(!1);return pn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Hm(e){let t=xt(e),n=c.useRef(!1);c.useEffect(()=>(n.current=!1,()=>{n.current=!0,Rl(()=>{n.current&&t()})}),[t])}var vs=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(vs||{});function gg(){let e=c.useRef(0);return _m("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Vm(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let yg="div";var Km=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Km||{});function vg(e,t){let n=c.useRef(null),r=xn(n,t),{initialFocus:a,containers:l,features:o=30,...i}=e;Ul()||(o=1);let u=ea(n);jg({ownerDocument:u},!!(o&16));let d=Ng({ownerDocument:u,container:n,initialFocus:a},!!(o&2));Sg({ownerDocument:u,container:n,containers:l,previousActiveElement:d},!!(o&8));let m=gg(),p=xt(y=>{let v=n.current;v&&(h=>h())(()=>{Mn(m.current,{[vs.Forwards]:()=>{Ua(v,Zn.First,{skipElements:[y.relatedTarget]})},[vs.Backwards]:()=>{Ua(v,Zn.Last,{skipElements:[y.relatedTarget]})}})})}),g=Yx(),w=c.useRef(!1),S={ref:r,onKeyDown(y){y.key=="Tab"&&(w.current=!0,g.requestAnimationFrame(()=>{w.current=!1}))},onBlur(y){let v=Vm(l);n.current instanceof HTMLElement&&v.add(n.current);let h=y.relatedTarget;h instanceof HTMLElement&&h.dataset.headlessuiFocusGuard!=="true"&&(qm(v,h)||(w.current?Ua(n.current,Mn(m.current,{[vs.Forwards]:()=>Zn.Next,[vs.Backwards]:()=>Zn.Previous})|Zn.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&lr(y.target)))}};return Le.createElement(Le.Fragment,null,!!(o&4)&&Le.createElement(Si,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:il.Focusable}),en({ourProps:S,theirProps:i,defaultTag:yg,name:"FocusTrap"}),!!(o&4)&&Le.createElement(Si,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:il.Focusable}))}let wg=tn(vg),fs=Object.assign(wg,{features:Km});function bg(e=!0){let t=c.useRef(Sn.slice());return Eu(([n],[r])=>{r===!0&&n===!1&&Rl(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Sn.slice())},[e,Sn,t]),xt(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function jg({ownerDocument:e},t){let n=bg(t);Eu(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&lr(n())},[t]),Hm(()=>{t&&lr(n())})}function Ng({ownerDocument:e,container:t,initialFocus:n},r){let a=c.useRef(null),l=Gm();return Eu(()=>{if(!r)return;let o=t.current;o&&Rl(()=>{if(!l.current)return;let i=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===i){a.current=i;return}}else if(o.contains(i)){a.current=i;return}n!=null&&n.current?lr(n.current):Ua(o,Zn.First)===Um.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=e==null?void 0:e.activeElement})},[r]),a}function Sg({ownerDocument:e,container:t,containers:n,previousActiveElement:r},a){let l=Gm();Wm(e==null?void 0:e.defaultView,"focus",o=>{if(!a||!l.current)return;let i=Vm(n);t.current instanceof HTMLElement&&i.add(t.current);let u=r.current;if(!u)return;let d=o.target;d&&d instanceof HTMLElement?qm(i,d)?(r.current=d,lr(d)):(o.preventDefault(),o.stopPropagation(),lr(u)):lr(r.current)},!0)}function qm(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let Qm=c.createContext(!1);function kg(){return c.useContext(Qm)}function ki(e){return Le.createElement(Qm.Provider,{value:e.force},e.children)}function Cg(e){let t=kg(),n=c.useContext(Ym),r=ea(e),[a,l]=c.useState(()=>{if(!t&&n!==null||un.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let i=r.createElement("div");return i.setAttribute("id","headlessui-portal-root"),r.body.appendChild(i)});return c.useEffect(()=>{a!==null&&(r!=null&&r.body.contains(a)||r==null||r.body.appendChild(a))},[a,r]),c.useEffect(()=>{t||n!==null&&l(n.current)},[n,l,t]),a}let Eg=c.Fragment;function Pg(e,t){let n=e,r=c.useRef(null),a=xn(ig(m=>{r.current=m}),t),l=ea(r),o=Cg(r),[i]=c.useState(()=>{var m;return un.isServer?null:(m=l==null?void 0:l.createElement("div"))!=null?m:null}),u=c.useContext(Ci),d=Ul();return pn(()=>{!o||!i||o.contains(i)||(i.setAttribute("data-headlessui-portal",""),o.appendChild(i))},[o,i]),pn(()=>{if(i&&u)return u.register(i)},[u,i]),Hm(()=>{var m;!o||!i||(i instanceof Node&&o.contains(i)&&o.removeChild(i),o.childNodes.length<=0&&((m=o.parentElement)==null||m.removeChild(o)))}),d?!o||!i?null:wm.createPortal(en({ourProps:{ref:a},theirProps:n,defaultTag:Eg,name:"Portal"}),i):null}let Tg=c.Fragment,Ym=c.createContext(null);function Lg(e,t){let{target:n,...r}=e,a={ref:xn(t)};return Le.createElement(Ym.Provider,{value:n},en({ourProps:a,theirProps:r,defaultTag:Tg,name:"Popover.Group"}))}let Ci=c.createContext(null);function Ag(){let e=c.useContext(Ci),t=c.useRef([]),n=xt(l=>(t.current.push(l),e&&e.register(l),()=>r(l))),r=xt(l=>{let o=t.current.indexOf(l);o!==-1&&t.current.splice(o,1),e&&e.unregister(l)}),a=c.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,c.useMemo(()=>function({children:l}){return Le.createElement(Ci.Provider,{value:a},l)},[a])]}let $g=tn(Pg),Rg=tn(Lg),Ei=Object.assign($g,{Group:Rg});function Ig(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Ug=typeof Object.is=="function"?Object.is:Ig,{useState:Dg,useEffect:Og,useLayoutEffect:_g,useDebugValue:Mg}=Wr;function Fg(e,t,n){const r=t(),[{inst:a},l]=Dg({inst:{value:r,getSnapshot:t}});return _g(()=>{a.value=r,a.getSnapshot=t,mo(a)&&l({inst:a})},[e,r,t]),Og(()=>(mo(a)&&l({inst:a}),e(()=>{mo(a)&&l({inst:a})})),[e]),Mg(r),r}function mo(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!Ug(n,r)}catch{return!0}}function Bg(e,t,n){return t()}const zg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wg=!zg,Gg=Wg?Bg:Fg,Hg="useSyncExternalStore"in Wr?(e=>e.useSyncExternalStore)(Wr):Gg;function Vg(e){return Hg(e.subscribe,e.getSnapshot,e.getSnapshot)}function Kg(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(a){return r.add(a),()=>r.delete(a)},dispatch(a,...l){let o=t[a].call(n,...l);o&&(n=o,r.forEach(i=>i()))}}}function qg(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,a=r.clientWidth-r.offsetWidth,l=e-a;n.style(r,"paddingRight",`${l}px`)}}}function Qg(){return Om()?{before({doc:e,d:t,meta:n}){function r(a){return n.containers.flatMap(l=>l()).some(l=>l.contains(a))}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=Il();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let l=(a=window.scrollY)!=null?a:window.pageYOffset,o=null;t.addEventListener(e,"click",i=>{if(i.target instanceof HTMLElement)try{let u=i.target.closest("a");if(!u)return;let{hash:d}=new URL(u.href),m=e.querySelector(d);m&&!r(m)&&(o=m)}catch{}},!0),t.addEventListener(e,"touchstart",i=>{if(i.target instanceof HTMLElement)if(r(i.target)){let u=i.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;t.style(u,"overscrollBehavior","contain")}else t.style(i.target,"touchAction","none")}),t.addEventListener(e,"touchmove",i=>{if(i.target instanceof HTMLElement)if(r(i.target)){let u=i.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()},{passive:!1}),t.add(()=>{var i;let u=(i=window.scrollY)!=null?i:window.pageYOffset;l!==u&&window.scrollTo(0,l),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Yg(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Jg(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let nr=Kg(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Il(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Jg(n)},a=[Qg(),qg(),Yg()];a.forEach(({before:l})=>l==null?void 0:l(r)),a.forEach(({after:l})=>l==null?void 0:l(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});nr.subscribe(()=>{let e=nr.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",a=n.count!==0;(a&&!r||!a&&r)&&nr.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&nr.dispatch("TEARDOWN",n)}});function Zg(e,t,n){let r=Vg(nr),a=e?r.get(e):void 0,l=a?a.count>0:!1;return pn(()=>{if(!(!e||!t))return nr.dispatch("PUSH",e,n),()=>nr.dispatch("POP",e,n)},[t,e]),l}let po=new Map,ms=new Map;function Yc(e,t=!0){pn(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function a(){var o;if(!r)return;let i=(o=ms.get(r))!=null?o:1;if(i===1?ms.delete(r):ms.set(r,i-1),i!==1)return;let u=po.get(r);u&&(u["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",u["aria-hidden"]),r.inert=u.inert,po.delete(r))}let l=(n=ms.get(r))!=null?n:0;return ms.set(r,l+1),l!==0||(po.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),a},[e,t])}function Xg({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let a=c.useRef((r=n==null?void 0:n.current)!=null?r:null),l=ea(a),o=xt(()=>{var i,u,d;let m=[];for(let p of e)p!==null&&(p instanceof HTMLElement?m.push(p):"current"in p&&p.current instanceof HTMLElement&&m.push(p.current));if(t!=null&&t.current)for(let p of t.current)m.push(p);for(let p of(i=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?i:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(p.contains(a.current)||p.contains((d=(u=a.current)==null?void 0:u.getRootNode())==null?void 0:d.host)||m.some(g=>p.contains(g))||m.push(p));return m});return{resolveContainers:o,contains:xt(i=>o().some(u=>u.contains(i))),mainTreeNodeRef:a,MainTreeNode:c.useMemo(()=>function(){return n!=null?null:Le.createElement(Si,{features:il.Hidden,ref:a})},[a,n])}}let Pu=c.createContext(()=>{});Pu.displayName="StackContext";var Pi=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Pi||{});function ey(){return c.useContext(Pu)}function ty({children:e,onUpdate:t,type:n,element:r,enabled:a}){let l=ey(),o=xt((...i)=>{t==null||t(...i),l(...i)});return pn(()=>{let i=a===void 0||a===!0;return i&&o(0,n,r),()=>{i&&o(1,n,r)}},[o,n,r,a]),Le.createElement(Pu.Provider,{value:o},e)}let Jm=c.createContext(null);function Zm(){let e=c.useContext(Jm);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Zm),t}return e}function ny(){let[e,t]=c.useState([]);return[e.length>0?e.join(" "):void 0,c.useMemo(()=>function(n){let r=xt(l=>(t(o=>[...o,l]),()=>t(o=>{let i=o.slice(),u=i.indexOf(l);return u!==-1&&i.splice(u,1),i}))),a=c.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return Le.createElement(Jm.Provider,{value:a},n.children)},[t])]}let ry="p";function sy(e,t){let n=rs(),{id:r=`headlessui-description-${n}`,...a}=e,l=Zm(),o=xn(t);pn(()=>l.register(r),[r,l.register]);let i={ref:o,...l.props,id:r};return en({ourProps:i,theirProps:a,slot:l.slot||{},defaultTag:ry,name:l.name||"Description"})}let ay=tn(sy),ly=Object.assign(ay,{});var oy=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(oy||{}),iy=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(iy||{});let uy={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},ul=c.createContext(null);ul.displayName="DialogContext";function ta(e){let t=c.useContext(ul);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ta),n}return t}function cy(e,t,n=()=>[document.body]){Zg(e,t,r=>{var a;return{containers:[...(a=r.containers)!=null?a:[],n]}})}function dy(e,t){return Mn(t.type,uy,e,t)}let fy="div",my=Ni.RenderStrategy|Ni.Static;function py(e,t){let n=rs(),{id:r=`headlessui-dialog-${n}`,open:a,onClose:l,initialFocus:o,role:i="dialog",__demoMode:u=!1,...d}=e,[m,p]=c.useState(0),g=c.useRef(!1);i=function(){return i==="dialog"||i==="alertdialog"?i:(g.current||(g.current=!0,console.warn(`Invalid role [${i}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let w=mg();a===void 0&&w!==null&&(a=(w&ys.Open)===ys.Open);let S=c.useRef(null),y=xn(S,t),v=ea(S),h=e.hasOwnProperty("open")||w!==null,f=e.hasOwnProperty("onClose");if(!h&&!f)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!h)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!f)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof l!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${l}`);let x=a?0:1,[N,E]=c.useReducer(dy,{titleId:null,descriptionId:null,panelRef:c.createRef()}),P=xt(()=>l(!1)),R=xt(D=>E({type:0,id:D})),U=Ul()?u?!1:x===0:!1,K=m>1,G=c.useContext(ul)!==null,[ne,pe]=Ag(),ie={get current(){var D;return(D=N.panelRef.current)!=null?D:S.current}},{resolveContainers:O,mainTreeNodeRef:A,MainTreeNode:z}=Xg({portals:ne,defaultContainers:[ie]}),q=K?"parent":"leaf",j=w!==null?(w&ys.Closing)===ys.Closing:!1,b=G||j?!1:U,C=c.useCallback(()=>{var D,V;return(V=Array.from((D=v==null?void 0:v.querySelectorAll("body > *"))!=null?D:[]).find(Q=>Q.id==="headlessui-portal-root"?!1:Q.contains(A.current)&&Q instanceof HTMLElement))!=null?V:null},[A]);Yc(C,b);let L=K?!0:U,T=c.useCallback(()=>{var D,V;return(V=Array.from((D=v==null?void 0:v.querySelectorAll("[data-headlessui-portal]"))!=null?D:[]).find(Q=>Q.contains(A.current)&&Q instanceof HTMLElement))!=null?V:null},[A]);Yc(T,L),og(O,D=>{D.preventDefault(),P()},!(!U||K));let ee=!(K||x!==0);Wm(v==null?void 0:v.defaultView,"keydown",D=>{ee&&(D.defaultPrevented||D.key===zm.Escape&&(D.preventDefault(),D.stopPropagation(),P()))}),cy(v,!(j||x!==0||G),O),c.useEffect(()=>{if(x!==0||!S.current)return;let D=new ResizeObserver(V=>{for(let Q of V){let te=Q.target.getBoundingClientRect();te.x===0&&te.y===0&&te.width===0&&te.height===0&&P()}});return D.observe(S.current),()=>D.disconnect()},[x,S,P]);let[Ae,W]=ny(),ce=c.useMemo(()=>[{dialogState:x,close:P,setTitleId:R},N],[x,N,P,R]),he=c.useMemo(()=>({open:x===0}),[x]),je={ref:y,id:r,role:i,"aria-modal":x===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":Ae};return Le.createElement(ty,{type:"Dialog",enabled:x===0,element:S,onUpdate:xt((D,V)=>{V==="Dialog"&&Mn(D,{[Pi.Add]:()=>p(Q=>Q+1),[Pi.Remove]:()=>p(Q=>Q-1)})})},Le.createElement(ki,{force:!0},Le.createElement(Ei,null,Le.createElement(ul.Provider,{value:ce},Le.createElement(Ei.Group,{target:S},Le.createElement(ki,{force:!1},Le.createElement(W,{slot:he,name:"Dialog.Description"},Le.createElement(fs,{initialFocus:o,containers:O,features:U?Mn(q,{parent:fs.features.RestoreFocus,leaf:fs.features.All&~fs.features.FocusLock}):fs.features.None},Le.createElement(pe,null,en({ourProps:je,theirProps:d,slot:he,defaultTag:fy,features:my,visible:x===0,name:"Dialog"}))))))))),Le.createElement(z,null))}let hy="div";function xy(e,t){let n=rs(),{id:r=`headlessui-dialog-overlay-${n}`,...a}=e,[{dialogState:l,close:o}]=ta("Dialog.Overlay"),i=xn(t),u=xt(m=>{if(m.target===m.currentTarget){if(hg(m.currentTarget))return m.preventDefault();m.preventDefault(),m.stopPropagation(),o()}}),d=c.useMemo(()=>({open:l===0}),[l]);return en({ourProps:{ref:i,id:r,"aria-hidden":!0,onClick:u},theirProps:a,slot:d,defaultTag:hy,name:"Dialog.Overlay"})}let gy="div";function yy(e,t){let n=rs(),{id:r=`headlessui-dialog-backdrop-${n}`,...a}=e,[{dialogState:l},o]=ta("Dialog.Backdrop"),i=xn(t);c.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let u=c.useMemo(()=>({open:l===0}),[l]);return Le.createElement(ki,{force:!0},Le.createElement(Ei,null,en({ourProps:{ref:i,id:r,"aria-hidden":!0},theirProps:a,slot:u,defaultTag:gy,name:"Dialog.Backdrop"})))}let vy="div";function wy(e,t){let n=rs(),{id:r=`headlessui-dialog-panel-${n}`,...a}=e,[{dialogState:l},o]=ta("Dialog.Panel"),i=xn(t,o.panelRef),u=c.useMemo(()=>({open:l===0}),[l]),d=xt(m=>{m.stopPropagation()});return en({ourProps:{ref:i,id:r,onClick:d},theirProps:a,slot:u,defaultTag:vy,name:"Dialog.Panel"})}let by="h2";function jy(e,t){let n=rs(),{id:r=`headlessui-dialog-title-${n}`,...a}=e,[{dialogState:l,setTitleId:o}]=ta("Dialog.Title"),i=xn(t);c.useEffect(()=>(o(r),()=>o(null)),[r,o]);let u=c.useMemo(()=>({open:l===0}),[l]);return en({ourProps:{ref:i,id:r},theirProps:a,slot:u,defaultTag:by,name:"Dialog.Title"})}let Ny=tn(py),Sy=tn(yy),ky=tn(wy),Cy=tn(xy),Ey=tn(jy),ho=Object.assign(Ny,{Backdrop:Sy,Panel:ky,Overlay:Cy,Title:Ey,Description:ly});const Xm=c.createContext(void 0);function Py(e){return e.includes("admin")?"superadmin":e.includes("manager")?"manager":e.includes("user")?"user":"guest"}function Jc(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Ty=({children:e})=>{const[t,n]=c.useState(null),[r,a]=c.useState(!0),l=Le.useCallback(async()=>{const u=Jc();if(!u){a(!1);return}try{const d=window;if(!d.auth||typeof d.auth.getAccessToken!="function"){a(!1);return}await new Promise(v=>{d.auth.isAuthenticated(h=>{if(!h){n(null),a(!1),v();return}v()})});const m=await new Promise(v=>{window.auth.getAccessToken(h=>v(h))});if(!m){n(null),a(!1);return}const p=await fetch(`${u}/me`,{headers:{Authorization:`Bearer ${m}`}});if(!p.ok){n(null),a(!1);return}const g=await p.json(),w=Array.isArray(g.groups)?g.groups.map(String):[],S=Py(w),y=Array.isArray(g.customGroups)?g.customGroups.map(String):[];n({userId:String(g.userId||""),email:String(g.email||""),groups:w,role:S,customGroups:y})}catch{n(null)}finally{a(!1)}},[]);c.useEffect(()=>{l()},[l]);const o=Le.useCallback(async()=>{Jc()&&await l()},[l]),i=()=>{const u=window;u.auth&&typeof u.auth.signOut=="function"&&u.auth.signOut(),n(null)};return s.jsx(Xm.Provider,{value:{user:t,isLoading:r,signOut:i,refreshAuth:o},children:e})};function at(){const e=c.useContext(Xm);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function Pt(e,t){if(t==="guest")return!0;if(!e)return!1;const n=["guest","user","manager","superadmin"];return n.indexOf(e.role)>=n.indexOf(t)}function cl(e){return e!=null&&e.userId?e.role==="superadmin"?!0:(e.customGroups??[]).includes("Squash"):!1}function dl(e){return e!=null&&e.userId?e.role==="superadmin"?!0:e.role!=="manager"?!1:(e.customGroups??[]).includes("Squash"):!1}const ep=c.createContext(void 0);function Ly(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Ay=({children:e})=>{const[t,n]=c.useState(null);return c.useEffect(()=>{const r=Ly();if(!r)return;let a=!1;return(async()=>{try{const l=await fetch(`${r}/branding/logo`);if(!l.ok||!(l.headers.get("Content-Type")||"").includes("application/json"))return;const i=await l.json();if(a)return;i&&i.url&&n({url:String(i.url),alt:String(i.alt||"Funkedupshift")})}catch{}})(),()=>{a=!0}},[]),s.jsx(ep.Provider,{value:{logo:t},children:e})};function tp(){const e=c.useContext(ep);if(!e)throw new Error("useBranding must be used within BrandingProvider");return e}const $y=()=>{const{user:e}=at(),t=cl(e);return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("section",{className:"relative overflow-hidden rounded-2xl border border-slate-800 bg-gradient-to-br from-brand-orange/20 via-brand-navy/10 to-brand-teal/20 px-6 py-10",children:[s.jsxs("div",{className:"max-w-xl space-y-4",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-slate-200",children:"Shared internet intelligence"}),s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-50",children:"Discover, rate, and enrich the sites that matter."}),s.jsx("p",{className:"text-sm text-slate-100/80",children:"Funkedupshift is a living index of websites, media, and experiments  curated by admins, enriched by everyone."}),s.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[s.jsx(ge,{to:"/websites",className:"inline-flex items-center rounded-full border border-slate-500/60 px-4 py-2 text-sm font-semibold text-slate-100 hover:border-slate-300/80",children:"Browse websites"}),s.jsx(ge,{to:"/media",className:"inline-flex items-center rounded-full border border-slate-500/60 px-4 py-2 text-sm font-semibold text-slate-100 hover:border-slate-300/80",children:"Explore media"}),s.jsx(ge,{to:"/internet-dashboard",className:"inline-flex items-center rounded-full border border-slate-500/60 px-4 py-2 text-sm font-semibold text-slate-100 hover:border-slate-300/80",children:"Internet Dashboard"}),t&&s.jsx(ge,{to:"/squash",className:"inline-flex items-center rounded-full border border-slate-500/60 px-4 py-2 text-sm font-semibold text-slate-100 hover:border-slate-300/80",children:"Squash"})]})]}),s.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 w-1/2 opacity-60",children:s.jsx("div",{className:"absolute -inset-24 bg-[radial-gradient(circle_at_top,_#f97316_0,_transparent_55%),radial-gradient(circle_at_bottom,_#06d6a0_0,_transparent_55%)]"})})]}),s.jsxs("section",{className:"grid gap-4 sm:grid-cols-3",children:[s.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.22em] text-slate-500 mb-2",children:"Everyone"}),s.jsx("p",{className:"text-sm text-slate-200",children:"Browse all sites and media without signing in. Ratings and metadata are public by design."})]}),s.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.22em] text-slate-500 mb-2",children:"Users"}),s.jsx("p",{className:"text-sm text-slate-200",children:"Sign in to rate sites, add notes, and personalize your view of the internet."})]}),s.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.22em] text-slate-500 mb-2",children:"Admins"}),s.jsx("p",{className:"text-sm text-slate-200",children:"Curate the corpus, manage categories and groups, and control branding from a single admin surface."})]})]})]})};function xo(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const go=10,Ry=()=>{const{user:e}=at(),[t,n]=Hn(),[r,a]=c.useState([]),[l,o]=c.useState(()=>t.get("q")??""),[i,u]=c.useState(()=>{const j=t.get("categoryIds");return j?j.split(",").filter(Boolean):[]}),[d,m]=c.useState(()=>t.get("categoryMode")==="or"?"or":"and"),[p,g]=c.useState(!1),[w,S]=c.useState(""),[y,v]=c.useState("avgDesc"),[h,f]=c.useState(1),[x,N]=c.useState(!1),[E,P]=c.useState(null),R=!!e,U=c.useRef(null),[K,G]=c.useState([]);c.useEffect(()=>{const j=xo();if(!j)return;let b=!1;return fetch(`${j}/categories`).then(C=>C.ok?C.json():Promise.reject(new Error("Failed to load categories"))).then(C=>{if(b)return;const L=(C.categories??[]).map(T=>({id:T.PK||T.id||"",name:T.name||T.PK||""}));L.sort((T,Y)=>(T.name||"").localeCompare(Y.name||"")),G(L)}).catch(()=>{}),()=>{b=!0}},[]);const ne=c.useMemo(()=>{if(d==="or"&&K.length>0)return K;const j=new Map;r.forEach(C=>(C.categories||[]).forEach(L=>{L.id&&!j.has(L.id)&&j.set(L.id,L)}));const b=[...K];return j.forEach(C=>{b.some(L=>L.id===C.id)||b.push(C)}),b.sort((C,L)=>(C.name||"").localeCompare(L.name||"")),b},[K,d,r]),pe=c.useMemo(()=>ne.filter(j=>!i.includes(j.id)&&(!w.trim()||(j.name||"").toLowerCase().includes(w.toLowerCase()))),[ne,i,w]),ie=l.trim().length>0||i.length>0;c.useEffect(()=>{if(ie){const j=new URLSearchParams;l.trim()&&j.set("q",l.trim()),i.length&&(j.set("categoryIds",i.join(",")),j.set("categoryMode",d)),n(j,{replace:!0})}else n({},{replace:!0})},[ie,l,i,d,n]),c.useEffect(()=>{if(!ie){a([]),f(1),N(!1),P(null);return}const j=xo();if(!j){P("API URL not set. Deploy via CI or set window.API_BASE_URL in config.js.");return}let b=!1;async function C(){N(!0),P(null);try{const L=new URLSearchParams;L.set("limit","100"),l.trim()&&L.set("q",l.trim()),i.length>0&&(L.set("categoryIds",i.join(",")),L.set("categoryMode",d));const T=await fetch(`${j}/sites?${L.toString()}`);if(!T.ok){const ee=await T.text();throw new Error(`HTTP ${T.status}: ${ee}`)}const Y=await T.json();if(b)return;a(Y.sites??[]),f(1)}catch(L){b||P((L==null?void 0:L.message)??"Failed to load sites.")}finally{b||N(!1)}}return C(),()=>{b=!0}},[ie,l,i,d]),c.useEffect(()=>{function j(b){U.current&&!U.current.contains(b.target)&&g(!1)}if(p)return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[p]);const O=c.useMemo(()=>{const j=[...r];return j.sort((b,C)=>{const L=(b.title||b.url||b.PK||"").toLowerCase(),T=(C.title||C.url||C.PK||"").toLowerCase(),Y=typeof b.averageRating=="number"?b.averageRating:0,ee=typeof C.averageRating=="number"?C.averageRating:0;return y==="avgDesc"?ee!==Y?ee-Y:L.localeCompare(T):y==="avgAsc"?Y!==ee?Y-ee:L.localeCompare(T):y==="alphaAsc"?L.localeCompare(T):y==="alphaDesc"?T.localeCompare(L):0}),j},[r,y]),A=Math.max(1,Math.ceil(O.length/go)),z=O.slice((h-1)*go,h*go),q=async(j,b)=>{const C=xo();if(!C)return;const L=window;if(!L.auth||typeof L.auth.getAccessToken!="function")return;const T=await new Promise(Y=>{L.auth.getAccessToken(ee=>Y(ee))});T&&await fetch(`${C}/stars`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({siteId:j,rating:b})}).catch(()=>{})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Websites"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Browse curated sites, see ratings, and jump straight into the interesting corners of the internet."})]}),s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4 space-y-4","aria-label":"Search and filter",children:[s.jsxs("form",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",onSubmit:j=>{j.preventDefault(),o(l.trim())},children:[s.jsx("input",{type:"text",value:l,onChange:j=>o(j.target.value),placeholder:"Search sites (title, URL, description)",className:"flex-1 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500",children:"Search"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4 sm:gap-6",children:[s.jsxs("div",{ref:U,className:"relative flex-shrink-0 min-w-0 max-w-sm",children:[s.jsx("label",{htmlFor:"website-category-filter",className:"block text-xs font-medium text-slate-400 mb-1",children:"Categories (filter by)"}),s.jsx("input",{id:"website-category-filter",type:"text",value:w,onChange:j=>S(j.target.value),onFocus:()=>g(!0),placeholder:"Search and select categories",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",autoComplete:"off"}),p&&s.jsx("div",{className:"absolute left-0 top-full z-10 mt-1 w-full max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",role:"listbox","aria-label":"Category options",children:pe.length>0?pe.map(j=>s.jsx("button",{type:"button",role:"option",onClick:()=>{u(b=>b.includes(j.id)?b:[...b,j.id]),S("")},className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:j.name},j.id)):s.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:ne.length===0?"No categories yet.":"No matches or all selected."})}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:i.map(j=>{const b=ne.find(C=>C.id===j);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(b==null?void 0:b.name)??j,s.jsx("button",{type:"button",onClick:()=>u(C=>C.filter(L=>L!==j)),className:"hover:text-red-400","aria-label":"Remove category filter",children:""})]},j)})}),i.length>0&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Match:"}),s.jsxs("div",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 p-0.5",children:[s.jsx("button",{type:"button",onClick:()=>m("and"),className:`rounded px-2 py-0.5 text-xs font-medium ${d==="and"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"AND"}),s.jsx("button",{type:"button",onClick:()=>m("or"),className:`rounded px-2 py-0.5 text-xs font-medium ${d==="or"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"OR"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-xs text-slate-400",children:[s.jsx("span",{className:"font-medium text-slate-200",children:"Sort:"}),s.jsxs("select",{value:y,onChange:j=>{v(j.target.value),f(1)},className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",children:[s.jsx("option",{value:"avgDesc",children:"Avg stars (high first)"}),s.jsx("option",{value:"avgAsc",children:"Avg stars (low first)"}),s.jsx("option",{value:"alphaAsc",children:"Title AZ"}),s.jsx("option",{value:"alphaDesc",children:"Title ZA"})]}),s.jsx("span",{className:"text-slate-500",children:ie?O.length===0?"No sites found.":`${O.length} sites`:""})]})]})]}),E&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:E}),ie?x?s.jsx("div",{className:"text-sm text-slate-400",children:"Loading sites"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm text-slate-400",children:O.length===0?"No results":`${O.length} results`}),s.jsx("ul",{className:"space-y-2 mt-2",children:z.map(j=>{const b=j.title||j.url||j.PK||"Untitled",C=j.logoUrl;return s.jsxs("li",{className:"flex gap-3 rounded-xl border border-slate-800 bg-slate-950/60 p-3",children:[s.jsx("div",{className:"h-12 w-12 flex-shrink-0 overflow-hidden rounded-lg border border-slate-700 bg-slate-900",children:C?s.jsx("img",{src:C,alt:"",className:"h-full w-full object-cover",onError:L=>{L.currentTarget.style.visibility="hidden"}}):null}),s.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("h2",{className:"truncate text-sm font-semibold text-slate-50",children:s.jsx(ge,{to:`/websites/${encodeURIComponent(j.PK)}`,className:"hover:text-brand-orange",children:b})}),typeof j.averageRating=="number"&&s.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-900 px-2 py-0.5 text-[11px] text-amber-300",children:[j.averageRating.toFixed(1),""]})]}),j.url&&s.jsx("a",{href:j.url,target:"_blank",rel:"noopener noreferrer",className:"block truncate text-xs text-slate-400 hover:text-slate-200",children:j.url}),j.description&&s.jsxs("p",{className:"text-xs text-slate-300 line-clamp-3",children:[j.description,j.descriptionAiGenerated&&s.jsx("span",{className:"ml-1 text-[11px] uppercase tracking-wide text-slate-500",children:"AI summary"})]}),j.categories&&j.categories.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 pt-1",children:j.categories.map(L=>s.jsx("span",{className:"rounded-full bg-slate-900 px-2 py-0.5 text-[11px] text-slate-300",children:L.name},L.id))}),R&&s.jsx("div",{className:"pt-1",children:s.jsxs("label",{className:"inline-flex items-center gap-1 text-[11px] text-slate-400",children:[s.jsx("span",{children:"Rate:"}),s.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-1 py-0.5 text-[11px] text-slate-50",onChange:L=>{const T=Number(L.target.value);T>=1&&T<=5&&q(j.PK,T)},defaultValue:"",children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{value:"1",children:"1"}),s.jsx("option",{value:"2",children:"2"}),s.jsx("option",{value:"3",children:"3"}),s.jsx("option",{value:"4",children:"4"}),s.jsx("option",{value:"5",children:"5"})]})]})})]})]},j.PK)})})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[280px]",children:s.jsx("p",{className:"text-2xl sm:text-3xl font-light text-slate-500/80 tracking-wide animate-pulse",children:"Enter search term or select categories"})}),ie&&A>1&&s.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-center gap-2 text-xs",children:[s.jsx("button",{type:"button",disabled:h<=1,onClick:()=>f(j=>Math.max(1,j-1)),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 disabled:opacity-40",children:"Prev"}),s.jsxs("span",{className:"text-slate-500",children:["Page ",h," of ",A]}),s.jsx("button",{type:"button",disabled:h>=A,onClick:()=>f(j=>Math.min(A,j+1)),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 disabled:opacity-40",children:"Next"})]})]})};function yo(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Iy=()=>{var w,S;const{id:e}=Ll(),{user:t}=at(),n=Pt(t??null,"manager"),[r,a]=c.useState(null),[l,o]=c.useState(null),[i,u]=c.useState(!0),[d,m]=c.useState(null);c.useEffect(()=>{const y=yo();if(!y||!e){m(e?"API URL not set.":"Missing site id."),u(!1);return}let v=!1;async function h(){u(!0),m(null);try{const f=new URLSearchParams;f.set("id",decodeURIComponent(e));const x=await fetch(`${y}/sites?${f.toString()}`);if(x.status===404){v||a(null);return}if(!x.ok){const E=await x.text();throw new Error(`HTTP ${x.status}: ${E}`)}const N=await x.json();if(v)return;a(N.site??null)}catch(f){v||m((f==null?void 0:f.message)??"Failed to load site.")}finally{v||u(!1)}}return h(),()=>{v=!0}},[e]),c.useEffect(()=>{if(!t||!(r!=null&&r.PK))return;const y=yo();if(!y)return;const v=window;if(!v.auth||typeof v.auth.getAccessToken!="function")return;let h=!1;return(async()=>{const f=await new Promise(N=>{v.auth.getAccessToken(E=>N(E))});if(!f||h)return;const x=await fetch(`${y}/stars?siteId=${encodeURIComponent(r.PK)}`,{headers:{Authorization:`Bearer ${f}`}});if(!h&&x.ok){const N=await x.json();o(typeof N.rating=="number"?N.rating:null)}})(),()=>{h=!0}},[t,r==null?void 0:r.PK]);const p=async(y,v)=>{const h=yo();if(!h)return;const f=window;if(!f.auth||typeof f.auth.getAccessToken!="function")return;const x=await new Promise(N=>{f.auth.getAccessToken(E=>N(E))});x&&await fetch(`${h}/stars`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({siteId:y,rating:v})}).then(()=>o(v)).catch(()=>{})};if(i)return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ge,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Websites"]}),s.jsx("div",{className:"text-sm text-slate-400",children:"Loading"})]});if(d||!r)return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ge,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Websites"]}),s.jsx("div",{className:"rounded-md border border-slate-700 bg-slate-900/60 px-4 py-3 text-slate-200",children:d||"Site not found."})]});const g=r.title||r.url||r.PK||"Untitled";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs(ge,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Websites"]}),n&&r&&s.jsxs(ge,{to:`/admin/sites/edit/${encodeURIComponent(r.PK)}`,className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(Cu,{className:"h-4 w-4"}),"Edit site"]})]}),s.jsxs("article",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4 sm:p-6",children:[s.jsxs("header",{className:"flex flex-wrap gap-4",children:[s.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border border-slate-700 bg-slate-900",children:r.logoUrl?s.jsx("img",{src:r.logoUrl,alt:"",className:"h-full w-full object-cover",onError:y=>{y.currentTarget.style.visibility="hidden"}}):null}),s.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[s.jsx("h1",{className:"text-xl font-semibold tracking-tight text-slate-50",children:g}),typeof r.averageRating=="number"&&s.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-800 px-2 py-0.5 text-sm text-amber-300",children:[r.averageRating.toFixed(1)," average"]}),r.url&&s.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"block truncate text-sm text-slate-400 hover:text-slate-200",children:r.url})]})]}),r.description&&s.jsx("div",{className:"mt-4",children:s.jsxs("p",{className:"text-sm text-slate-300",children:[r.description,r.descriptionAiGenerated&&s.jsx("span",{className:"ml-1 text-xs uppercase tracking-wide text-slate-500",children:"AI summary"})]})}),(((w=r.categories)==null?void 0:w.length)??0)>0&&s.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:r.categories.map(y=>s.jsx("span",{className:"rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-300",children:y.name},y.id))}),(((S=r.tags)==null?void 0:S.length)??0)>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:r.tags.map(y=>s.jsx("span",{className:"rounded-full bg-slate-900 px-2 py-0.5 text-xs text-slate-400",children:y},y))}),t&&s.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[l!==null&&s.jsxs("span",{className:"text-xs text-slate-400",children:["Your rating: ",l,""]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-400",children:[s.jsx("span",{children:"Rate:"}),s.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-sm text-slate-50",value:l??"",onChange:y=>{const v=Number(y.target.value);v>=1&&v<=5&&p(r.PK,v)},children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{value:"1",children:"1"}),s.jsx("option",{value:"2",children:"2"}),s.jsx("option",{value:"3",children:"3"}),s.jsx("option",{value:"4",children:"4"}),s.jsx("option",{value:"5",children:"5"})]})]})]}),r.scrapedContent&&s.jsxs("section",{className:"mt-6 border-t border-slate-800 pt-4",children:[s.jsx("h2",{className:"text-sm font-medium text-slate-400",children:"About / Scraped content"}),s.jsx("div",{className:"mt-2 overflow-x-auto rounded-lg border border-slate-800 bg-slate-900/60 p-3",children:s.jsx("pre",{className:"whitespace-pre-wrap break-words font-sans text-sm text-slate-300",children:r.scrapedContent})})]})]})]})};function vo(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const wo=10,Uy=()=>{const{user:e}=at(),[t,n]=Hn(),[r,a]=c.useState([]),[l,o]=c.useState(()=>t.get("q")??""),[i,u]=c.useState(()=>{const b=t.get("categoryIds");return b?b.split(",").filter(Boolean):[]}),[d,m]=c.useState(()=>t.get("categoryMode")==="or"?"or":"and"),[p,g]=c.useState(!1),[w,S]=c.useState(""),[y,v]=c.useState("avgDesc"),[h,f]=c.useState(1),[x,N]=c.useState(!1),[E,P]=c.useState(null),R=!!e,U=Pt(e??null,"manager"),K=c.useRef(null),[G,ne]=c.useState([]);c.useEffect(()=>{const b=vo();if(!b)return;let C=!1;return fetch(`${b}/media-categories`).then(L=>L.ok?L.json():Promise.reject(new Error("Failed to load categories"))).then(L=>{if(C)return;const T=(L.categories??[]).map(Y=>({id:Y.PK||Y.id||"",name:Y.name||Y.PK||""}));T.sort((Y,ee)=>(Y.name||"").localeCompare(ee.name||"")),ne(T)}).catch(()=>{}),()=>{C=!0}},[]);const pe=c.useMemo(()=>{if(d==="or"&&G.length>0)return G;const b=new Map;r.forEach(L=>(L.categories||[]).forEach(T=>{T.id&&!b.has(T.id)&&b.set(T.id,T)}));const C=[...G];return b.forEach(L=>{C.some(T=>T.id===L.id)||C.push(L)}),C.sort((L,T)=>(L.name||"").localeCompare(T.name||"")),C},[G,d,r]),ie=c.useMemo(()=>pe.filter(b=>!i.includes(b.id)&&(!w.trim()||(b.name||"").toLowerCase().includes(w.toLowerCase()))),[pe,i,w]),O=l.trim().length>0||i.length>0;c.useEffect(()=>{if(O){const b=new URLSearchParams;l.trim()&&b.set("q",l.trim()),i.length&&(b.set("categoryIds",i.join(",")),b.set("categoryMode",d)),n(b,{replace:!0})}else n({},{replace:!0})},[O,l,i,d,n]),c.useEffect(()=>{if(!O){a([]),f(1),N(!1),P(null);return}const b=vo();if(!b){P("API URL not set. Deploy via CI or set window.API_BASE_URL in config.js.");return}let C=!1;async function L(){N(!0),P(null);try{const T=new URLSearchParams;T.set("limit","100"),l.trim()&&T.set("q",l.trim()),i.length>0&&(T.set("categoryIds",i.join(",")),T.set("categoryMode",d));const Y=await fetch(`${b}/media?${T.toString()}`);if(!Y.ok){const ve=await Y.text();throw new Error(`HTTP ${Y.status}: ${ve}`)}const ee=await Y.json();if(C)return;a(ee.media??[]),f(1)}catch(T){C||P((T==null?void 0:T.message)??"Failed to load media.")}finally{C||N(!1)}}return L(),()=>{C=!0}},[O,l,i,d]),c.useEffect(()=>{function b(C){K.current&&!K.current.contains(C.target)&&g(!1)}if(p)return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[p]);const A=c.useMemo(()=>{const b=[...r];return b.sort((C,L)=>{const T=(C.title||C.PK||"").toLowerCase(),Y=(L.title||L.PK||"").toLowerCase(),ee=typeof C.averageRating=="number"?C.averageRating:0,ve=typeof L.averageRating=="number"?L.averageRating:0;return y==="avgDesc"?ve!==ee?ve-ee:T.localeCompare(Y):y==="avgAsc"?ee!==ve?ee-ve:T.localeCompare(Y):y==="alphaAsc"?T.localeCompare(Y):y==="alphaDesc"?Y.localeCompare(T):0}),b},[r,y]),z=Math.max(1,Math.ceil(A.length/wo)),q=A.slice((h-1)*wo,h*wo),j=async(b,C)=>{const L=vo();if(!L)return;const T=window;if(!T.auth||typeof T.auth.getAccessToken!="function")return;const Y=await new Promise(ee=>{T.auth.getAccessToken(ve=>ee(ve))});Y&&await fetch(`${L}/media/stars`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`},body:JSON.stringify({mediaId:b,rating:C})}).catch(()=>{})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Media"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Images and videos attached to sites and experiments across Funkedupshift."})]}),s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4 space-y-4","aria-label":"Search and filter",children:[s.jsxs("form",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",onSubmit:b=>{b.preventDefault(),o(l.trim())},children:[s.jsx("input",{type:"text",value:l,onChange:b=>o(b.target.value),placeholder:"Search media by title or description",className:"flex-1 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500",children:"Search"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4 sm:gap-6",children:[s.jsxs("div",{ref:K,className:"relative flex-shrink-0 min-w-0 max-w-sm",children:[s.jsx("label",{htmlFor:"media-category-filter",className:"block text-xs font-medium text-slate-400 mb-1",children:"Categories (filter by)"}),s.jsx("input",{id:"media-category-filter",type:"text",value:w,onChange:b=>S(b.target.value),onFocus:()=>g(!0),placeholder:"Search and select categories",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",autoComplete:"off"}),p&&s.jsx("div",{className:"absolute left-0 top-full z-10 mt-1 w-full max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",role:"listbox","aria-label":"Category options",children:ie.length>0?ie.map(b=>s.jsx("button",{type:"button",role:"option",onClick:()=>{u(C=>C.includes(b.id)?C:[...C,b.id]),S("")},className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:b.name},b.id)):s.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:pe.length===0?"No categories yet.":"No matches or all selected."})}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:i.map(b=>{const C=pe.find(L=>L.id===b);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(C==null?void 0:C.name)??b,s.jsx("button",{type:"button",onClick:()=>u(L=>L.filter(T=>T!==b)),className:"hover:text-red-400","aria-label":"Remove category filter",children:""})]},b)})}),i.length>0&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Match:"}),s.jsxs("div",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 p-0.5",children:[s.jsx("button",{type:"button",onClick:()=>m("and"),className:`rounded px-2 py-0.5 text-xs font-medium ${d==="and"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"AND"}),s.jsx("button",{type:"button",onClick:()=>m("or"),className:`rounded px-2 py-0.5 text-xs font-medium ${d==="or"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"OR"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-xs text-slate-400",children:[s.jsx("span",{className:"font-medium text-slate-200",children:"Sort:"}),s.jsxs("select",{value:y,onChange:b=>{v(b.target.value),f(1)},className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",children:[s.jsx("option",{value:"avgDesc",children:"Avg stars (high first)"}),s.jsx("option",{value:"avgAsc",children:"Avg stars (low first)"}),s.jsx("option",{value:"alphaAsc",children:"Title AZ"}),s.jsx("option",{value:"alphaDesc",children:"Title ZA"})]}),s.jsx("span",{className:"text-slate-500",children:O?A.length===0?"No media found.":`${A.length} items`:""})]})]})]}),E&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:E}),O?x?s.jsx("div",{className:"text-sm text-slate-400",children:"Loading media"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm text-slate-400",children:A.length===0?"No results":`${A.length} results`}),s.jsx("ul",{className:"space-y-3 mt-2",children:q.map(b=>{const C=b.thumbnailUrl||(b.mediaType==="image"?b.mediaUrl:void 0),L=b.title||b.PK||"Untitled",T=b.mediaType==="video"?"Video":"Image",Y=`/media/${encodeURIComponent(b.PK)}`;return s.jsxs("li",{className:"flex gap-3 rounded-xl border border-slate-800 bg-slate-950/60 p-3",children:[s.jsx(ge,{to:Y,className:"h-16 w-24 flex-shrink-0 overflow-hidden rounded-lg border border-slate-700 bg-slate-900 flex items-center justify-center text-xl hover:border-slate-600",children:C?s.jsx("img",{src:C,alt:"",className:"h-full w-full object-cover",onError:ee=>{ee.currentTarget.style.visibility="hidden"}}):s.jsx("span",{children:b.mediaType==="video"?"":""})}),s.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("h2",{className:"truncate text-sm font-semibold text-slate-50",children:s.jsx(ge,{to:Y,className:"hover:text-brand-orange",children:L})}),typeof b.averageRating=="number"&&s.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-900 px-2 py-0.5 text-[11px] text-amber-300",children:[b.averageRating.toFixed(1),""]}),s.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-900 px-2 py-0.5 text-[10px] uppercase tracking-wide text-slate-400",children:T})]}),b.description&&s.jsx("p",{className:"text-xs text-slate-300 line-clamp-3",children:b.description}),b.categories&&b.categories.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 pt-1",children:b.categories.map(ee=>s.jsx("span",{className:"rounded-full bg-slate-900 px-2 py-0.5 text-[11px] text-slate-300",children:ee.name},ee.id))}),U&&s.jsx("div",{className:"pt-1",children:s.jsxs(ge,{to:`/admin/media/edit/${encodeURIComponent(b.PK)}`,className:"inline-flex items-center gap-1 text-[11px] text-slate-400 hover:text-slate-200",children:[s.jsx(Cu,{className:"h-3.5 w-3.5"}),"Edit"]})}),R&&s.jsx("div",{className:"pt-1",children:s.jsxs("label",{className:"inline-flex items-center gap-1 text-[11px] text-slate-400",children:[s.jsx("span",{children:"Rate:"}),s.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-1 py-0.5 text-[11px] text-slate-50",onChange:ee=>{const ve=Number(ee.target.value);ve>=1&&ve<=5&&j(b.PK,ve)},defaultValue:"",children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{value:"1",children:"1"}),s.jsx("option",{value:"2",children:"2"}),s.jsx("option",{value:"3",children:"3"}),s.jsx("option",{value:"4",children:"4"}),s.jsx("option",{value:"5",children:"5"})]})]})})]})]},b.PK)})})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[280px]",children:s.jsx("p",{className:"text-2xl sm:text-3xl font-light text-slate-500/80 tracking-wide animate-pulse",children:"Enter search term or select categories"})}),O&&z>1&&s.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-center gap-2 text-xs",children:[s.jsx("button",{type:"button",disabled:h<=1,onClick:()=>f(b=>Math.max(1,b-1)),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 disabled:opacity-40",children:"Prev"}),s.jsxs("span",{className:"text-slate-500",children:["Page ",h," of ",z]}),s.jsx("button",{type:"button",disabled:h>=z,onClick:()=>f(b=>Math.min(z,b+1)),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 disabled:opacity-40",children:"Next"})]})]})};function Zc(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Dy=()=>{var y;const{id:e}=Ll(),{user:t}=at(),[n,r]=c.useState(null),[a,l]=c.useState(null),[o,i]=c.useState(!0),[u,d]=c.useState(null),m=Pt(t??null,"manager"),p=e?decodeURIComponent(e):"";c.useEffect(()=>{const v=Zc();if(!v||!p){d(p?"API URL not set.":"Missing media id."),i(!1);return}let h=!1;async function f(){i(!0),d(null);try{const x=await fetch(`${v}/media?id=${encodeURIComponent(p)}`);if(x.status===404){h||r(null);return}if(!x.ok){const P=await x.text();throw new Error(`HTTP ${x.status}: ${P}`)}const N=await x.json();if(h)return;const E=Array.isArray(N.media)?N.media[0]:N.media;r(E??null)}catch(x){h||d((x==null?void 0:x.message)??"Failed to load media.")}finally{h||i(!1)}}return f(),()=>{h=!0}},[p]);const g=async v=>{var N;const h=Zc();if(!h||!n)return;const f=window;if(!((N=f.auth)!=null&&N.getAccessToken))return;const x=await new Promise(E=>f.auth.getAccessToken(E));x&&await fetch(`${h}/media/stars`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({mediaId:n.PK,rating:v})}).then(()=>l(v)).catch(()=>{})};if(o)return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ge,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Media"]}),s.jsx("div",{className:"text-sm text-slate-400",children:"Loading"})]});if(u||!n)return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ge,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Media"]}),s.jsx("div",{className:"rounded-md border border-slate-700 bg-slate-900/60 px-4 py-3 text-slate-200",children:u||"Media not found."})]});const w=n.title||n.PK||"Untitled",S=n.mediaType==="video";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs(ge,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Media"]}),m&&s.jsxs(ge,{to:`/admin/media/edit/${encodeURIComponent(n.PK)}`,className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(Cu,{className:"h-4 w-4"}),"Edit"]})]}),s.jsxs("article",{className:"rounded-xl border border-slate-800 bg-slate-950/60 overflow-hidden",children:[s.jsxs("header",{className:"p-4 sm:p-6 border-b border-slate-800",children:[s.jsx("h1",{className:"text-xl font-semibold tracking-tight text-slate-50",children:w}),s.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[typeof n.averageRating=="number"&&s.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-800 px-2 py-0.5 text-sm text-amber-300",children:[n.averageRating.toFixed(1)," average"]}),s.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-800 px-2 py-0.5 text-xs uppercase tracking-wide text-slate-400",children:S?"Video":"Image"})]}),n.description&&s.jsx("p",{className:"mt-3 text-sm text-slate-300",children:n.description}),(((y=n.categories)==null?void 0:y.length)??0)>0&&s.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:n.categories.map(v=>s.jsx("span",{className:"rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-300",children:v.name},v.id))}),t&&s.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[a!==null&&s.jsxs("span",{className:"text-xs text-slate-400",children:["Your rating: ",a,""]}),s.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-400",children:[s.jsx("span",{children:"Rate:"}),s.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-sm text-slate-50",value:a??"",onChange:v=>{const h=Number(v.target.value);h>=1&&h<=5&&g(h)},children:[s.jsx("option",{value:"",children:"--"}),s.jsx("option",{value:"1",children:"1"}),s.jsx("option",{value:"2",children:"2"}),s.jsx("option",{value:"3",children:"3"}),s.jsx("option",{value:"4",children:"4"}),s.jsx("option",{value:"5",children:"5"})]})]})]})]}),s.jsx("div",{className:"p-4 sm:p-6 bg-slate-900/40 flex justify-center items-center min-h-[200px]",children:n.mediaUrl?S?s.jsx("video",{src:n.mediaUrl,controls:!0,className:"max-w-full max-h-[70vh] rounded-lg border border-slate-700",playsInline:!0}):s.jsx("img",{src:n.mediaUrl,alt:w,className:"max-w-full max-h-[70vh] w-auto h-auto object-contain rounded-lg border border-slate-700"}):s.jsx("p",{className:"text-sm text-slate-500",children:"No media URL available."})})]})]})},np="funkedupshift_internet_dashboard",Oy=5*60*1e3;function _y(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function My(){try{const e=localStorage.getItem(np);if(!e)return null;const t=JSON.parse(e);return!(t!=null&&t.sites)||!(t!=null&&t.lastFetchTime)||Date.now()-new Date(t.lastFetchTime).getTime()>=Oy?null:t.sites}catch{return null}}function Fy(e){try{localStorage.setItem(np,JSON.stringify({sites:e,lastFetchTime:new Date().toISOString()}))}catch{}}const By=()=>{const{user:e}=at(),[t,n]=c.useState([]),[r,a]=c.useState(!0),[l,o]=c.useState(null),i=c.useCallback(async()=>{const u=_y(),d=My();if(d&&d.length>0){n(d),a(!1),o(null);return}if(!u){o("API URL not set."),a(!1);return}a(!0),o(null);try{const m=await fetch(`${u}/internet-dashboard`);if(!m.ok){const w=await m.text();throw new Error(w||`HTTP ${m.status}`)}const p=await m.json(),g=Array.isArray(p.sites)?p.sites:[];g.length>0?(Fy(g),n(g)):(o(d!=null&&d.length?void 0:"No data returned."),d!=null&&d.length&&n(d))}catch(m){const p=m instanceof Error?m.message:"Failed to load dashboard.";d&&d.length>0?(n(d),o(null)):(o(p),n([]))}finally{a(!1)}},[]);return c.useEffect(()=>{i()},[i]),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Internet dashboard"}),s.jsxs("div",{className:"rounded-xl border border-teal-800/60 bg-gradient-to-br from-teal-900/40 to-teal-950/60 p-4 shadow-lg",children:[s.jsx("p",{className:"text-sm font-medium text-teal-100",children:"Live status of popular sites"}),s.jsx("p",{className:"mt-1 text-xs text-teal-200/80",children:"Refreshes when data is older than 5 minutes"}),Pt(e??null,"superadmin")&&s.jsx("p",{className:"mt-2",children:s.jsx(ge,{to:"/admin/internet-dashboard",className:"text-brand-orange hover:text-orange-400 text-sm",children:"Edit sites list"})})]}),r&&s.jsx("p",{className:"text-sm text-slate-400",children:"Loading"}),l&&!t.length&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:l}),s.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(140px,1fr))] gap-3",children:t.map(u=>{const d=(u.status||"down").toLowerCase(),m=d==="up"?"border-emerald-500/50 bg-emerald-500/15 text-emerald-200":d==="degraded"?"border-amber-500/50 bg-amber-500/15 text-amber-200":"border-red-500/50 bg-red-500/15 text-red-200",p=u.responseTimeMs!=null?`${u.responseTimeMs} ms`:null;return s.jsxs("div",{className:`rounded-lg border p-3 text-center text-sm ${m}`,children:[s.jsx("a",{href:`https://${u.domain}`,target:"_blank",rel:"noopener noreferrer",className:"font-semibold break-all hover:underline block",children:u.domain}),s.jsx("div",{className:"mt-1 text-xs capitalize opacity-90",children:d}),p&&s.jsx("div",{className:"mt-0.5 text-[11px] opacity-75",children:p})]},u.domain)})})]})};function zy(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Wy=["image/png","image/jpeg","image/jpg","image/gif","image/webp"],Gy=()=>{const{user:e}=at(),{logo:t}=tp(),[n,r]=c.useState(null),[a,l]=c.useState("Funkedupshift"),[o,i]=c.useState(null),[u,d]=c.useState(!1),[m,p]=c.useState(null),[g,w]=c.useState(null);if(!Pt(e??null,"superadmin"))return s.jsxs("div",{className:"space-y-3",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Branding"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Only superadmin users can manage global branding assets."})]});const y=h=>{var x;const f=(x=h.target.files)==null?void 0:x[0];r(f??null),p(null),w(null),o&&(URL.revokeObjectURL(o),i(null)),f&&i(URL.createObjectURL(f))},v=async h=>{if(h.preventDefault(),w(null),p(null),!n){w("Choose an image file first.");return}const f=n.type||"image/png";if(!Wy.includes(f)){w("Logo must be PNG, JPEG, GIF, or WEBP.");return}const x=zy();if(!x){w("API URL not configured.");return}const N=window;if(!N.auth||typeof N.auth.getAccessToken!="function"){w("Auth not initialized.");return}d(!0);try{const E=await new Promise(K=>{N.auth.getAccessToken(G=>K(G))});if(!E)throw new Error("Missing access token.");const P=await fetch(`${x}/branding/logo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({contentType:f,alt:a})});if(!P.ok){const K=await P.text();throw new Error(K||`Metadata request failed with ${P.status}`)}const R=await P.json();if(!R.uploadUrl)throw new Error("uploadUrl missing from response.");const U=await fetch(R.uploadUrl,{method:"PUT",headers:{"Content-Type":f},body:n});if(!U.ok)throw new Error(`Upload failed with ${U.status}`);p("Logo updated. It may take a moment for caches to refresh.")}catch(E){w((E==null?void 0:E.message)??"Failed to update logo.")}finally{d(!1)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Branding"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Upload a new global logo for Funkedupshift. This logo is used in the navigation bar and other shared surfaces."})]}),s.jsxs("form",{className:"space-y-4 max-w-md",onSubmit:v,children:[s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsx("label",{className:"block text-slate-200",children:"Logo image"}),t&&!o&&s.jsxs("div",{className:"space-y-1 mb-3",children:[s.jsx("p",{className:"text-slate-200",children:"Current logo"}),s.jsx("div",{className:"inline-flex items-center rounded-lg border border-slate-800 bg-slate-950 p-2",children:s.jsx("img",{src:t.url,alt:t.alt,className:"h-12 w-auto rounded-md object-contain"})})]}),s.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",onChange:y,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-slate-100 hover:file:bg-slate-700"}),s.jsx("p",{className:"text-xs text-slate-500",children:"PNG, JPEG, GIF, or WEBP. Recommended square or horizontal layout."})]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsx("label",{className:"block text-slate-200",children:"Alt text"}),s.jsx("input",{type:"text",value:a,onChange:h=>l(h.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),o&&s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsx("p",{className:"text-slate-200",children:"Preview"}),s.jsxs("div",{className:"inline-flex items-center rounded-lg border border-slate-800 bg-slate-950 p-2",children:[s.jsx("img",{src:o,alt:"Preview",className:"h-12 w-auto rounded-md object-contain"}),s.jsx("span",{className:"ml-3 text-xs text-slate-400 truncate max-w-[12rem]",children:n==null?void 0:n.name})]})]}),s.jsx("button",{type:"submit",disabled:u||!n,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:u?"Updating":"Update logo"}),m&&s.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-200",children:m}),g&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:g})]})]})};function Xc(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Hy=()=>{const{user:e}=at(),[t,n]=c.useState([]),[r,a]=c.useState("custom"),[l,o]=c.useState(null),[i,u]=c.useState(null),[d,m]=c.useState(""),[p,g]=c.useState(!0),[w,S]=c.useState(!1),[y,v]=c.useState(null),[h,f]=c.useState(null),x=Pt(e??null,"superadmin"),N=c.useCallback(async(A,z)=>{var C;const q=window;if(!((C=q.auth)!=null&&C.getAccessToken))throw new Error("Not signed in");const j=await new Promise(L=>q.auth.getAccessToken(L));if(!j)throw new Error("Not signed in");const b={...z==null?void 0:z.headers,Authorization:`Bearer ${j}`};return fetch(A,{...z,headers:b})},[]),E=c.useCallback(async()=>{const A=Xc();if(!A){f("API URL not set."),g(!1);return}g(!0),f(null);try{const z=await N(`${A}/admin/internet-dashboard/sites`);if(!z.ok){const j=await z.json().catch(()=>({}));throw new Error(j.error||"Failed to load")}const q=await z.json();n(Array.isArray(q.sites)?q.sites:[])}catch(z){f((z==null?void 0:z.message)??"Failed to load sites.")}finally{g(!1)}},[N]);c.useEffect(()=>{x&&E()},[x,E]);const P=async A=>{const z=Xc();if(z){S(!0),v(null),f(null);try{const q=await N(`${z}/admin/internet-dashboard/sites`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({sites:A})});if(!q.ok){const j=await q.json().catch(()=>({}));throw new Error(j.error||"Failed to save")}n(A),v("Sites list saved.")}catch(q){f((q==null?void 0:q.message)??"Failed to save.")}finally{S(!1)}}},R=A=>{A.preventDefault();const z=d.trim().toLowerCase().replace(/^https?:\/\//,"").replace(/\/.*$/,"");if(!z)return;if(t.includes(z)){f("Domain already in list.");return}const q=[...t,z];m(""),f(null),P(q)},U=c.useMemo(()=>{if(r==="custom")return[...t];const A=[...t];return A.sort((z,q)=>r==="a-z"?z.localeCompare(q):q.localeCompare(z)),A},[t,r]),K=A=>{o(A)},G=(A,z)=>{A.preventDefault(),A.dataTransfer.dropEffect="move",u(z)},ne=()=>{u(null)},pe=()=>{o(null),u(null)},ie=(A,z)=>{if(A.preventDefault(),u(null),r!=="custom"||l===null||l===z){o(null);return}const q=[...U],[j]=q.splice(l,1);q.splice(z,0,j),n(q),P(q),o(null)},O=A=>{const z=t.filter(q=>q!==A);if(z.length===0){f("At least one site is required.");return}f(null),P(z)};return x?p?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Internet Dashboard"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Loading sites"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ge,{to:"/internet-dashboard",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Internet Dashboard"]}),s.jsxs("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Internet Dashboard"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Edit the list of sites shown on the Internet Dashboard. Only SuperAdmin can change this."})]}),s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4 space-y-4 max-w-2xl",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("h2",{className:"text-base font-semibold text-slate-200",children:["Sites list (",t.length,")"]}),s.jsxs("div",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 p-0.5",children:[s.jsx("button",{type:"button",onClick:()=>a("custom"),className:`rounded px-2 py-0.5 text-xs font-medium ${r==="custom"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"Custom"}),s.jsx("button",{type:"button",onClick:()=>a("a-z"),className:`rounded px-2 py-0.5 text-xs font-medium ${r==="a-z"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"AZ"}),s.jsx("button",{type:"button",onClick:()=>a("z-a"),className:`rounded px-2 py-0.5 text-xs font-medium ${r==="z-a"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"ZA"})]})]}),s.jsxs("form",{onSubmit:R,className:"flex gap-2 flex-wrap items-end",children:[s.jsxs("div",{className:"flex-1 min-w-[12rem]",children:[s.jsx("label",{htmlFor:"newDomain",className:"block text-xs font-medium text-slate-400 mb-1",children:"Add domain"}),s.jsx("input",{id:"newDomain",type:"text",value:d,onChange:A=>m(A.target.value),placeholder:"example.com",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsx("button",{type:"submit",disabled:w||!d.trim(),className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:"Add"})]}),s.jsx("ul",{className:"space-y-2",children:U.map((A,z)=>s.jsxs("li",{draggable:r==="custom",onDragStart:()=>K(z),onDragOver:q=>G(q,z),onDragLeave:ne,onDragEnd:pe,onDrop:q=>ie(q,z),className:`flex items-center gap-2 rounded-md border px-3 py-2 ${l===z?"border-brand-orange bg-slate-800 opacity-60":i===z?"border-brand-orange/70 bg-slate-800/80":"border-slate-700 bg-slate-900"} ${r==="custom"?"cursor-grab active:cursor-grabbing":""}`,children:[r==="custom"&&s.jsx(Rm,{className:"h-4 w-4 flex-shrink-0 text-slate-500","aria-hidden":!0}),s.jsx("span",{className:"font-medium text-slate-200 break-all flex-1",children:A}),s.jsx("button",{type:"button",onClick:()=>O(A),disabled:w||t.length<=1,className:"flex-shrink-0 rounded-md border border-red-500/60 bg-red-500/10 px-2 py-1 text-xs font-medium text-red-300 hover:bg-red-500/20 disabled:opacity-50",children:"Remove"})]},A))}),y&&s.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:y}),h&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:h})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Internet Dashboard"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Only SuperAdmin users can edit the dashboard sites list."})]})},Vy={admin:"SuperAdmin",manager:"Manager",user:"User"},Ti=[{value:-8,label:"UTC-8"},{value:-5,label:"UTC-5"},{value:0,label:"UTC+0/GMT"}];function jr(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function Ky(e,t,n){if(!e&&!n)return"";if(!e)return n?`from ${n}`:"";try{const r=new Date(e);if(isNaN(r.getTime()))return e+(n?` from ${n}`:"");const a=r.getTime()+(t||0)*36e5,l=new Date(a),o=y=>y<10?"0"+y:""+y,i=l.getUTCFullYear(),u=o(l.getUTCMonth()+1),d=o(l.getUTCDate()),m=o(l.getUTCHours()),p=o(l.getUTCMinutes()),g=Ti.find(y=>y.value===t),w=g?g.label:t<0?"UTC"+t:"UTC+"+t;let S=`${i}-${u}-${d} ${m}:${p} ${w}`;return n&&(S+=` from ${n}`),S}catch{return e+(n?` from ${n}`:"")}}const qy=()=>{const{user:e}=at(),t=Xt(),[n,r]=Hn(),a=n.get("tab"),l=a==="groups"?"groups":"users",[o,i]=c.useState(l);c.useEffect(()=>{i(a==="groups"?"groups":"users")},[a]);const u=_=>{i(_);const I=new URLSearchParams(n);_==="groups"?I.set("tab","groups"):I.delete("tab"),r(I)},[d,m]=c.useState([]),[p,g]=c.useState(!0),[w,S]=c.useState(null),[y,v]=c.useState(""),[h,f]=c.useState(-8),[x,N]=c.useState([]),[E,P]=c.useState(!0),[R,U]=c.useState(null),[K,G]=c.useState(""),[ne,pe]=c.useState(""),[ie,O]=c.useState(""),[A,z]=c.useState(!1),[q,j]=c.useState(null),[b,C]=c.useState(null),[L,T]=c.useState(""),[Y,ee]=c.useState(""),[ve,Ae]=c.useState(!1),[W,ce]=c.useState(null),[he,je]=c.useState(null),D=Pt(e??null,"manager"),V=async _=>{var re;const I=jr();if(!I){S("API URL not set."),g(!1);return}const Z=window;if(!((re=Z.auth)!=null&&re.getAccessToken)){S("Sign in required."),g(!1);return}g(!0),S(null);try{const de=await new Promise(Ne=>Z.auth.getAccessToken(Ne));let ue=`${I}/admin/users`;_&&(ue+=`?paginationToken=${encodeURIComponent(_)}`);const se=await fetch(ue,{headers:{Authorization:`Bearer ${de}`}});if(!se.ok){const Ne=await se.json().catch(()=>({}));throw new Error(Ne.error||"Failed to load users")}const we=await se.json();m(Ne=>_?[...Ne,...we.users??[]]:we.users??[]),v(we.paginationToken??"")}catch(de){S((de==null?void 0:de.message)??"Failed to load users")}finally{g(!1)}},Q=async _=>{var re;const I=jr();if(!I)return{cognitoGroups:[],customGroups:[]};const Z=window;if(!((re=Z.auth)!=null&&re.getAccessToken))return{cognitoGroups:[],customGroups:[]};try{const de=await new Promise(we=>Z.auth.getAccessToken(we)),ue=await fetch(`${I}/admin/users/${encodeURIComponent(_.username)}/groups`,{headers:{Authorization:`Bearer ${de}`}});if(!ue.ok)return{cognitoGroups:[],customGroups:[]};const se=await ue.json();return{cognitoGroups:se.cognitoGroups??[],customGroups:se.customGroups??[]}}catch{return{cognitoGroups:[],customGroups:[]}}},te=async()=>{var Z;const _=jr();if(!_){U("API URL not set."),P(!1);return}const I=window;if(!((Z=I.auth)!=null&&Z.getAccessToken)){U("Sign in required."),P(!1);return}P(!0),U(null);try{const re=await new Promise(we=>I.auth.getAccessToken(we)),de=await fetch(`${_}/admin/groups`,{headers:{Authorization:`Bearer ${re}`}});if(!de.ok)throw new Error(await de.text());const se=((await de.json()).groups??[]).map(we=>({name:we.name??(we.PK??"").replace("GROUP#",""),description:we.description,permissions:Array.isArray(we.permissions)?we.permissions:[]}));se.sort((we,Ne)=>we.name.toLowerCase().localeCompare(Ne.name.toLowerCase())),N(se)}catch(re){U((re==null?void 0:re.message)??"Failed to load groups")}finally{P(!1)}};c.useEffect(()=>{const _=parseInt(sessionStorage.getItem("funkedupshift_lastlogin_tz")??"-8",10);!isNaN(_)&&Ti.some(I=>I.value===_)&&f(_)},[]),c.useEffect(()=>{D&&o==="users"&&V()},[D,o]),c.useEffect(()=>{D&&o==="groups"&&te()},[D,o]);const ye=_=>{t(`/admin/users/edit?username=${encodeURIComponent(_.username)}&email=${encodeURIComponent(_.email??"")}&status=${encodeURIComponent(_.status??"")}`)},$=(_,I)=>{const Z=[];return(_||[]).forEach(re=>{const de=Vy[re]||re,ue=re==="admin"?"bg-amber-500/20 text-amber-200":re==="manager"?"bg-blue-500/20 text-blue-200":"bg-slate-600/30 text-slate-300";Z.push(s.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs mr-1 ${ue}`,children:de},`c-${re}`))}),(I||[]).forEach(re=>{Z.push(s.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs mr-1 bg-emerald-500/20 text-emerald-200",children:re},`x-${re}`))}),Z.length?Z:s.jsx("span",{className:"text-slate-500",children:""})},B=_=>{C(_.name),T(_.description??""),ee((_.permissions??[]).join(", ")),ce(null)},fe=()=>{C(null),T(""),ee(""),ce(null)},oe=async _=>{var ue;_.preventDefault();const I=K.trim();if(!I)return;const Z=jr();if(!Z)return;const re=window;if(!((ue=re.auth)!=null&&ue.getAccessToken))return;const de=ie.split(",").map(se=>se.trim()).filter(Boolean);z(!0),j(null),U(null);try{const se=await new Promise(Ne=>re.auth.getAccessToken(Ne)),we=await fetch(`${Z}/admin/groups`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({name:I,description:ne.trim(),permissions:de})});if(!we.ok){const Ne=await we.json().catch(()=>({}));throw new Error(Ne.error||"Failed to create group")}G(""),pe(""),O(""),j("Group created."),te()}catch(se){U((se==null?void 0:se.message)??"Failed to create group")}finally{z(!1)}},xe=async _=>{var de;if(_.preventDefault(),!b)return;const I=jr();if(!I)return;const Z=window;if(!((de=Z.auth)!=null&&de.getAccessToken))return;const re=Y.split(",").map(ue=>ue.trim()).filter(Boolean);Ae(!0),ce(null);try{const ue=await new Promise(we=>Z.auth.getAccessToken(we)),se=await fetch(`${I}/admin/groups/${encodeURIComponent(b)}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ue}`},body:JSON.stringify({description:L,permissions:re})});if(!se.ok){const we=await se.json().catch(()=>({}));throw new Error(we.error||"Failed to update group")}N(we=>we.map(Ne=>Ne.name===b?{...Ne,description:L,permissions:re}:Ne)),fe()}catch(ue){ce((ue==null?void 0:ue.message)??"Failed to update group")}finally{Ae(!1)}},Ce=async _=>{var re;if(!window.confirm(`Delete group "${_}"? Members will lose access.`))return;const I=jr();if(!I)return;const Z=window;if((re=Z.auth)!=null&&re.getAccessToken){je(_);try{const de=await new Promise(se=>Z.auth.getAccessToken(se)),ue=await fetch(`${I}/admin/groups/${encodeURIComponent(_)}`,{method:"DELETE",headers:{Authorization:`Bearer ${de}`}});if(!ue.ok){const se=await ue.json().catch(()=>({}));throw new Error(se.error||"Failed to delete group")}N(se=>se.filter(we=>we.name!==_)),b===_&&fe()}catch(de){U((de==null?void 0:de.message)??"Failed to delete group")}finally{je(null)}}},$e=_=>{const I=parseInt(_.target.value,10);f(I),sessionStorage.setItem("funkedupshift_lastlogin_tz",String(I))};return D?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ge,{to:"/",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Home"]}),s.jsxs("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Membership"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Manage users and groups."})]}),s.jsxs("div",{className:"flex gap-2 border-b border-slate-800 pb-2",children:[s.jsx("button",{type:"button",onClick:()=>u("users"),className:`px-4 py-2 rounded-md text-sm font-medium ${o==="users"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Users"}),s.jsx("button",{type:"button",onClick:()=>u("groups"),className:`px-4 py-2 rounded-md text-sm font-medium ${o==="groups"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Groups"})]}),o==="users"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("label",{htmlFor:"tz-select",className:"text-slate-500",children:"Last login timezone:"}),s.jsx("select",{id:"tz-select",value:h,onChange:$e,className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 text-sm",children:Ti.map(_=>s.jsx("option",{value:_.value,children:_.label},_.value))})]}),w&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:w}),s.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-800",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[s.jsx("thead",{className:"bg-slate-900/80",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Email"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Last login"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"System Roles"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Custom Groups"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-800",children:p&&d.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:"Loading"})}):d.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:"No users found."})}):d.map(_=>s.jsx(Qy,{user:_,tzOffset:h,formatLastLogin:Ky,renderGroupBadges:$,loadUserGroups:Q,onClick:()=>ye(_)},_.username))})]})}),y&&s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{type:"button",onClick:()=>V(y),disabled:p,className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-medium text-slate-200 hover:bg-slate-800 disabled:opacity-50",children:p?"Loading":"Load more"})})]}),o==="groups"&&s.jsxs(s.Fragment,{children:[s.jsxs("form",{className:"space-y-3 max-w-md",onSubmit:oe,children:[s.jsx("h2",{className:"text-sm font-medium text-slate-300",children:"Create group"}),s.jsx("input",{type:"text",value:K,onChange:_=>G(_.target.value),placeholder:"Name (alphanumeric, underscore, hyphen)",required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsx("input",{type:"text",value:ne,onChange:_=>pe(_.target.value),placeholder:"Description (optional)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsx("input",{type:"text",value:ie,onChange:_=>O(_.target.value),placeholder:"Permissions (comma-separated, e.g. media:edit, sites:add)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsx("button",{type:"submit",disabled:A||!K.trim(),className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:A?"Creating":"Create"}),q&&s.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:q}),R&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:R})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-sm font-medium text-slate-300 mb-2",children:"Custom groups"}),E?s.jsx("p",{className:"text-sm text-slate-500",children:"Loading"}):x.length===0?s.jsx("p",{className:"text-sm text-slate-500",children:"No custom groups yet. Create one above."}):s.jsx("ul",{className:"space-y-2",children:x.map(_=>s.jsx("li",{className:"rounded-lg border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm",children:b===_.name?s.jsxs("form",{onSubmit:xe,className:"space-y-2",children:[s.jsx("span",{className:"font-medium text-slate-200",children:_.name}),s.jsx("input",{type:"text",value:L,onChange:I=>T(I.target.value),placeholder:"Description (optional)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsx("input",{type:"text",value:Y,onChange:I=>ee(I.target.value),placeholder:"Permissions (comma-separated)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{type:"submit",disabled:ve,className:"rounded-md bg-brand-orange px-3 py-1.5 text-xs font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:ve?"Saving":"Save"}),s.jsx("button",{type:"button",onClick:fe,className:"rounded-md border border-slate-700 px-3 py-1.5 text-xs font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"}),s.jsx("button",{type:"button",onClick:()=>Ce(_.name),disabled:he===_.name,className:"rounded-md border border-red-500/60 px-3 py-1.5 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:he===_.name?"Deleting":"Delete"})]}),W&&s.jsx("p",{className:"text-xs text-red-400",children:W})]}):s.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("span",{className:"font-medium text-slate-200",children:_.name}),_.description&&s.jsx("span",{className:"text-slate-500 ml-2",children:_.description}),_.permissions&&_.permissions.length>0&&s.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Permissions: ",_.permissions.join(", ")]})]}),s.jsxs("div",{className:"flex gap-2 shrink-0",children:[s.jsx("button",{type:"button",onClick:()=>B(_),className:"rounded-md border border-slate-700 px-2 py-1 text-xs font-medium text-slate-300 hover:bg-slate-800",children:"Edit"}),s.jsx("button",{type:"button",onClick:()=>Ce(_.name),disabled:he===_.name,className:"rounded-md border border-red-500/60 px-2 py-1 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:he===_.name?"Deleting":"Delete"})]})]})},_.name))})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Membership"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})},Qy=({user:e,tzOffset:t,formatLastLogin:n,renderGroupBadges:r,loadUserGroups:a,onClick:l})=>{const[o,i]=c.useState(null);return c.useEffect(()=>{let u=!1;return a(e).then(d=>{u||i(d)}),()=>{u=!0}},[e.username]),s.jsxs("tr",{className:"cursor-pointer hover:bg-slate-800/50 transition-colors",onClick:l,children:[s.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:e.email||e.username||""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-400",children:e.status||""}),s.jsx("td",{className:"px-4 py-3 text-sm text-slate-400",children:n(e.lastLoginAt??"",t,e.lastLoginIp)}),s.jsx("td",{className:"px-4 py-3 text-sm",children:o?r(o.cognitoGroups,[]):s.jsx("span",{className:"text-slate-500",children:""})}),s.jsx("td",{className:"px-4 py-3 text-sm",children:o?r([],o.customGroups):s.jsx("span",{className:"text-slate-500",children:""})})]})};function qn(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const ed=100,Yy=5*1024*1024,Jy=()=>{const e=Xt(),{user:t}=at(),[n,r]=Hn(),a=n.get("tab"),l=a==="categories"?"categories":"add",[o,i]=c.useState(l);c.useEffect(()=>{i(a==="categories"?"categories":"add")},[a]);const u=M=>{i(M);const J=new URLSearchParams(n);M==="categories"?J.set("tab","categories"):J.delete("tab"),r(J)},[d,m]=c.useState([]),[p,g]=c.useState(""),[w,S]=c.useState(""),[y,v]=c.useState(""),[h,f]=c.useState(!1),[x,N]=c.useState(null),[E,P]=c.useState(null),[R,U]=c.useState(null),[K,G]=c.useState(""),[ne,pe]=c.useState([]),[ie,O]=c.useState(""),[A,z]=c.useState(!1),[q,j]=c.useState(!1),[b,C]=c.useState(null),[L,T]=c.useState(null),[Y,ee]=c.useState(!1),ve=c.useRef(null),[Ae,W]=c.useState(!0),[ce,he]=c.useState(null),[je,D]=c.useState(""),[V,Q]=c.useState(""),[te,ye]=c.useState(!1),[$,B]=c.useState(null),[fe,oe]=c.useState(null),[xe,Ce]=c.useState(""),[$e,_]=c.useState(""),[I,Z]=c.useState(!1),[re,de]=c.useState(null),[ue,se]=c.useState(null),we=Pt(t??null,"manager");c.useEffect(()=>{var ae;if(!we)return;const M=qn();if(!M)return;const J=window;(ae=J.auth)!=null&&ae.getAccessToken&&(async()=>{const Ie=await new Promise(ke=>J.auth.getAccessToken(ke));if(!Ie)return;const Ee=await fetch(`${M}/categories`,{headers:{Authorization:`Bearer ${Ie}`}});if(!Ee.ok)return;const ze=((await Ee.json()).categories??[]).map(ke=>({id:ke.PK||ke.id||"",name:ke.name||ke.PK||"",description:ke.description}));m(ze)})()},[we]),c.useEffect(()=>{function M(J){ve.current&&!ve.current.contains(J.target)&&z(!1)}if(A)return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[A]);const Ne=d.filter(M=>!ne.includes(M.id)&&(!ie.trim()||(M.name||"").toLowerCase().includes(ie.toLowerCase()))),Je=M=>{var Ie;const J=(Ie=M.target.files)==null?void 0:Ie[0];if(N(J??null),J&&G(""),U(null),E&&(URL.revokeObjectURL(E),P(null)),!J)return;if(J.size>Yy){U("Logo must be 5 MB or smaller.");return}const ae=new Image;ae.onload=()=>{if(ae.naturalWidth<ed||ae.naturalHeight<ed){U("Logo must be at least 100100 pixels.");return}U(null),P(URL.createObjectURL(J))},ae.onerror=()=>U("Please choose a valid image file."),ae.src=URL.createObjectURL(J)},et=M=>{ne.includes(M)||pe([...ne,M]),O("")},tt=M=>{pe(ne.filter(J=>J!==M))},nn=async()=>{var ae;const M=qn();if(!M){he("API URL not set."),W(!1);return}const J=window;if(!((ae=J.auth)!=null&&ae.getAccessToken)){he("Sign in required."),W(!1);return}W(!0),he(null);try{const Ie=await new Promise(ke=>J.auth.getAccessToken(ke)),Ee=await fetch(`${M}/categories`,{headers:{Authorization:`Bearer ${Ie}`}});if(!Ee.ok)throw new Error(await Ee.text());const ze=((await Ee.json()).categories??[]).map(ke=>({id:ke.PK||ke.id||"",name:ke.name||ke.PK||"",description:ke.description}));m(ze)}catch(Ie){he((Ie==null?void 0:Ie.message)??"Failed to load categories.")}finally{W(!1)}};c.useEffect(()=>{we&&o==="categories"&&nn()},[we,o]);const pr=async()=>{var Ie;const M=p.trim();if(!M){T("Enter URL first.");return}const J=qn();if(!J){T("API URL not set.");return}const ae=window;if(!((Ie=ae.auth)!=null&&Ie.getAccessToken)){T("Sign in required.");return}ee(!0),T(null);try{const Ee=await new Promise(ke=>ae.auth.getAccessToken(ke)),Ue=await fetch(`${J}/sites/generate-description`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ee}`},body:JSON.stringify({url:M})});if(!Ue.ok)throw new Error(await Ue.text());const ze=await Ue.json();v(ze.description??""),f(!0)}catch(Ee){T((Ee==null?void 0:Ee.message)??"Failed to generate description.")}finally{ee(!1)}},gn=async M=>{var Ee;M.preventDefault();const J=p.trim();if(!J){T("URL is required.");return}const ae=qn();if(!ae){T("API URL not set.");return}const Ie=window;if(!((Ee=Ie.auth)!=null&&Ee.getAccessToken)){T("Sign in required.");return}if(!(x&&R)){j(!0),T(null),C(null);try{const Ue=await new Promise(ft=>Ie.auth.getAccessToken(ft));let ze=null;if(K.trim()){const ft=await fetch(`${ae}/sites/logo-from-url`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ue}`},body:JSON.stringify({siteId:"new",imageUrl:K.trim()})});if(!ft.ok){const xr=await ft.json().catch(()=>({}));throw new Error(xr.error||await ft.text())}const yt=await ft.json();yt.key&&(ze=yt.key)}else if(x){const ft=await fetch(`${ae}/sites/logo-upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ue}`},body:JSON.stringify({siteId:"new",contentType:x.type||"image/png"})});if(!ft.ok)throw new Error("Logo upload request failed");const{uploadUrl:yt,key:xr}=await ft.json();if(!(await fetch(yt,{method:"PUT",headers:{"Content-Type":x.type||"image/png"},body:x})).ok)throw new Error("Logo upload failed");ze=xr}const ke={url:J,title:w.trim()||J,description:y.trim(),categoryIds:ne};h&&(ke.descriptionAiGenerated=!0),ze&&(ke.logoKey=ze);const Vn=await fetch(`${ae}/sites`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ue}`},body:JSON.stringify(ke)});if(!Vn.ok)throw new Error(await Vn.text());const hr=await Vn.json();C(`Site added: ${hr.title||hr.url||J}`),g(""),S(""),v(""),f(!1),N(null),E&&URL.revokeObjectURL(E),P(null),pe([]),setTimeout(()=>e("/websites"),1500)}catch(Ue){T((Ue==null?void 0:Ue.message)??"Failed to add site.")}finally{j(!1)}}},H=M=>{oe(M.id),Ce(M.name),_(M.description??"")},me=()=>{oe(null),Ce(""),_(""),de(null)},De=async M=>{var Ie;if(M.preventDefault(),!fe)return;const J=qn();if(!J)return;const ae=window;if((Ie=ae.auth)!=null&&Ie.getAccessToken){Z(!0),de(null);try{const Ee=await new Promise(ze=>ae.auth.getAccessToken(ze)),Ue=await fetch(`${J}/categories`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ee}`},body:JSON.stringify({id:fe,name:xe.trim(),description:$e.trim()||void 0})});if(!Ue.ok)throw new Error(await Ue.text());m(ze=>ze.map(ke=>ke.id===fe?{...ke,name:xe.trim(),description:$e.trim()||void 0}:ke)),me()}catch(Ee){de((Ee==null?void 0:Ee.message)??"Failed to update category.")}finally{Z(!1)}}},Oe=async M=>{var Ie;if(!window.confirm("Delete this category? Sites using it will lose this category."))return;const J=qn();if(!J)return;const ae=window;if((Ie=ae.auth)!=null&&Ie.getAccessToken){se(M);try{const Ee=await new Promise(ze=>ae.auth.getAccessToken(ze)),Ue=await fetch(`${J}/categories?id=${encodeURIComponent(M)}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ee}`}});if(!Ue.ok)throw new Error(await Ue.text());m(ze=>ze.filter(ke=>ke.id!==M)),fe===M&&me()}catch(Ee){he((Ee==null?void 0:Ee.message)??"Failed to delete category.")}finally{se(null)}}},Re=async M=>{var Ee;M.preventDefault();const J=je.trim();if(!J)return;const ae=qn();if(!ae)return;const Ie=window;if((Ee=Ie.auth)!=null&&Ee.getAccessToken){ye(!0),B(null),he(null);try{const Ue=await new Promise(ke=>Ie.auth.getAccessToken(ke)),ze=await fetch(`${ae}/categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ue}`},body:JSON.stringify({name:J,description:V.trim()})});if(!ze.ok)throw new Error(await ze.text());D(""),Q(""),B("Category created."),nn()}catch(Ue){he((Ue==null?void 0:Ue.message)??"Failed to create category.")}finally{ye(!1)}}};return we?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ge,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Websites"]}),s.jsxs("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Websites"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Add sites and manage website categories."})]}),s.jsxs("div",{className:"flex gap-2 border-b border-slate-800 pb-2",children:[s.jsx("button",{type:"button",onClick:()=>u("add"),className:`px-4 py-2 rounded-md text-sm font-medium ${o==="add"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Add Site"}),s.jsx("button",{type:"button",onClick:()=>u("categories"),className:`px-4 py-2 rounded-md text-sm font-medium ${o==="categories"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Website Categories"})]}),o==="add"&&s.jsxs("form",{className:"space-y-4 max-w-xl",onSubmit:gn,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"URL *"}),s.jsx("input",{type:"url",value:p,onChange:M=>g(M.target.value),placeholder:"https://example.com",required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Title (optional)"}),s.jsx("input",{type:"text",value:w,onChange:M=>S(M.target.value),placeholder:"Display title",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description (optional)"}),s.jsx("textarea",{value:y,onChange:M=>{v(M.target.value),f(!1)},placeholder:"Short description",rows:4,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsx("button",{type:"button",onClick:pr,disabled:Y||!p.trim(),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-1.5 text-xs font-medium text-slate-200 hover:bg-slate-700 disabled:opacity-50",children:Y?"Generating":"Generate AI description"}),h&&s.jsx("span",{className:"ml-2 text-xs uppercase tracking-wide text-slate-500",children:"AI summary"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Logo (optional, min 100100, max 5 MB)"}),s.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp",onChange:Je,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-slate-100"}),s.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Or paste image URL (image will be copied to S3 on save):"}),s.jsx("input",{type:"url",value:K,onChange:M=>{G(M.target.value),M.target.value.trim()&&N(null)},placeholder:"https://example.com/logo.png",className:"mt-1 w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),E&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:E,alt:"Preview",className:"h-16 w-16 rounded-lg border border-slate-700 object-cover"})}),R&&s.jsx("p",{className:"mt-1 text-xs text-red-400",children:R})]}),s.jsxs("div",{ref:ve,className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Categories (optional)"}),s.jsx("input",{type:"text",value:ie,onChange:M=>O(M.target.value),onFocus:()=>z(!0),placeholder:"Search and select",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),A&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",children:Ne.length?Ne.map(M=>s.jsx("button",{type:"button",onClick:()=>et(M.id),className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:M.name},M.id)):s.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches"})}),d.length===0&&s.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["No categories."," ",s.jsx("button",{type:"button",onClick:()=>u("categories"),className:"text-brand-orange hover:underline",children:"Create categories"})]})]}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:ne.map(M=>{const J=d.find(ae=>ae.id===M);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(J==null?void 0:J.name)??M,s.jsx("button",{type:"button",onClick:()=>tt(M),className:"hover:text-red-400","aria-label":"Remove",children:""})]},M)})})]}),s.jsx("button",{type:"submit",disabled:q,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:q?"Adding":"Add Site"}),b&&s.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:b}),L&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:L})]}),o==="categories"&&s.jsxs(s.Fragment,{children:[s.jsxs("form",{className:"space-y-3 max-w-md",onSubmit:Re,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"New category name"}),s.jsx("input",{type:"text",value:je,onChange:M=>D(M.target.value),placeholder:"e.g. Developer tools",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description (optional)"}),s.jsx("input",{type:"text",value:V,onChange:M=>Q(M.target.value),placeholder:"Optional description",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsx("button",{type:"submit",disabled:te||!je.trim(),className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:te?"Creating":"Create category"}),$&&s.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:$}),ce&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:ce})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-sm font-medium text-slate-300 mb-2",children:"Existing categories"}),Ae?s.jsx("p",{className:"text-sm text-slate-500",children:"Loading"}):d.length===0?s.jsx("p",{className:"text-sm text-slate-500",children:"No categories yet. Create one above."}):s.jsx("ul",{className:"space-y-2",children:d.map(M=>s.jsx("li",{className:"rounded-lg border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm",children:fe===M.id?s.jsxs("form",{onSubmit:De,className:"space-y-2",children:[s.jsx("input",{type:"text",value:xe,onChange:J=>Ce(J.target.value),placeholder:"Name",required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",autoFocus:!0}),s.jsx("input",{type:"text",value:$e,onChange:J=>_(J.target.value),placeholder:"Description (optional)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{type:"submit",disabled:I||!xe.trim(),className:"rounded-md bg-brand-orange px-3 py-1.5 text-xs font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:I?"Saving":"Save"}),s.jsx("button",{type:"button",onClick:me,className:"rounded-md border border-slate-700 px-3 py-1.5 text-xs font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"}),s.jsx("button",{type:"button",onClick:()=>Oe(M.id),disabled:ue===M.id,className:"rounded-md border border-red-500/60 px-3 py-1.5 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:ue===M.id?"Deleting":"Delete"})]}),re&&s.jsx("p",{className:"text-xs text-red-400",children:re})]}):s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>H(M),className:"flex-1 min-w-0 text-left hover:bg-slate-800/50 rounded px-1 -mx-1 py-1 -my-1 transition-colors",children:[s.jsx("span",{className:"font-medium text-slate-200",children:M.name}),M.description&&s.jsx("span",{className:"text-slate-500 truncate max-w-xs ml-2",children:M.description})]}),s.jsx("button",{type:"button",onClick:()=>Oe(M.id),disabled:ue===M.id,className:"rounded px-2 py-1 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50 shrink-0","aria-label":"Delete category",children:ue===M.id?"":"Delete"})]})},M.id))})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Websites"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})};function Nr(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function Zy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}const Xy=()=>{const e=Xt(),{user:t}=at(),[n,r]=Hn(),a=n.get("tab"),l=a==="categories"?"categories":"add",[o,i]=c.useState(l);c.useEffect(()=>{i(a==="categories"?"categories":"add")},[a]);const u=H=>{i(H);const me=new URLSearchParams(n);H==="categories"?me.set("tab","categories"):me.delete("tab"),r(me)},[d,m]=c.useState([]),[p,g]=c.useState(""),[w,S]=c.useState(""),[y,v]=c.useState(null),[h,f]=c.useState(null),[x,N]=c.useState(null),[E,P]=c.useState(!1),[R,U]=c.useState([]),[K,G]=c.useState(""),[ne,pe]=c.useState(!1),[ie,O]=c.useState(!1),[A,z]=c.useState(null),[q,j]=c.useState(null),b=c.useRef(null),[C,L]=c.useState(!0),[T,Y]=c.useState(null),[ee,ve]=c.useState(""),[Ae,W]=c.useState(""),[ce,he]=c.useState(!1),[je,D]=c.useState(null),[V,Q]=c.useState(null),[te,ye]=c.useState(""),[$,B]=c.useState(""),[fe,oe]=c.useState(!1),[xe,Ce]=c.useState(null),[$e,_]=c.useState(null),I=Pt(t??null,"manager");c.useEffect(()=>{var De;if(!I)return;const H=Nr();if(!H)return;const me=window;(De=me.auth)!=null&&De.getAccessToken&&(async()=>{const Oe=await new Promise(ae=>me.auth.getAccessToken(ae));if(!Oe)return;const Re=await fetch(`${H}/media-categories`,{headers:{Authorization:`Bearer ${Oe}`}});if(!Re.ok)return;const J=((await Re.json()).categories??[]).map(ae=>({id:ae.PK||ae.id||"",name:ae.name||ae.PK||"",description:ae.description}));m(J)})()},[I]),c.useEffect(()=>{function H(me){b.current&&!b.current.contains(me.target)&&pe(!1)}if(ne)return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[ne]);const Z=d.filter(H=>!R.includes(H.id)&&(!K.trim()||(H.name||"").toLowerCase().includes(K.toLowerCase()))),re=H=>{var De;const me=(De=H.target.files)==null?void 0:De[0];v(me??null),N(null),j(null),h&&(URL.revokeObjectURL(h),f(null)),me&&(f(URL.createObjectURL(me)),me.type.startsWith("video/")&&P(!0))},de=c.useRef(null),ue=H=>{var De;const me=(De=H.target.files)==null?void 0:De[0];me&&me.type.startsWith("image/")&&(N(me),P(!1)),H.target.value=""},se=H=>{R.includes(H)||U([...R,H]),G("")},we=H=>{U(R.filter(me=>me!==H))},Ne=async()=>{var De;const H=Nr();if(!H){Y("API URL not set."),L(!1);return}const me=window;if(!((De=me.auth)!=null&&De.getAccessToken)){Y("Sign in required."),L(!1);return}L(!0),Y(null);try{const Oe=await new Promise(ae=>me.auth.getAccessToken(ae)),Re=await fetch(`${H}/media-categories`,{headers:{Authorization:`Bearer ${Oe}`}});if(!Re.ok)throw new Error(await Re.text());const J=((await Re.json()).categories??[]).map(ae=>({id:ae.PK||ae.id||"",name:ae.name||ae.PK||"",description:ae.description}));m(J)}catch(Oe){Y((Oe==null?void 0:Oe.message)??"Failed to load media categories.")}finally{L(!1)}};c.useEffect(()=>{I&&o==="categories"&&Ne()},[I,o]);const Je=async H=>{var M;if(H.preventDefault(),!y){j("Please select an image or video file.");return}const me=Nr();if(!me){j("API URL not set.");return}const De=window;if(!((M=De.auth)!=null&&M.getAccessToken)){j("Sign in required.");return}const Oe=y.type.startsWith("video/")?"video":"image",Re=`MEDIA#${Zy()}`;O(!0),j(null),z(null);try{const J=await new Promise(ke=>De.auth.getAccessToken(ke)),ae=await fetch(`${me}/media/upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({mediaId:Re,mediaType:Oe,contentType:y.type||(Oe==="image"?"image/png":"video/mp4")})});if(!ae.ok)throw new Error("Upload request failed");const{uploadUrl:Ie,key:Ee}=await ae.json(),Ue=await fetch(`${me}/media`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({id:Re,mediaKey:Ee,title:p.trim()||"Untitled",description:w.trim(),mediaType:Oe,categoryIds:R})});if(!Ue.ok)throw new Error(await Ue.text());if(!(await fetch(Ie,{method:"PUT",headers:{"Content-Type":y.type||(Oe==="image"?"image/png":"video/mp4")},body:y})).ok)throw new Error("File upload failed");if(Oe==="video"&&x){const ke=await fetch(`${me}/media/thumbnail-upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({mediaId:Re,contentType:x.type||"image/jpeg"})});if(ke.ok){const{uploadUrl:Vn,key:hr}=await ke.json();(await fetch(Vn,{method:"PUT",headers:{"Content-Type":x.type||"image/jpeg"},body:x})).ok&&((await fetch(`${me}/media`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({id:Re,thumbnailKey:hr})})).ok||console.warn("Thumbnail uploaded but update failed"))}}z("Media added."),g(""),S(""),v(null),N(null),h&&URL.revokeObjectURL(h),f(null),U([]),setTimeout(()=>e("/media"),1500)}catch(J){j((J==null?void 0:J.message)??"Failed to add media.")}finally{O(!1)}},et=H=>{Q(H.id),ye(H.name),B(H.description??"")},tt=()=>{Q(null),ye(""),B(""),Ce(null)},nn=async H=>{var Oe;if(H.preventDefault(),!V)return;const me=Nr();if(!me)return;const De=window;if((Oe=De.auth)!=null&&Oe.getAccessToken){oe(!0),Ce(null);try{const Re=await new Promise(J=>De.auth.getAccessToken(J)),M=await fetch(`${me}/media-categories`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Re}`},body:JSON.stringify({id:V,name:te.trim(),description:$.trim()||void 0})});if(!M.ok)throw new Error(await M.text());m(J=>J.map(ae=>ae.id===V?{...ae,name:te.trim(),description:$.trim()||void 0}:ae)),tt()}catch(Re){Ce((Re==null?void 0:Re.message)??"Failed to update media category.")}finally{oe(!1)}}},pr=async H=>{var Oe;if(!window.confirm("Delete this media category? Media using it will lose this category."))return;const me=Nr();if(!me)return;const De=window;if((Oe=De.auth)!=null&&Oe.getAccessToken){_(H);try{const Re=await new Promise(J=>De.auth.getAccessToken(J)),M=await fetch(`${me}/media-categories?id=${encodeURIComponent(H)}`,{method:"DELETE",headers:{Authorization:`Bearer ${Re}`}});if(!M.ok)throw new Error(await M.text());m(J=>J.filter(ae=>ae.id!==H)),V===H&&tt()}catch(Re){Y((Re==null?void 0:Re.message)??"Failed to delete media category.")}finally{_(null)}}},gn=async H=>{var Re;H.preventDefault();const me=ee.trim();if(!me)return;const De=Nr();if(!De)return;const Oe=window;if((Re=Oe.auth)!=null&&Re.getAccessToken){he(!0),D(null),Y(null);try{const M=await new Promise(ae=>Oe.auth.getAccessToken(ae)),J=await fetch(`${De}/media-categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({name:me,description:Ae.trim()})});if(!J.ok)throw new Error(await J.text());ve(""),W(""),D("Media category created."),Ne()}catch(M){Y((M==null?void 0:M.message)??"Failed to create media category.")}finally{he(!1)}}};return I?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ge,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Media"]}),s.jsxs("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Media"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Add media and manage media categories."})]}),s.jsxs("div",{className:"flex gap-2 border-b border-slate-800 pb-2",children:[s.jsx("button",{type:"button",onClick:()=>u("add"),className:`px-4 py-2 rounded-md text-sm font-medium ${o==="add"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Add Media"}),s.jsx("button",{type:"button",onClick:()=>u("categories"),className:`px-4 py-2 rounded-md text-sm font-medium ${o==="categories"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Media Categories"})]}),o==="add"&&s.jsxs("form",{className:"space-y-4 max-w-xl",onSubmit:Je,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Title (optional)"}),s.jsx("input",{type:"text",value:p,onChange:H=>g(H.target.value),placeholder:"Untitled",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description (optional)"}),s.jsx("textarea",{value:w,onChange:H=>S(H.target.value),placeholder:"Description",rows:3,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Image or video *"}),s.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp,video/mp4,video/webm",onChange:re,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-slate-100"}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Videos get an auto-generated thumbnail from the 34 sec frame. Change it when editing."}),(y==null?void 0:y.type.startsWith("video/"))&&x&&s.jsxs("p",{className:"mt-1 text-xs text-emerald-400",children:["Custom thumbnail: ",x.name," ",s.jsx("button",{type:"button",onClick:()=>P(!0),className:"text-brand-orange hover:underline",children:"Change"})]}),E&&(y==null?void 0:y.type.startsWith("video/"))&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",role:"dialog","aria-modal":"true","aria-labelledby":"thumbnail-dialog-title",onClick:()=>P(!1),children:s.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-900 p-6 shadow-xl max-w-sm w-full mx-4",onClick:H=>H.stopPropagation(),children:[s.jsx("h2",{id:"thumbnail-dialog-title",className:"text-lg font-medium text-slate-100 mb-2",children:"Add thumbnail"}),s.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Choose a custom thumbnail image for this video (optional)."}),s.jsx("input",{ref:de,type:"file",accept:"image/png,image/jpeg,image/gif,image/webp",onChange:ue,className:"hidden"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{var H;return(H=de.current)==null?void 0:H.click()},className:"rounded-md bg-slate-700 px-3 py-2 text-sm font-medium text-slate-100 hover:bg-slate-600",children:"Choose file"}),s.jsx("button",{type:"button",onClick:()=>P(!1),className:"rounded-md border border-slate-600 px-3 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Skip"})]})]})}),h&&s.jsx("div",{className:"mt-2",children:y!=null&&y.type.startsWith("video/")?s.jsx("video",{src:h,muted:!0,controls:!0,className:"max-h-32 rounded-lg border border-slate-700"}):s.jsx("img",{src:h,alt:"Preview",className:"h-24 w-auto rounded-lg border border-slate-700 object-cover"})})]}),s.jsxs("div",{ref:b,className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Media categories (optional)"}),s.jsx("input",{type:"text",value:K,onChange:H=>G(H.target.value),onFocus:()=>pe(!0),placeholder:"Search and select",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),ne&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",children:Z.length?Z.map(H=>s.jsx("button",{type:"button",onClick:()=>se(H.id),className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:H.name},H.id)):s.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches"})}),d.length===0&&s.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["No categories."," ",s.jsx("button",{type:"button",onClick:()=>u("categories"),className:"text-brand-orange hover:underline",children:"Create media categories"})]})]}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:R.map(H=>{const me=d.find(De=>De.id===H);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(me==null?void 0:me.name)??H,s.jsx("button",{type:"button",onClick:()=>we(H),className:"hover:text-red-400","aria-label":"Remove",children:""})]},H)})})]}),s.jsx("button",{type:"submit",disabled:ie||!y,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:ie?"Uploading":"Add Media"}),A&&s.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:A}),q&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:q})]}),o==="categories"&&s.jsxs(s.Fragment,{children:[s.jsxs("form",{className:"space-y-3 max-w-md",onSubmit:gn,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"New category name"}),s.jsx("input",{type:"text",value:ee,onChange:H=>ve(H.target.value),placeholder:"e.g. Tutorials",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description (optional)"}),s.jsx("input",{type:"text",value:Ae,onChange:H=>W(H.target.value),placeholder:"Optional description",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsx("button",{type:"submit",disabled:ce||!ee.trim(),className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:ce?"Creating":"Create media category"}),je&&s.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:je}),T&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:T})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-sm font-medium text-slate-300 mb-2",children:"Existing media categories"}),C?s.jsx("p",{className:"text-sm text-slate-500",children:"Loading"}):d.length===0?s.jsx("p",{className:"text-sm text-slate-500",children:"No media categories yet. Create one above."}):s.jsx("ul",{className:"space-y-2",children:d.map(H=>s.jsx("li",{className:"rounded-lg border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm",children:V===H.id?s.jsxs("form",{onSubmit:nn,className:"space-y-2",children:[s.jsx("input",{type:"text",value:te,onChange:me=>ye(me.target.value),placeholder:"Name",required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",autoFocus:!0}),s.jsx("input",{type:"text",value:$,onChange:me=>B(me.target.value),placeholder:"Description (optional)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{type:"submit",disabled:fe||!te.trim(),className:"rounded-md bg-brand-orange px-3 py-1.5 text-xs font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:fe?"Saving":"Save"}),s.jsx("button",{type:"button",onClick:tt,className:"rounded-md border border-slate-700 px-3 py-1.5 text-xs font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"}),s.jsx("button",{type:"button",onClick:()=>pr(H.id),disabled:$e===H.id,className:"rounded-md border border-red-500/60 px-3 py-1.5 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:$e===H.id?"Deleting":"Delete"})]}),xe&&s.jsx("p",{className:"text-xs text-red-400",children:xe})]}):s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>et(H),className:"flex-1 min-w-0 text-left hover:bg-slate-800/50 rounded px-1 -mx-1 py-1 -my-1 transition-colors",children:[s.jsx("span",{className:"font-medium text-slate-200",children:H.name}),H.description&&s.jsx("span",{className:"text-slate-500 truncate max-w-xs ml-2",children:H.description})]}),s.jsx("button",{type:"button",onClick:()=>pr(H.id),disabled:$e===H.id,className:"rounded px-2 py-1 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50 shrink-0","aria-label":"Delete category",children:$e===H.id?"":"Delete"})]})},H.id))})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Media"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})};function ba(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const td=100,ev=5*1024*1024,tv=()=>{const{id:e}=Ll(),t=Xt(),{user:n}=at(),[r,a]=c.useState(!0),[l,o]=c.useState(""),[i,u]=c.useState(""),[d,m]=c.useState(""),[p,g]=c.useState(!1),[w,S]=c.useState([]),[y,v]=c.useState(""),[h,f]=c.useState(""),[x,N]=c.useState(null),[E,P]=c.useState(!1),[R,U]=c.useState(null),[K,G]=c.useState(""),[ne,pe]=c.useState(null),[ie,O]=c.useState(null),[A,z]=c.useState([]),[q,j]=c.useState([]),[b,C]=c.useState(""),[L,T]=c.useState(!1),[Y,ee]=c.useState(!1),[ve,Ae]=c.useState(!1),[W,ce]=c.useState(!1),[he,je]=c.useState(null),[D,V]=c.useState(null),Q=Pt(n??null,"manager"),te=e?decodeURIComponent(e):"";c.useEffect(()=>{var de;if(!Q||!te){a(!1);return}const I=ba();if(!I){V("API URL not set."),a(!1);return}const Z=window;if(!((de=Z.auth)!=null&&de.getAccessToken)){V("Sign in required."),a(!1);return}let re=!1;return(async()=>{const ue=await new Promise(et=>Z.auth.getAccessToken(et));if(!ue||re)return;const se=await fetch(`${I}/sites?id=${encodeURIComponent(te)}`);if(se.status===404||!se.ok){re||V("Site not found."),a(!1);return}const Ne=(await se.json()).site;if(re||!Ne){a(!1);return}o(Ne.url??""),u(Ne.title??""),m(Ne.description??""),g(!!Ne.descriptionAiGenerated),S(Array.isArray(Ne.tags)?Ne.tags:[]),v(""),f(Ne.scrapedContent??""),N(Ne.logoUrl||null),j(Array.isArray(Ne.categoryIds)?Ne.categoryIds:[]);const Je=await fetch(`${I}/categories`,{headers:{Authorization:`Bearer ${ue}`}});if(Je.ok&&!re){const et=await Je.json();z((et.categories??[]).map(tt=>({id:tt.PK||tt.id||"",name:tt.name||tt.PK||""})))}re||a(!1)})(),()=>{re=!0}},[Q,te]);const ye=I=>{var de;const Z=(de=I.target.files)==null?void 0:de[0];if(U(Z??null),G(""),O(null),P(!1),ne&&(URL.revokeObjectURL(ne),pe(null)),!Z)return;if(Z.size>ev){O("Logo must be 5 MB or smaller.");return}const re=new Image;re.onload=()=>{if(re.naturalWidth<td||re.naturalHeight<td){O("Logo must be at least 100100 pixels.");return}O(null),pe(URL.createObjectURL(Z))},re.onerror=()=>O("Please choose a valid image file."),re.src=URL.createObjectURL(Z)},$=I=>{q.includes(I)||j([...q,I]),C(""),T(!1)},B=I=>{j(q.filter(Z=>Z!==I))},fe=()=>{const I=y.trim();I&&!w.includes(I)&&S([...w,I]),v("")},oe=I=>S(w.filter(Z=>Z!==I)),xe=A.filter(I=>!q.includes(I.id)&&(!b.trim()||(I.name||"").toLowerCase().includes(b.toLowerCase()))),Ce=async()=>{var de;const I=l.trim();if(!I){V("Enter URL first.");return}const Z=ba();if(!Z){V("API URL not set.");return}const re=window;if(!((de=re.auth)!=null&&de.getAccessToken)){V("Sign in required.");return}ce(!0),V(null);try{const ue=await new Promise(Ne=>re.auth.getAccessToken(Ne)),se=await fetch(`${Z}/sites/generate-description`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ue}`},body:JSON.stringify({url:I})});if(!se.ok)throw new Error(await se.text());const we=await se.json();m(we.description??""),g(!0)}catch(ue){V((ue==null?void 0:ue.message)??"Failed to generate description.")}finally{ce(!1)}},$e=async I=>{var de;if(I.preventDefault(),!te)return;const Z=ba();if(!Z){V("API URL not set.");return}const re=window;if(!((de=re.auth)!=null&&de.getAccessToken)){V("Sign in required.");return}if(!(R&&ie)){ee(!0),V(null),je(null);try{const ue=await new Promise(Je=>re.auth.getAccessToken(Je));let se=null;if(R){const Je=await fetch(`${Z}/sites/logo-upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ue}`},body:JSON.stringify({siteId:te,contentType:R.type||"image/png"})});if(!Je.ok)throw new Error("Logo upload request failed");const{uploadUrl:et,key:tt}=await Je.json();if(!(await fetch(et,{method:"PUT",headers:{"Content-Type":R.type||"image/png"},body:R})).ok)throw new Error("Logo upload failed");se=tt}else if(K.trim()){const Je=await fetch(`${Z}/sites/logo-from-url`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ue}`},body:JSON.stringify({siteId:te,imageUrl:K.trim()})});if(!Je.ok){const tt=await Je.json().catch(()=>({}));throw new Error(tt.error||await Je.text())}const et=await Je.json();et.key&&(se=et.key)}const we={id:te,url:l.trim(),title:i.trim()||l.trim(),description:d.trim(),descriptionAiGenerated:p,categoryIds:q,tags:w,scrapedContent:h.trim()||void 0};E?we.deleteLogo=!0:se&&(we.logoKey=se);const Ne=await fetch(`${Z}/sites`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ue}`},body:JSON.stringify(we)});if(!Ne.ok)throw new Error(await Ne.text());je("Site updated."),ne&&URL.revokeObjectURL(ne),U(null),pe(null),G(""),setTimeout(()=>t(`/websites/${encodeURIComponent(te)}`),1200)}catch(ue){V((ue==null?void 0:ue.message)??"Failed to update site.")}finally{ee(!1)}}},_=async()=>{var re;if(!te||!window.confirm("Delete this site? This cannot be undone."))return;const I=ba();if(!I)return;const Z=window;if((re=Z.auth)!=null&&re.getAccessToken){Ae(!0),V(null);try{const de=await new Promise(se=>Z.auth.getAccessToken(se)),ue=await fetch(`${I}/sites`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de}`},body:JSON.stringify({id:te})});if(!ue.ok)throw new Error(await ue.text());t("/websites")}catch(de){V((de==null?void 0:de.message)??"Failed to delete site.")}finally{Ae(!1)}}};return Q?r?s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ge,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Websites"]}),s.jsx("p",{className:"text-sm text-slate-400",children:"Loading"})]}):D&&!l&&!i?s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ge,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Websites"]}),s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:D})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ge,{to:`/websites/${encodeURIComponent(te)}`,className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to site"]}),s.jsxs("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit Site"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Update URL, title, description, logo, categories, and scraped content."})]}),s.jsxs("form",{className:"space-y-4 max-w-xl",onSubmit:$e,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"URL *"}),s.jsx("input",{type:"url",value:l,onChange:I=>o(I.target.value),required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Title"}),s.jsx("input",{type:"text",value:i,onChange:I=>u(I.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description"}),s.jsx("textarea",{value:d,onChange:I=>{m(I.target.value),g(!1)},placeholder:"Short description",rows:4,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsx("button",{type:"button",onClick:Ce,disabled:W||!l.trim(),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-1.5 text-xs font-medium text-slate-200 hover:bg-slate-700 disabled:opacity-50",children:W?"Generating":"Generate AI description"}),p&&s.jsx("span",{className:"ml-2 text-xs uppercase tracking-wide text-slate-500",children:"AI summary"}),s.jsxs("label",{className:"mt-2 block inline-flex items-center gap-2 text-xs text-slate-500",children:[s.jsx("input",{type:"checkbox",checked:p,onChange:I=>g(I.target.checked)}),"AI-generated summary"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Logo"}),x&&!E&&!ne&&s.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[s.jsx("img",{src:x,alt:"Current logo",className:"h-12 w-12 rounded-lg border border-slate-700 object-cover"}),s.jsxs("label",{className:"text-xs text-slate-400",children:[s.jsx("input",{type:"checkbox",checked:E,onChange:I=>P(I.target.checked)}),s.jsx("span",{className:"ml-1",children:"Remove logo"})]})]}),s.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp",onChange:ye,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-slate-100"}),s.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Or paste image URL (image will be copied to S3 on save):"}),s.jsx("input",{type:"url",value:K,onChange:I=>{G(I.target.value),I.target.value.trim()&&U(null)},placeholder:"https://example.com/logo.png",className:"mt-1 w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),ne&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:ne,alt:"New logo",className:"h-16 w-16 rounded-lg border border-slate-700 object-cover"})}),ie&&s.jsx("p",{className:"mt-1 text-xs text-red-400",children:ie})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Categories"}),s.jsx("input",{type:"text",value:b,onChange:I=>C(I.target.value),onFocus:()=>T(!0),placeholder:"Search and select",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),L&&s.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",children:xe.length?xe.map(I=>s.jsx("button",{type:"button",onClick:()=>$(I.id),className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:I.name},I.id)):s.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches"})}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:q.map(I=>{const Z=A.find(re=>re.id===I);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(Z==null?void 0:Z.name)??I,s.jsx("button",{type:"button",onClick:()=>B(I),className:"hover:text-red-400","aria-label":"Remove",children:""})]},I)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:w.map(I=>s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[I,s.jsx("button",{type:"button",onClick:()=>oe(I),className:"hover:text-red-400","aria-label":"Remove",children:""})]},I))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:y,onChange:I=>v(I.target.value),onKeyDown:I=>I.key==="Enter"&&(I.preventDefault(),fe()),placeholder:"Add tag",className:"flex-1 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsx("button",{type:"button",onClick:fe,className:"rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-sm text-slate-200 hover:bg-slate-700",children:"Add"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Scraped content (optional)"}),s.jsx("textarea",{value:h,onChange:I=>f(I.target.value),rows:6,placeholder:"Paste or edit scraped content (e.g. README, about page)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm font-mono text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("button",{type:"submit",disabled:Y,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:Y?"Saving":"Save changes"}),s.jsx("button",{type:"button",onClick:_,disabled:ve||Y,className:"rounded-md border border-red-500/60 px-4 py-2 text-sm font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:ve?"Deleting":"Delete entry"})]}),he&&s.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:he}),D&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:D})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit Site"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})};function Sr(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const nv=()=>{const{id:e}=Ll(),t=Xt(),{user:n}=at(),[r,a]=c.useState(!0),[l,o]=c.useState(""),[i,u]=c.useState(""),[d,m]=c.useState(null),[p,g]=c.useState(null),[w,S]=c.useState("image"),[y,v]=c.useState(!1),[h,f]=c.useState(!1),[x,N]=c.useState(!1),[E,P]=c.useState([]),[R,U]=c.useState([]),[K,G]=c.useState(""),[ne,pe]=c.useState(!1),[ie,O]=c.useState(!1),[A,z]=c.useState(!1),[q,j]=c.useState(null),[b,C]=c.useState(null),L=Pt(n??null,"manager"),T=e?decodeURIComponent(e):"";c.useEffect(()=>{var te;if(!L||!T){a(!1);return}const D=Sr();if(!D){C("API URL not set."),a(!1);return}const V=window;if(!((te=V.auth)!=null&&te.getAccessToken)){C("Sign in required."),a(!1);return}let Q=!1;return(async()=>{const ye=await new Promise(Ce=>V.auth.getAccessToken(Ce));if(!ye||Q)return;const $=await fetch(`${D}/media?id=${encodeURIComponent(T)}`);if($.status===404||!$.ok){Q||C("Media not found."),a(!1);return}const B=await $.json(),fe=Array.isArray(B.media)?B.media[0]:B.media;if(Q||!fe){a(!1);return}const oe=fe;o(oe.title??""),u(oe.description??""),m(oe.mediaUrl||null),g(oe.thumbnailUrl||null),S(oe.mediaType||"image"),U(Array.isArray(oe.categoryIds)?oe.categoryIds:[]);const xe=await fetch(`${D}/media-categories`,{headers:{Authorization:`Bearer ${ye}`}});if(xe.ok&&!Q){const Ce=await xe.json();P((Ce.categories??[]).map($e=>({id:$e.PK||$e.id||"",name:$e.name||$e.PK||""})))}Q||a(!1)})(),()=>{Q=!0}},[L,T]);const Y=D=>{R.includes(D)||U([...R,D]),G(""),pe(!1)},ee=D=>{U(R.filter(V=>V!==D))},ve=E.filter(D=>!R.includes(D.id)&&(!K.trim()||(D.name||"").toLowerCase().includes(K.toLowerCase()))),Ae=async D=>{var te;if(D.preventDefault(),!T)return;const V=Sr();if(!V){C("API URL not set.");return}const Q=window;if(!((te=Q.auth)!=null&&te.getAccessToken)){C("Sign in required.");return}O(!0),C(null),j(null);try{const ye=await new Promise(B=>Q.auth.getAccessToken(B)),$=await fetch(`${V}/media`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ye}`},body:JSON.stringify({id:T,title:l.trim()||"Untitled",description:i.trim(),categoryIds:R})});if(!$.ok)throw new Error(await $.text());j("Media updated."),setTimeout(()=>t("/media"),1200)}catch(ye){C((ye==null?void 0:ye.message)??"Failed to update media.")}finally{O(!1)}},W=async D=>{var ye,$;const V=(ye=D.target.files)==null?void 0:ye[0];if(!V||!T)return;if(!V.type.startsWith("image/")){C("Please choose an image (PNG, JPEG, GIF, WebP).");return}const Q=Sr();if(!Q)return;const te=window;if(($=te.auth)!=null&&$.getAccessToken){f(!0),C(null),j(null);try{const B=await new Promise(I=>te.auth.getAccessToken(I)),fe=await fetch(`${Q}/media/thumbnail-upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B}`},body:JSON.stringify({mediaId:T,contentType:V.type||"image/png"})});if(!fe.ok)throw new Error("Upload request failed");const{uploadUrl:oe,key:xe}=await fe.json();if(!(await fetch(oe,{method:"PUT",headers:{"Content-Type":V.type||"image/png"},body:V})).ok)throw new Error("File upload failed");const $e=await fetch(`${Q}/media`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B}`},body:JSON.stringify({id:T,thumbnailKey:xe})});if(!$e.ok)throw new Error(await $e.text());const _=await fetch(`${Q}/media?id=${encodeURIComponent(T)}`);if(_.ok){const I=await _.json(),Z=Array.isArray(I.media)?I.media[0]:I.media;Z!=null&&Z.thumbnailUrl&&g(Z.thumbnailUrl)}j("Logo/thumbnail updated.")}catch(B){C((B==null?void 0:B.message)??"Failed to upload thumbnail.")}finally{f(!1),D.target.value=""}}},ce=async()=>{var Q;if(!T||!window.confirm("Remove the custom logo/thumbnail? You can regenerate from video or upload a new one."))return;const D=Sr();if(!D)return;const V=window;if((Q=V.auth)!=null&&Q.getAccessToken){N(!0),C(null),j(null);try{const te=await new Promise($=>V.auth.getAccessToken($)),ye=await fetch(`${D}/media`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`},body:JSON.stringify({id:T,deleteThumbnail:!0})});if(!ye.ok)throw new Error(await ye.text());g(null),j("Logo/thumbnail removed.")}catch(te){C((te==null?void 0:te.message)??"Failed to remove thumbnail.")}finally{N(!1)}}},he=async()=>{var Q;if(!T)return;const D=Sr();if(!D)return;const V=window;if((Q=V.auth)!=null&&Q.getAccessToken){v(!0),C(null),j(null);try{const te=await new Promise(B=>V.auth.getAccessToken(B)),ye=await fetch(`${D}/media/regenerate-thumbnail`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`},body:JSON.stringify({mediaId:T})});if(!ye.ok)throw new Error(await ye.text());j("Thumbnail regeneration started. New thumbnail will appear in 3060 seconds.");const $=async B=>{if(B>6)return;await new Promise(oe=>setTimeout(oe,1e4));const fe=await fetch(`${D}/media?id=${encodeURIComponent(T)}`);if(fe.ok){const oe=await fe.json(),xe=Array.isArray(oe.media)?oe.media[0]:oe.media;if(xe!=null&&xe.thumbnailUrl){g(xe.thumbnailUrl),j("Thumbnail updated.");return}}$(B+1)};$(1)}catch(te){C((te==null?void 0:te.message)??"Failed to regenerate thumbnail.")}finally{v(!1)}}},je=async()=>{var Q;if(!T||!window.confirm("Delete this media item? This cannot be undone."))return;const D=Sr();if(!D)return;const V=window;if((Q=V.auth)!=null&&Q.getAccessToken){z(!0),C(null);try{const te=await new Promise($=>V.auth.getAccessToken($)),ye=await fetch(`${D}/media?id=${encodeURIComponent(T)}`,{method:"DELETE",headers:{Authorization:`Bearer ${te}`}});if(!ye.ok)throw new Error(await ye.text());t("/media")}catch(te){C((te==null?void 0:te.message)??"Failed to delete media.")}finally{z(!1)}}};return L?r?s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ge,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Media"]}),s.jsx("p",{className:"text-sm text-slate-400",children:"Loading"})]}):b&&!l&&!i?s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ge,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Media"]}),s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:b})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ge,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to Media"]}),s.jsxs("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit Media"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Update title, description, and categories. The file itself cannot be changed here."})]}),d&&s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 overflow-hidden max-w-2xl",children:[s.jsx("p",{className:"px-4 py-2 text-xs font-medium text-slate-400 border-b border-slate-800",children:"Current media"}),s.jsx("div",{className:"p-4 flex justify-center items-center bg-slate-900/40 min-h-[160px]",children:w==="video"?s.jsx("video",{src:d,controls:!0,className:"max-w-full max-h-[50vh] rounded-lg border border-slate-700",playsInline:!0}):s.jsx("img",{src:d,alt:l||"Media",className:"max-w-full max-h-[50vh] w-auto h-auto object-contain rounded-lg border border-slate-700"})}),w==="video"&&s.jsxs("div",{className:"px-4 py-3 border-t border-slate-800 space-y-2",children:[s.jsx("p",{className:"text-xs font-medium text-slate-400",children:"Logo / Thumbnail"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[p&&s.jsx("img",{src:p,alt:"Thumbnail",className:"h-16 w-auto rounded border border-slate-700 object-cover"}),s.jsx("button",{type:"button",onClick:he,disabled:y,className:"rounded-md border border-slate-600 px-3 py-1.5 text-sm font-medium text-slate-200 hover:bg-slate-800 disabled:opacity-50",children:y?"Regenerating":"Take screenshot"}),s.jsxs("label",{className:"cursor-pointer rounded-md border border-slate-600 px-3 py-1.5 text-sm font-medium text-slate-200 hover:bg-slate-800",children:[h?"Uploading":"Add logo",s.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp",className:"hidden",onChange:W,disabled:h})]}),p&&s.jsx("button",{type:"button",onClick:ce,disabled:x,className:"rounded-md border border-red-500/60 px-3 py-1.5 text-sm font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:x?"Removing":"Delete logo"})]})]})]}),s.jsxs("form",{className:"space-y-4 max-w-xl",onSubmit:Ae,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Title"}),s.jsx("input",{type:"text",value:l,onChange:D=>o(D.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description"}),s.jsx("textarea",{value:i,onChange:D=>u(D.target.value),rows:4,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Media categories"}),s.jsx("input",{type:"text",value:K,onChange:D=>G(D.target.value),onFocus:()=>pe(!0),placeholder:"Search and select",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),ne&&s.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",children:ve.length?ve.map(D=>s.jsx("button",{type:"button",onClick:()=>Y(D.id),className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:D.name},D.id)):s.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches"})}),s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:R.map(D=>{const V=E.find(Q=>Q.id===D);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(V==null?void 0:V.name)??D,s.jsx("button",{type:"button",onClick:()=>ee(D),className:"hover:text-red-400","aria-label":"Remove",children:""})]},D)})})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("button",{type:"submit",disabled:ie,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:ie?"Saving":"Save changes"}),s.jsx("button",{type:"button",onClick:je,disabled:A||ie,className:"rounded-md border border-red-500/60 px-4 py-2 text-sm font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:A?"Deleting":"Delete entry"})]}),q&&s.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:q}),b&&s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:b})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit Media"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})},nd={admin:"SuperAdmin",manager:"Manager",user:"User"},Li=[{value:-8,label:"UTC-8"},{value:-5,label:"UTC-5"},{value:0,label:"UTC+0/GMT"}];function bo(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function rv(e,t,n){if(!e&&!n)return"";if(!e)return n?`from ${n}`:"";try{const r=new Date(e);if(isNaN(r.getTime()))return e+(n?` from ${n}`:"");const a=r.getTime()+(t||0)*36e5,l=new Date(a),o=y=>y<10?"0"+y:""+y,i=l.getUTCFullYear(),u=o(l.getUTCMonth()+1),d=o(l.getUTCDate()),m=o(l.getUTCHours()),p=o(l.getUTCMinutes()),g=Li.find(y=>y.value===t),w=g?g.label:t<0?"UTC"+t:"UTC+"+t;let S=`${i}-${u}-${d} ${m}:${p} ${w}`;return n&&(S+=` from ${n}`),S}catch{return e+(n?` from ${n}`:"")}}const sv=e=>e==="admin"?"bg-amber-500/20 text-amber-200":e==="manager"?"bg-blue-500/20 text-blue-200":e==="user"?"bg-slate-600/30 text-slate-300":"bg-emerald-500/20 text-emerald-200",av=()=>{var Ae;const e=Xt(),[t]=Hn(),n=t.get("username")??"",r=t.get("email")??"",a=t.get("status")??"",{user:l}=at(),[o,i]=c.useState(!0),[u,d]=c.useState(null),[m,p]=c.useState(null),[g,w]=c.useState([]),[S,y]=c.useState([]),[v,h]=c.useState([]),[f,x]=c.useState(""),[N,E]=c.useState(!1),[P,R]=c.useState(!1),[U,K]=c.useState(null),[G,ne]=c.useState(!1),[pe,ie]=c.useState(-8),O=Pt(l??null,"manager"),A=((Ae=l==null?void 0:l.groups)==null?void 0:Ae.includes("admin"))??!1,z=A?["admin","manager","user"]:["user"],q=async()=>{var he;if(!n)return;const W=bo();if(!W){d("API URL not set."),i(!1);return}const ce=window;if(!((he=ce.auth)!=null&&he.getAccessToken)){d("Sign in required."),i(!1);return}i(!0),d(null);try{const je=await new Promise($=>ce.auth.getAccessToken($)),[D,V]=await Promise.all([fetch(`${W}/admin/users/${encodeURIComponent(n)}/groups`,{headers:{Authorization:`Bearer ${je}`}}),fetch(`${W}/admin/groups`,{headers:{Authorization:`Bearer ${je}`}})]);if(!D.ok){const $=await D.json().catch(()=>({}));throw new Error($.error||"Failed to load user")}const Q=await D.json(),ye=((await V.json()).groups??[]).map($=>$.name??($.PK??"").replace("GROUP#","")).filter(Boolean);p({email:Q.username??n,status:a,lastLoginAt:Q.lastLoginAt??"",lastLoginIp:Q.lastLoginIp??"",cognitoGroups:Q.cognitoGroups??[],customGroups:Q.customGroups??[]}),y([...Q.cognitoGroups??[]]),h([...Q.customGroups??[]]),w(ye)}catch(je){d((je==null?void 0:je.message)??"Failed to load user")}finally{i(!1)}};c.useEffect(()=>{const W=parseInt(sessionStorage.getItem("funkedupshift_lastlogin_tz")??"-8",10);!isNaN(W)&&Li.some(ce=>ce.value===W)&&ie(W)},[]),c.useEffect(()=>{O&&n&&q()},[O,n]);const j=W=>{W&&!S.includes(W)&&y(ce=>[...ce,W])},b=W=>{y(ce=>ce.filter(he=>he!==W))},C=W=>{W&&!v.includes(W)&&(h(ce=>[...ce,W]),x(""),E(!1))},L=W=>{h(ce=>ce.filter(he=>he!==W))},T=g.filter(W=>v.includes(W)?!1:f.trim()?W.toLowerCase().includes(f.toLowerCase().trim()):!0),Y=async W=>{var $;if(W.preventDefault(),!n)return;const ce=bo();if(!ce)return;const he=window;if(!(($=he.auth)!=null&&$.getAccessToken))return;const je=(m==null?void 0:m.cognitoGroups)??[],D=(m==null?void 0:m.customGroups)??[];let V=S.filter(B=>!je.includes(B)),Q=je.filter(B=>!S.includes(B));A||(V=V.filter(B=>B==="user"),Q=Q.filter(B=>B==="user"));const te=v.filter(B=>!D.includes(B)),ye=D.filter(B=>!v.includes(B));R(!0),K(null);try{const fe={headers:{"Content-Type":"application/json",Authorization:`Bearer ${await new Promise(_=>he.auth.getAccessToken(_))}`}},oe=encodeURIComponent,xe=[];V.forEach(_=>xe.push(fetch(`${ce}/admin/users/${oe(n)}/groups`,{method:"POST",...fe,body:JSON.stringify({groupName:_})}))),Q.forEach(_=>xe.push(fetch(`${ce}/admin/users/${oe(n)}/groups/${oe(_)}`,{method:"DELETE",headers:fe.headers}))),te.forEach(_=>xe.push(fetch(`${ce}/admin/users/${oe(n)}/groups`,{method:"POST",...fe,body:JSON.stringify({groupName:_})}))),ye.forEach(_=>xe.push(fetch(`${ce}/admin/users/${oe(n)}/groups/${oe(_)}`,{method:"DELETE",headers:fe.headers})));const $e=(await Promise.all(xe)).find(_=>!_.ok);if($e){const _=await $e.json().catch(()=>({}));throw new Error(_.error||"Failed to save")}window.alert("Changes saved"),e("/admin/membership")}catch(B){K((B==null?void 0:B.message)??"Failed to save")}finally{R(!1)}},ee=W=>{const ce=parseInt(W.target.value,10);ie(ce),sessionStorage.setItem("funkedupshift_lastlogin_tz",String(ce))},ve=async()=>{var je;const W=r||(m==null?void 0:m.email)||n;if(!window.confirm(`Delete user "${W}"? This cannot be undone.`))return;const ce=bo();if(!ce)return;const he=window;if((je=he.auth)!=null&&je.getAccessToken){ne(!0);try{const D=await new Promise(Q=>he.auth.getAccessToken(Q)),V=await fetch(`${ce}/admin/users/${encodeURIComponent(n)}`,{method:"DELETE",headers:{Authorization:`Bearer ${D}`}});if(!V.ok){const Q=await V.json().catch(()=>({}));throw new Error(Q.error||"Failed to delete user")}e("/admin/membership")}catch(D){K((D==null?void 0:D.message)??"Failed to delete user")}finally{ne(!1)}}};return O?n?o?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Loading"})]}):u||!m?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),s.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:u??"Failed to load user"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ge,{to:"/admin/membership",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[s.jsx(ct,{className:"h-4 w-4"}),"Back to users"]}),s.jsxs("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Adjust system roles and custom groups."}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("label",{htmlFor:"tz-select",className:"text-slate-500",children:"Last login timezone:"}),s.jsx("select",{id:"tz-select",value:pe,onChange:ee,className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 text-sm",children:Li.map(W=>s.jsx("option",{value:W.value,children:W.label},W.value))})]})]}),s.jsxs("form",{onSubmit:Y,className:"space-y-6 max-w-2xl",children:[s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("h2",{className:"text-sm font-medium text-slate-300 mb-3",children:"User info"}),s.jsx("table",{className:"text-sm",children:s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 pr-4 font-medium text-slate-400 w-28",children:"Email"}),s.jsx("td",{className:"py-1 text-slate-200",children:r||m.email})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 pr-4 font-medium text-slate-400",children:"Status"}),s.jsx("td",{className:"py-1 text-slate-200",children:a||m.status||""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 pr-4 font-medium text-slate-400",children:"Last login"}),s.jsx("td",{className:"py-1 text-slate-200",children:rv(m.lastLoginAt,pe,m.lastLoginIp)})]})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200",children:"System roles"}),s.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-200 w-full max-w-xs",onChange:W=>{const ce=W.target.value;ce&&j(ce),W.target.value=""},children:[s.jsx("option",{value:"",children:"Select role to add"}),z.filter(W=>!S.includes(W)).map(W=>s.jsx("option",{value:W,children:nd[W]??W},W))]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:S.map(W=>{const ce=A||W==="user";return s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm ${sv(W)}`,children:[nd[W]??W,ce&&s.jsx("button",{type:"button",onClick:()=>b(W),className:"ml-0.5 hover:text-red-300","aria-label":"Remove",children:""})]},W)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-200",children:"Custom groups"}),g.length===0?s.jsxs("p",{className:"text-sm text-slate-500",children:["No custom groups. ",s.jsx(ge,{to:"/admin/membership?tab=groups",className:"text-brand-orange hover:underline",children:"Create groups"}),"."]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative max-w-xs",children:[s.jsx("input",{type:"text",value:f,onChange:W=>{x(W.target.value),E(!0)},onFocus:()=>E(!0),placeholder:"Search or select groups",className:"w-full rounded border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-200 placeholder:text-slate-500"}),N&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>E(!1),"aria-hidden":"true"}),s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 max-h-48 overflow-y-auto rounded border border-slate-700 bg-slate-900 shadow-lg z-20",children:T.length===0?s.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No matches"}):T.map(W=>s.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",onClick:()=>C(W),children:W},W))})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:v.map(W=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm bg-emerald-500/20 text-emerald-200",children:[W,s.jsx("button",{type:"button",onClick:()=>L(W),className:"ml-0.5 hover:text-red-300","aria-label":"Remove",children:""})]},W))})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s.jsx("button",{type:"submit",disabled:P,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:P?"Saving":"Save"}),s.jsx(ge,{to:"/admin/membership",className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"}),A&&s.jsx("button",{type:"button",onClick:ve,disabled:G||P,className:"rounded-md border border-red-500/60 bg-red-500/10 px-4 py-2 text-sm font-medium text-red-200 hover:bg-red-500/20 disabled:opacity-50",children:G?"Deleting":"Delete user"})]}),U&&s.jsx("p",{className:"text-sm text-red-400",children:U})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Missing username in URL."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})},lv=()=>{const{user:e,refreshAuth:t}=at(),n=Xt(),[r,a]=c.useState("signin"),[l,o]=c.useState(""),[i,u]=c.useState(""),[d,m]=c.useState(!1),[p,g]=c.useState(null),[w,S]=c.useState(null),y=h=>{a(h),g(null),S(null)},v=async h=>{h.preventDefault(),g(null),S(null);const f=l.trim(),x=i.trim();if(!f||!x){g("Email and password are required.");return}const N=window;if(!N.auth){g("Auth is not configured. Check Cognito frontend setup.");return}m(!0);try{r==="signin"?(await new Promise((E,P)=>{N.auth.signIn(f,x,R=>{R?P(R):E()})}),S("Signed in successfully. Redirecting"),await t()):(await new Promise((E,P)=>{N.auth.signUp(f,x,R=>{R?P(R):E()})}),S("Account created successfully. You can now sign in."),a("signin")),r==="signin"&&setTimeout(()=>n("/"),800)}catch(E){const P=(E==null?void 0:E.message)||"Authentication failed. Please try again.";g(P)}finally{m(!1)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Sign in / Sign up"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Use your Funkedupshift account to rate sites, add notes, and manage curated content (based on your role)."})]}),e&&s.jsxs("div",{className:"rounded-xl border border-emerald-600/60 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100",children:["You're currently signed in as"," ",s.jsx("span",{className:"font-semibold text-emerald-200",children:e.email})," (",e.role==="superadmin"?"SuperAdmin":e.role,"). You can safely close this page or continue browsing websites and media."]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-[minmax(0,1.3fr)_minmax(0,1fr)] items-start",children:[s.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-950/70 p-5 shadow-lg shadow-slate-950/40",children:[s.jsxs("div",{className:"mb-4 flex gap-2 rounded-full bg-slate-900/70 p-1 text-xs font-medium text-slate-300",children:[s.jsx("button",{type:"button",onClick:()=>y("signin"),className:["flex-1 rounded-full px-3 py-1.5 transition-colors",r==="signin"?"bg-slate-50 text-slate-950":"hover:bg-slate-800/80"].join(" "),children:"Sign in"}),s.jsx("button",{type:"button",onClick:()=>y("signup"),className:["flex-1 rounded-full px-3 py-1.5 transition-colors",r==="signup"?"bg-slate-50 text-slate-950":"hover:bg-slate-800/80"].join(" "),children:"Sign up"})]}),s.jsxs("form",{className:"space-y-4",onSubmit:v,children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{htmlFor:"authEmail",className:"text-xs font-medium uppercase tracking-[0.18em] text-slate-400",children:"Email"}),s.jsx("input",{id:"authEmail",type:"email",autoComplete:"email",value:l,onChange:h=>o(h.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",placeholder:"you@example.com",required:!0})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{htmlFor:"authPassword",className:"text-xs font-medium uppercase tracking-[0.18em] text-slate-400",children:"Password"}),s.jsx("input",{id:"authPassword",type:"password",autoComplete:r==="signin"?"current-password":"new-password",value:i,onChange:h=>u(h.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",placeholder:r==="signup"?"At least 8 characters":"Your password",minLength:8,required:!0})]}),p&&s.jsx("div",{className:"rounded-md border border-red-500/70 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:p}),w&&!p&&s.jsx("div",{className:"rounded-md border border-emerald-500/70 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100",children:w}),s.jsx("button",{type:"submit",disabled:d,className:"inline-flex w-full items-center justify-center rounded-full bg-brand-orange px-4 py-2.5 text-sm font-semibold text-slate-950 shadow-md shadow-orange-500/40 transition hover:bg-orange-500 disabled:cursor-not-allowed disabled:opacity-70",children:d?r==="signin"?"Signing in":"Creating account":r==="signin"?"Sign in":"Create account"})]})]}),s.jsxs("aside",{className:"space-y-3 rounded-2xl border border-slate-800 bg-slate-950/40 p-4 text-xs text-slate-300",children:[s.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-slate-500",children:"How access works"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold text-slate-100",children:"Guests"})," can browse all websites and media without signing in."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold text-slate-100",children:"Signed-in users"})," can star sites and media, and later add their own metadata and comments."]}),s.jsxs("li",{children:[s.jsx("span",{className:"font-semibold text-slate-100",children:"Managers & admins"})," can curate sites, media, and categories, with extra tooling in the admin area."]})]}),s.jsx("p",{className:"text-slate-500",children:"If you don't see expected admin controls after signing in, confirm your Cognito group membership in the AWS Console."})]})]})]})},ov={admin:"SuperAdmin",manager:"Manager",user:"User"},Tu=[{value:-8,label:"UTC-8"},{value:-5,label:"UTC-5"},{value:0,label:"UTC+0/GMT"}],rp="funkedupshift_lastlogin_tz";function iv(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function uv(){try{const e=parseInt(sessionStorage.getItem(rp)??"",10);if(!isNaN(e)&&Tu.some(t=>t.value===e))return e}catch{}return-8}function cv(e){try{sessionStorage.setItem(rp,String(e))}catch{}}function dv(e,t,n){if(!e)return n?`from ${n}`:"";try{const r=new Date(e);if(isNaN(r.getTime()))return e;const a=r.getTime()+t*36e5,l=new Date(a),o=y=>y<10?"0"+y:""+y,i=l.getUTCFullYear(),u=o(l.getUTCMonth()+1),d=o(l.getUTCDate()),m=o(l.getUTCHours()),p=o(l.getUTCMinutes()),g=Tu.find(y=>y.value===t),w=g?g.label:t<0?`UTC${t}`:`UTC+${t}`;let S=`${i}-${u}-${d} ${m}:${p} ${w}`;return n&&(S+=` from ${n}`),S}catch{return e}}const fv=()=>{var G,ne,pe,ie;const{user:e}=at(),[t,n]=c.useState(null),[r,a]=c.useState(""),[l,o]=c.useState(uv),[i,u]=c.useState(!0),[d,m]=c.useState(!1),[p,g]=c.useState(null),[w,S]=c.useState(""),[y,v]=c.useState(!1),[h,f]=c.useState(null),x=iv(),N=async(O,A)=>{var b;const z=window;if(!((b=z.auth)!=null&&b.getAccessToken))throw new Error("Not signed in");const q=await new Promise(C=>z.auth.getAccessToken(C)),j={...A==null?void 0:A.headers,Authorization:`Bearer ${q}`};return fetch(O,{...A,headers:j})};c.useEffect(()=>{if(!e||!x){u(!1);return}let O=!1;return N(`${x}/profile`).then(A=>A.ok?A.json():A.json().then(z=>Promise.reject(new Error(z.error||"Failed")))).then(A=>{var z;O||(n(A),a(((z=A.profile)==null?void 0:z.description)??""))}).catch(A=>{O||f({text:`Failed to load profile: ${(A==null?void 0:A.message)??"Unknown"}`,error:!0})}).finally(()=>{O||u(!1)}),()=>{O=!0}},[e,x]);const E=async()=>{if(x){m(!0),f(null);try{const O=await N(`${x}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:r.trim().slice(0,100)})});if(!O.ok){const A=await O.json();throw new Error(A.error||"Failed")}f({text:"Saved.",error:!1})}catch(O){f({text:`Error: ${(O==null?void 0:O.message)??"Unknown"}`,error:!0})}finally{m(!1)}}},P=async O=>{var q,j;const A=(q=O.target.files)==null?void 0:q[0];if(O.target.value="",!A||!x)return;if(g(null),!((j=A.type)!=null&&j.match(/^image\/(png|jpeg|jpg|gif|webp)$/))){g("Please choose PNG, JPEG, GIF, or WebP.");return}const z=A.type||"image/png";try{const b=await N(`${x}/profile/avatar-upload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contentType:z})});if(!b.ok){const ve=await b.json();throw new Error(ve.error||"Upload failed")}const{uploadUrl:C,key:L}=await b.json();if(!(await fetch(C,{method:"PUT",body:A,headers:{"Content-Type":z}})).ok)throw new Error("Upload failed");const Y=await N(`${x}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({avatarKey:L})});if(!Y.ok){const ve=await Y.json();throw new Error(ve.error||"Failed")}const ee=await N(`${x}/profile`).then(ve=>ve.json());n(ee)}catch(b){g(`Error: ${(b==null?void 0:b.message)??"Unknown"}`)}},R=async()=>{if(x){g(null);try{const O=await N(`${x}/profile/avatar`,{method:"DELETE"});if(!O.ok){const A=await O.json();throw new Error(A.error||"Failed")}n(A=>A?{...A,profile:{...A.profile,avatarUrl:void 0,avatarKey:void 0}}:null)}catch(O){g(`Error: ${(O==null?void 0:O.message)??"Unknown"}`)}}},U=async()=>{const O=w.trim();if(!(!O||!x)){g(null),v(!0);try{const A=await N(`${x}/profile/avatar-from-url`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:O})});if(!A.ok){const b=await A.json();throw new Error(b.error||"Import failed")}const{key:z}=await A.json(),q=await N(`${x}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({avatarKey:z})});if(!q.ok){const b=await q.json();throw new Error(b.error||"Failed")}const j=await N(`${x}/profile`).then(b=>b.json());n(j),S("")}catch(A){g(`Error: ${(A==null?void 0:A.message)??"Unknown"}`)}finally{v(!1)}}};if(!e)return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"My Profile"}),s.jsxs("p",{className:"text-sm text-slate-400",children:[s.jsx(ge,{to:"/auth",className:"text-brand-orange hover:underline",children:"Sign in"})," ","to view and edit your profile."]})]});if(!x)return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"My Profile"}),s.jsx("p",{className:"text-sm text-red-400",children:"API URL not set."})]});if(i)return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"My Profile"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Loading profile"})]});const K=t!=null&&t.profile?dv(t.profile.lastLoginAt,l,t.profile.lastLoginIp):"";return s.jsxs("div",{className:"space-y-6 max-w-2xl",children:[s.jsx(ge,{to:"/",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:" Back to Home"}),s.jsx("header",{children:s.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"My Profile"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400",children:"Last login timezone"}),s.jsx("select",{value:l,onChange:O=>{const A=parseInt(O.target.value,10);cv(A),o(A)},className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",children:Tu.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))})]}),h&&s.jsx("div",{className:`rounded-md px-3 py-2 text-sm ${h.error?"border-red-500/60 bg-red-500/10 text-red-200":"border-green-500/40 bg-green-500/10 text-green-200"}`,children:h.text}),t&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"User info"}),s.jsx("table",{className:"w-full text-sm",children:s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 pr-4 font-medium text-slate-300 w-28",children:"Email"}),s.jsx("td",{className:"text-slate-400",children:t.email??""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 pr-4 font-medium text-slate-300",children:"Status"}),s.jsx("td",{className:"text-slate-400",children:t.status??""})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"py-1 pr-4 font-medium text-slate-300",children:"Last login"}),s.jsx("td",{className:"text-slate-400",children:K})]})]})})]}),s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"System role"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(((G=t.cognitoGroups)==null?void 0:G.length)??0)>0?t.cognitoGroups.map(O=>{const A=ov[O]??O,z=O==="admin"?"bg-amber-500/20 text-amber-300":O==="manager"?"bg-blue-500/20 text-blue-300":"bg-slate-700 text-slate-200";return s.jsx("span",{className:`rounded-md px-2 py-0.5 text-xs font-medium ${z}`,children:A},O)}):s.jsx("span",{className:"rounded-md px-2 py-0.5 text-xs font-medium bg-slate-700 text-slate-200",children:"User"})})]}),s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Custom groups"}),(((ne=t.customGroups)==null?void 0:ne.length)??0)>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:t.customGroups.map(O=>s.jsx("span",{className:"rounded-md px-2 py-0.5 text-xs font-medium bg-emerald-500/20 text-emerald-300",children:O},O))}):s.jsx("p",{className:"text-sm text-slate-500",children:"Not in any custom groups."})]}),s.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[s.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Edit profile"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Profile icon"}),s.jsxs("div",{className:"flex items-start gap-4",children:[(pe=t.profile)!=null&&pe.avatarUrl?s.jsx("img",{src:t.profile.avatarUrl,alt:"Profile",className:"h-24 w-24 rounded-full border-2 border-slate-700 object-cover"}):s.jsx("div",{className:"h-24 w-24 rounded-full border-2 border-slate-700 bg-slate-800 flex items-center justify-center text-2xl text-slate-500",children:"?"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp",onChange:P,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-slate-100"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Or paste image URL (min 4848, max 5 MB):"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",value:w,onChange:O=>S(O.target.value),placeholder:"https://example.com/avatar.png",className:"flex-1 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsx("button",{type:"button",onClick:U,disabled:!w.trim()||y,className:"rounded-md border border-slate-600 px-3 py-2 text-sm font-medium text-slate-200 hover:bg-slate-800 disabled:opacity-50",children:y?"Importing":"Use from URL"})]}),((ie=t.profile)==null?void 0:ie.avatarUrl)&&s.jsx("button",{type:"button",onClick:R,className:"self-start rounded-md border border-red-500/60 bg-red-500/10 px-2 py-1 text-xs font-medium text-red-300 hover:bg-red-500/20",children:"Remove icon"})]})]}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"PNG, JPEG, GIF, or WebP. Same constraints as thumbnail uploads."}),p&&s.jsx("p",{className:"mt-1 text-xs text-red-400",children:p})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"profile-description",className:"block text-xs font-medium text-slate-400 mb-1",children:"Description"}),s.jsx("textarea",{id:"profile-description",value:r,onChange:O=>a(O.target.value),maxLength:100,placeholder:"About you (max 100 characters)",rows:4,className:"w-full max-w-md rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),s.jsxs("div",{className:`mt-1 text-xs ${r.length>=100?"text-red-400":"text-slate-500"}`,children:[r.length," / 100"]})]}),s.jsx("button",{type:"button",onClick:E,disabled:d,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:d?"Saving":"Save"})]})]})]})]})},mv=/^\d{4}-\d{2}-\d{2}$/;function rd(e){if(!mv.test(e))return!1;const t=new Date(e);return!isNaN(t.getTime())}const rr=({id:e,value:t,onChange:n,label:r,required:a,className:l="",inputClassName:o=""})=>{const i=c.useRef(null),u=c.useRef(null),d=y=>{const h=y.target.value.replace(/[^\d-]/g,"");n(h)},m=()=>{const y=t.trim();y&&!rd(y)&&n("")},p=y=>{const v=y.target.value;v&&n(v)},g=()=>{const y=i.current;y&&(y.focus(),typeof y.showPicker=="function"&&y.showPicker())},w="rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",S=t&&rd(t);return s.jsxs("div",{className:l,children:[s.jsxs("label",{htmlFor:`${e}-text`,className:"block text-xs font-semibold text-slate-400 mb-1",children:[r,s.jsx("span",{className:"block font-normal text-slate-500 mt-0.5",children:"yyyy-MM-DD or use calendar"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("input",{ref:u,type:"text",id:`${e}-text`,value:t,onChange:d,onBlur:m,placeholder:"yyyy-MM-DD",required:a,pattern:a?"[0-9]{4}-[0-9]{2}-[0-9]{2}":void 0,title:a?"Enter date as yyyy-MM-DD":void 0,className:`${w} flex-1 min-w-0 ${o}`,inputMode:"numeric",autoComplete:"off"}),s.jsx("input",{ref:i,type:"date",id:e,value:S?t:"",onChange:p,required:a,className:"sr-only","aria-hidden":!0}),s.jsx("button",{type:"button",onClick:g,title:"Open calendar","aria-label":"Open calendar",className:"rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-slate-400 hover:bg-slate-800 hover:text-slate-200 focus:border-brand-orange focus:outline-none shrink-0",children:s.jsx(Bx,{className:"h-5 w-5"})})]})]})};function sd(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const jo=10,pv=()=>{const{user:e}=at(),[t,n]=Hn(),[r,a]=c.useState([]),[l,o]=c.useState(()=>{const $=t.get("playerIds");return $?$.split(",").filter(Boolean):[]}),[i,u]=c.useState([]),[d,m]=c.useState(1),[p,g]=c.useState(!1),[w,S]=c.useState(()=>t.get("date")??""),[y,v]=c.useState(()=>t.get("dateFrom")??""),[h,f]=c.useState(()=>t.get("dateTo")??""),[x,N]=c.useState(""),[E,P]=c.useState(!1),[R,U]=c.useState(null),[K,G]=c.useState(null),[ne,pe]=c.useState(!1),[ie,O]=c.useState(()=>t.get("sortOrder")==="oldest"?"oldest":"newest"),[A,z]=c.useState(()=>t.get("playerMode")==="or"?"or":"and"),q=c.useRef(null),j=cl(e),b=dl(e),C=$=>{const B=r.find(fe=>fe.id===$||fe.PK===$);return B&&(B.name||B.id)||$},L=async($,B={})=>{var Ce;const fe=window;if(!((Ce=fe.auth)!=null&&Ce.getAccessToken))throw new Error("Not signed in");const oe=await new Promise($e=>fe.auth.getAccessToken($e));if(!oe)throw new Error("Not signed in");const xe={...B.headers,Authorization:`Bearer ${oe}`};return fetch($,{...B,headers:xe})},T=async()=>{const $=sd();if($)try{const B=await L(`${$}/squash/players`);if(!B.ok){const xe=await B.json().catch(()=>({}));throw new Error(xe.error||"Failed")}const oe=((await B.json()).players??[]).map(xe=>({...xe,id:xe.id||xe.PK||""}));a(oe)}catch(B){G((B==null?void 0:B.message)??"Failed to load players")}},Y=async()=>{const $=sd();if(!$)return;const B=new URLSearchParams;w&&B.set("date",w),y&&B.set("dateFrom",y),h&&B.set("dateTo",h),l.length&&(B.set("playerIds",l.join(",")),B.set("playerMode",A));const fe=B.toString()?`?${B.toString()}`:"";pe(!0),G(null);try{const oe=await L(`${$}/squash/matches${fe}`);if(!oe.ok){const $e=await oe.json().catch(()=>({}));throw new Error($e.error||"Failed")}const xe=await oe.json();u(xe.matches??[]),g(!0),m(1);const Ce=new URLSearchParams;w&&Ce.set("date",w),y&&Ce.set("dateFrom",y),h&&Ce.set("dateTo",h),l.length&&(Ce.set("playerIds",l.join(",")),Ce.set("playerMode",A)),Ce.set("sortOrder",ie),n(Ce,{replace:!0})}catch(oe){G((oe==null?void 0:oe.message)??"Failed to search matches")}finally{pe(!1)}},ee=()=>{S(""),v(""),f(""),o([]),N(""),z("and"),g(!1),u([]),m(1),n({},{replace:!0})},ve=$=>{l.includes($)||o([...l,$]),N("")},Ae=$=>{o(l.filter(B=>B!==$))},W=r.filter($=>!l.includes($.id)&&(!x.trim()||($.name||"").toLowerCase().includes(x.toLowerCase())));c.useEffect(()=>{j&&T()},[j]);const ce=t.get("date")||t.get("dateFrom")||t.get("dateTo")||t.get("playerIds");c.useEffect(()=>{!j||!ce||Y()},[]),c.useEffect(()=>{function $(B){q.current&&!q.current.contains(B.target)&&P(!1)}if(E)return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[E]);const he=c.useMemo(()=>{const $=[...i];return $.sort((B,fe)=>{const oe=B.date||"",xe=fe.date||"";return ie==="newest"?xe.localeCompare(oe):oe.localeCompare(xe)}),$},[i,ie]),je=Math.max(1,Math.ceil(he.length/jo)),D=(d-1)*jo,V=he.slice(D,D+jo),Q=$=>{const B=$.teamAGames??0,fe=$.teamBGames??0,oe=$.winningTeam==="B"?fe:B,xe=$.winningTeam==="B"?B:fe;return`${oe}-${xe}`},te=$=>{const B=[C($.teamAPlayer1Id||""),C($.teamAPlayer2Id||"")].filter(Boolean).join(" & "),fe=[C($.teamBPlayer1Id||""),C($.teamBPlayer2Id||"")].filter(Boolean).join(" & "),oe=$.winningTeam==="B"?fe:B,xe=$.winningTeam==="B"?B:fe;return s.jsxs("li",{className:"flex items-center gap-2 flex-wrap py-2 border-b border-slate-800 last:border-0",children:[s.jsx("span",{className:"font-semibold text-slate-200",children:$.date||""}),s.jsxs("span",{className:"text-slate-300",children:[oe," vs ",xe]}),s.jsx("span",{className:"italic text-slate-400",children:Q($)})]},$.id||$.date+oe)},ye=[];if(je<=7)for(let $=1;$<=je;$++)ye.push($);else{const $=d;ye.push(1),$>3&&ye.push("");for(let B=Math.max(2,$-1);B<=Math.min(je-1,$+1);B++)ye.includes(B)||ye.push(B);$<je-2&&ye.push(""),je>1&&ye.push(je)}return e?j?s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Doubles"}),b&&s.jsx("p",{className:"text-sm text-slate-400",children:s.jsx(ge,{to:"/squash-admin",className:"text-brand-orange hover:text-orange-400",children:"Squash Admin"})}),(R||K)&&s.jsx("div",{className:`rounded-md px-4 py-3 text-sm ${K?"bg-red-900/30 border border-red-800/50 text-red-200":"bg-emerald-900/30 border border-emerald-800/50 text-emerald-200"}`,children:K||R}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Search matches"}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[s.jsx(rr,{id:"searchDate",value:w,onChange:S,label:"Date (exact)",className:"max-w-[12rem]"}),s.jsx(rr,{id:"searchDateFrom",value:y,onChange:v,label:"Date from",className:"max-w-[12rem]"}),s.jsx(rr,{id:"searchDateTo",value:h,onChange:f,label:"Date to",className:"max-w-[12rem]"}),s.jsxs("div",{className:"relative max-w-[14rem] min-w-[12rem]",ref:q,children:[s.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1",children:"Filter by players"}),s.jsx("input",{type:"text",value:x,onChange:$=>N($.target.value),onFocus:()=>P(!0),placeholder:"Search players...",autoComplete:"off",className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none"}),E&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-900 border border-slate-700 rounded-md max-h-48 overflow-y-auto z-10",children:W.length?W.map($=>s.jsx("button",{type:"button",onClick:()=>ve($.id),className:"w-full text-left px-3 py-2 text-sm text-slate-200 hover:bg-slate-800",children:$.name||$.id},$.id)):s.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No matches"})}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.map($=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-slate-700 text-slate-200 text-xs",children:[C($),s.jsx("button",{type:"button",onClick:()=>Ae($),className:"text-slate-400 hover:text-slate-100","aria-label":"Remove",children:""})]},$))}),l.length>0&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Match:"}),s.jsxs("div",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 p-0.5",children:[s.jsx("button",{type:"button",onClick:()=>z("and"),className:`rounded px-2 py-0.5 text-xs font-medium ${A==="and"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"AND"}),s.jsx("button",{type:"button",onClick:()=>z("or"),className:`rounded px-2 py-0.5 text-xs font-medium ${A==="or"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"OR"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:Y,disabled:ne,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:ne?"Searching":"Search"}),s.jsx("button",{type:"button",onClick:ee,className:"rounded-md border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Clear"})]})]})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[s.jsx("h2",{className:"text-base font-semibold text-slate-200",children:"Results"}),p&&he.length>0&&s.jsxs("div",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 p-0.5",children:[s.jsx("button",{type:"button",onClick:()=>O("newest"),className:`rounded px-2 py-0.5 text-xs font-medium ${ie==="newest"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"Newest first"}),s.jsx("button",{type:"button",onClick:()=>O("oldest"),className:`rounded px-2 py-0.5 text-xs font-medium ${ie==="oldest"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"Oldest first"})]})]}),p&&s.jsx("div",{className:"rounded-md border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm text-slate-400 mb-3",children:he.length===0?"No results":`${he.length} results`}),p?V.length===0?s.jsx("ul",{className:"list-none p-0",children:s.jsx("li",{className:"py-2 text-slate-400",children:"No matches found."})}):s.jsxs(s.Fragment,{children:[s.jsx("ul",{className:"list-none p-0",children:V.map(te)}),je>1&&s.jsxs("div",{className:"flex items-center gap-2 mt-4 flex-wrap",children:[s.jsx("button",{type:"button",disabled:d<=1,onClick:()=>m($=>Math.max(1,$-1)),className:"rounded-md border border-slate-600 px-3 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 hover:bg-slate-800",children:"Prev"}),s.jsx("span",{className:"flex items-center gap-1",children:ye.map(($,B)=>$===""?s.jsx("span",{className:"px-1 text-slate-500",children:""},`ellipsis-${B}`):$===d?s.jsx("span",{className:"min-w-[2rem] px-2 py-1 text-center font-semibold text-slate-200",children:$},$):s.jsx("button",{type:"button",onClick:()=>m($),className:"min-w-[2rem] rounded px-2 py-1 text-sm text-slate-300 hover:bg-slate-800 border border-slate-600",children:$},$))}),s.jsx("button",{type:"button",disabled:d>=je,onClick:()=>m($=>Math.min(je,$+1)),className:"rounded-md border border-slate-600 px-3 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 hover:bg-slate-800",children:"Next"})]})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[280px]",children:s.jsx("p",{className:"text-2xl sm:text-3xl font-light text-slate-500/80 tracking-wide animate-pulse",children:"Enter search criteria and click Search to find matches."})})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Doubles"}),s.jsx("div",{className:"rounded-md bg-amber-900/30 border border-amber-800/50 px-4 py-3 text-sm text-amber-200",children:"You do not have access to the Squash section. Join the Squash group or contact an admin."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Doubles"}),s.jsxs("div",{className:"rounded-md bg-red-900/30 border border-red-800/50 px-4 py-3 text-sm text-red-200",children:["Sign in required. ",s.jsx(ge,{to:"/auth",className:"underline hover:text-red-100",children:"Sign in"})]})]})};function Qn(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const No=10,hv=()=>{const{user:e}=at(),[t,n]=Hn(),[r,a]=c.useState("matches"),[l,o]=c.useState([]),[i,u]=c.useState(()=>{const k=t.get("playerIds");return k?k.split(",").filter(Boolean):[]}),[d,m]=c.useState([]),[p,g]=c.useState(1),[w,S]=c.useState(!1),[y,v]=c.useState(()=>t.get("date")??""),[h,f]=c.useState(()=>t.get("dateFrom")??""),[x,N]=c.useState(()=>t.get("dateTo")??""),[E,P]=c.useState(""),[R,U]=c.useState(!1),[K,G]=c.useState(null),[ne,pe]=c.useState(""),[ie,O]=c.useState(""),[A,z]=c.useState(""),[q,j]=c.useState(""),[b,C]=c.useState(""),[L,T]=c.useState("A"),[Y,ee]=c.useState(0),[ve,Ae]=c.useState(!1),[W,ce]=c.useState(!1),[he,je]=c.useState(()=>t.get("sortOrder")==="oldest"?"oldest":"newest"),[D,V]=c.useState(()=>t.get("playerMode")==="or"?"or":"and"),Q=c.useRef(null),[te,ye]=c.useState([]),[$,B]=c.useState([]),[fe,oe]=c.useState(null),[xe,Ce]=c.useState(""),[$e,_]=c.useState(""),[I,Z]=c.useState(""),[re,de]=c.useState(!1),[ue,se]=c.useState(null),[we,Ne]=c.useState(null),Je=dl(e),et=async(k,le={})=>{var Ge;const be=window;if(!((Ge=be.auth)!=null&&Ge.getAccessToken))throw new Error("Not signed in");const Te=await new Promise(Kn=>be.auth.getAccessToken(Kn));if(!Te)throw new Error("Not signed in");const qe={...le.headers,Authorization:`Bearer ${Te}`};return fetch(k,{...le,headers:qe})},tt=k=>{const le=l.find(be=>be.id===k||be.PK===k);return le&&(le.name||le.id)||k},nn=async()=>{const k=Qn();if(k)try{const le=await et(`${k}/squash/players`);if(!le.ok){const qe=await le.json().catch(()=>({}));throw new Error(qe.error||"Failed")}const Te=((await le.json()).players??[]).map(qe=>({...qe,id:qe.id||qe.PK||""}));o(Te),ye(Te)}catch(le){se((le==null?void 0:le.message)??"Failed to load players")}},pr=async()=>{const k=Qn();if(k)try{const le=await et(`${k}/admin/users?limit=60`);if(!le.ok)return;const be=await le.json();B(be.users??[])}catch{B([])}},gn=async()=>{const k=Qn();if(!k)return;const le=new URLSearchParams;y&&le.set("date",y),h&&le.set("dateFrom",h),x&&le.set("dateTo",x),i.length&&(le.set("playerIds",i.join(",")),le.set("playerMode",D));const be=le.toString()?`?${le.toString()}`:"";ce(!0),se(null);try{const Te=await et(`${k}/squash/matches${be}`);if(!Te.ok){const Kn=await Te.json().catch(()=>({}));throw new Error(Kn.error||"Failed")}const qe=await Te.json();m(qe.matches??[]),S(!0),g(1);const Ge=new URLSearchParams;y&&Ge.set("date",y),h&&Ge.set("dateFrom",h),x&&Ge.set("dateTo",x),i.length&&(Ge.set("playerIds",i.join(",")),Ge.set("playerMode",D)),Ge.set("sortOrder",he),n(Ge,{replace:!0})}catch(Te){se((Te==null?void 0:Te.message)??"Failed to search matches")}finally{ce(!1)}},H=()=>{v(""),f(""),N(""),u([]),V("and"),P(""),S(!1),m([]),g(1),n({},{replace:!0})},me=k=>{i.includes(k)||u([...i,k]),P("")},De=k=>{u(i.filter(le=>le!==k))},Oe=l.filter(k=>!i.includes(k.id)&&(!E.trim()||(k.name||"").toLowerCase().includes(E.toLowerCase()))),Re=[ie,A,q,b],M=k=>{const le=k==="p1"?0:k==="p2"?1:k==="p3"?2:3,be=Re.filter((Te,qe)=>qe!==le);return l.filter(Te=>!be.includes(Te.id))},J=async k=>{if(k.preventDefault(),!ne||!ie||!A||!q||!b){se("All fields are required.");return}const le=[ie,A,q,b];if(new Set(le).size!==4){se("Each player can only be on one team.");return}const be=Qn();if(!be)return;const Ge={date:ne,teamAPlayer1Id:ie,teamAPlayer2Id:A,teamBPlayer1Id:q,teamBPlayer2Id:b,winningTeam:L,teamAGames:L==="A"?3:Y,teamBGames:L==="B"?3:Y},Kn=K?"PUT":"POST";K&&(Ge.id=K),Ae(!0),se(null);try{const gr=await et(`${be}/squash/matches`,{method:Kn,headers:{"Content-Type":"application/json"},body:JSON.stringify(Ge)});if(!gr.ok){const lp=await gr.json().catch(()=>({}));throw new Error(lp.error||"Failed")}G(null),pe(""),O(""),z(""),j(""),C(""),T("A"),ee(0),gn()}catch(gr){se((gr==null?void 0:gr.message)??"Failed")}finally{Ae(!1)}},ae=()=>{G(null),pe(""),O(""),z(""),j(""),C(""),T("A"),ee(0)},Ie=k=>{var be,Te;const le=k.id||((Te=(be=k.PK)==null?void 0:be.replace)==null?void 0:Te.call(be,"SQUASH#MATCH#",""))||"";G(le),pe(k.date||""),O(k.teamAPlayer1Id||""),z(k.teamAPlayer2Id||""),j(k.teamBPlayer1Id||""),C(k.teamBPlayer2Id||""),T(k.winningTeam||"A"),ee(k.winningTeam==="A"?k.teamBGames??0:k.teamAGames??0)},Ee=async k=>{if(!confirm("Delete this match?"))return;const le=Qn();if(le)try{const be=await et(`${le}/squash/matches?id=${encodeURIComponent(k)}`,{method:"DELETE"});if(!be.ok){const Te=await be.json().catch(()=>({}));throw new Error(Te.error||"Failed")}gn()}catch(be){se((be==null?void 0:be.message)??"Delete failed")}},Ue=async k=>{k.preventDefault();const le=xe.trim();if(!le){se("Name is required.");return}const be=Qn();if(!be)return;const Te={name:le,email:$e.trim()||void 0,userId:I||void 0},qe=fe?"PUT":"POST";fe&&(Te.id=fe),de(!0),se(null);try{const Ge=await et(`${be}/squash/players`,{method:qe,headers:{"Content-Type":"application/json"},body:JSON.stringify(Te)});if(!Ge.ok){const Kn=await Ge.json().catch(()=>({}));throw new Error(Kn.error||"Failed")}oe(null),Ce(""),_(""),Z(""),nn()}catch(Ge){se((Ge==null?void 0:Ge.message)??"Failed")}finally{de(!1)}},ze=()=>{oe(null),Ce(""),_(""),Z("")},ke=k=>{oe(k.id),Ce(k.name||""),_(k.email||""),Z(k.userId||"")},Vn=async k=>{if(!confirm("Delete this player?"))return;const le=Qn();if(le)try{const be=await et(`${le}/squash/players?id=${encodeURIComponent(k)}`,{method:"DELETE"});if(!be.ok){const Te=await be.json().catch(()=>({}));throw new Error(Te.error||"Failed")}nn()}catch(be){se((be==null?void 0:be.message)??"Delete failed")}};c.useEffect(()=>{Je&&(nn(),r==="players"&&pr())},[Je,r]);const hr=t.get("date")||t.get("dateFrom")||t.get("dateTo")||t.get("playerIds");c.useEffect(()=>{!Je||!hr||gn()},[]),c.useEffect(()=>{function k(le){Q.current&&!Q.current.contains(le.target)&&U(!1)}if(R)return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[R]);const ft=c.useMemo(()=>{const k=[...d];return k.sort((le,be)=>{const Te=le.date||"",qe=be.date||"";return he==="newest"?qe.localeCompare(Te):Te.localeCompare(qe)}),k},[d,he]),yt=Math.max(1,Math.ceil(ft.length/No)),xr=(p-1)*No,Dl=ft.slice(xr,xr+No),ap=k=>{const le=k.teamAGames??0,be=k.teamBGames??0;return k.winningTeam==="A"?`${le}-${be}`:`${be}-${le}`},yn=[];if(yt<=7)for(let k=1;k<=yt;k++)yn.push(k);else{const k=p;yn.push(1),k>3&&yn.push("");for(let le=Math.max(2,k-1);le<=Math.min(yt-1,k+1);le++)yn.includes(le)||yn.push(le);k<yt-2&&yn.push(""),yt>1&&yn.push(yt)}return e?Je?s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Admin"}),s.jsx("p",{className:"text-sm text-slate-400",children:s.jsx(ge,{to:"/squash",className:"text-brand-orange hover:text-orange-400",children:"Squash"})}),(we||ue)&&s.jsx("div",{className:`rounded-md px-4 py-3 text-sm ${ue?"bg-red-900/30 border border-red-800/50 text-red-200":"bg-emerald-900/30 border border-emerald-800/50 text-emerald-200"}`,children:ue||we}),s.jsxs("div",{className:"flex gap-2 border-b border-slate-800 pb-2",children:[s.jsx("button",{type:"button",onClick:()=>a("matches"),className:`px-4 py-2 rounded-md text-sm font-medium ${r==="matches"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Matches"}),s.jsx("button",{type:"button",onClick:()=>a("players"),className:`px-4 py-2 rounded-md text-sm font-medium ${r==="players"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Players"})]}),r==="matches"&&s.jsxs(s.Fragment,{children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Add match"}),s.jsxs("form",{onSubmit:J,className:"grid grid-cols-2 gap-4 max-w-2xl",children:[s.jsx("div",{className:"col-span-2",children:s.jsx(rr,{id:"matchDate",value:ne,onChange:pe,label:"Date",required:!0})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"matchTeamAP1",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Team A  Player 1"}),s.jsxs("select",{id:"matchTeamAP1",value:ie,onChange:k=>O(k.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[s.jsx("option",{value:"",children:" Select "}),M("p1").map(k=>s.jsx("option",{value:k.id,children:k.name||k.id},k.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"matchTeamAP2",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Team A  Player 2"}),s.jsxs("select",{id:"matchTeamAP2",value:A,onChange:k=>z(k.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[s.jsx("option",{value:"",children:" Select "}),M("p2").map(k=>s.jsx("option",{value:k.id,children:k.name||k.id},k.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"matchTeamBP1",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Team B  Player 1"}),s.jsxs("select",{id:"matchTeamBP1",value:q,onChange:k=>j(k.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[s.jsx("option",{value:"",children:" Select "}),M("p3").map(k=>s.jsx("option",{value:k.id,children:k.name||k.id},k.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"matchTeamBP2",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Team B  Player 2"}),s.jsxs("select",{id:"matchTeamBP2",value:b,onChange:k=>C(k.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[s.jsx("option",{value:"",children:" Select "}),M("p4").map(k=>s.jsx("option",{value:k.id,children:k.name||k.id},k.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"matchWinningTeam",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Winning team"}),s.jsxs("select",{id:"matchWinningTeam",value:L,onChange:k=>T(k.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[s.jsx("option",{value:"A",children:"Team A"}),s.jsx("option",{value:"B",children:"Team B"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"matchLoserGames",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Games won by losing team"}),s.jsxs("select",{id:"matchLoserGames",value:Y,onChange:k=>ee(parseInt(k.target.value,10)),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[s.jsx("option",{value:0,children:"0"}),s.jsx("option",{value:1,children:"1"}),s.jsx("option",{value:2,children:"2"})]})]}),s.jsxs("div",{className:"col-span-2 flex gap-2",children:[s.jsx("button",{type:"submit",disabled:ve,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:K?"Update match":"Add match"}),s.jsx("button",{type:"button",onClick:ae,className:"rounded-md border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Search matches"}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[s.jsx(rr,{id:"searchDate",value:y,onChange:v,label:"Date (exact)",className:"max-w-[12rem]"}),s.jsx(rr,{id:"searchDateFrom",value:h,onChange:f,label:"Date from",className:"max-w-[12rem]"}),s.jsx(rr,{id:"searchDateTo",value:x,onChange:N,label:"Date to",className:"max-w-[12rem]"}),s.jsxs("div",{className:"relative max-w-[14rem] min-w-[12rem]",ref:Q,children:[s.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1",children:"Filter by players"}),s.jsx("input",{type:"text",value:E,onChange:k=>P(k.target.value),onFocus:()=>U(!0),placeholder:"Search players...",autoComplete:"off",className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none"}),R&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-900 border border-slate-700 rounded-md max-h-48 overflow-y-auto z-10",children:Oe.length?Oe.map(k=>s.jsx("button",{type:"button",onClick:()=>me(k.id),className:"w-full text-left px-3 py-2 text-sm text-slate-200 hover:bg-slate-800",children:k.name||k.id},k.id)):s.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No matches"})}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:i.map(k=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-slate-700 text-slate-200 text-xs",children:[tt(k),s.jsx("button",{type:"button",onClick:()=>De(k),className:"text-slate-400 hover:text-slate-100","aria-label":"Remove",children:""})]},k))}),i.length>0&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-500",children:"Match:"}),s.jsxs("div",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 p-0.5",children:[s.jsx("button",{type:"button",onClick:()=>V("and"),className:`rounded px-2 py-0.5 text-xs font-medium ${D==="and"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"AND"}),s.jsx("button",{type:"button",onClick:()=>V("or"),className:`rounded px-2 py-0.5 text-xs font-medium ${D==="or"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"OR"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:gn,disabled:W,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:W?"Searching":"Search"}),s.jsx("button",{type:"button",onClick:H,className:"rounded-md border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Clear"})]})]})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[s.jsx("h2",{className:"text-base font-semibold text-slate-200",children:"Search results"}),w&&ft.length>0&&s.jsxs("div",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 p-0.5",children:[s.jsx("button",{type:"button",onClick:()=>je("newest"),className:`rounded px-2 py-0.5 text-xs font-medium ${he==="newest"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"Newest first"}),s.jsx("button",{type:"button",onClick:()=>je("oldest"),className:`rounded px-2 py-0.5 text-xs font-medium ${he==="oldest"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"Oldest first"})]})]}),w&&s.jsx("div",{className:"rounded-md border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm text-slate-400 mb-3",children:ft.length===0?"No results":`${ft.length} results`}),w?Dl.length===0?s.jsx("ul",{className:"list-none p-0",children:s.jsx("li",{className:"py-2 text-slate-400",children:"No matches found."})}):s.jsxs(s.Fragment,{children:[s.jsx("ul",{className:"list-none p-0",children:Dl.map(k=>{var qe,Ge;const le=k.id||((Ge=(qe=k.PK)==null?void 0:qe.replace)==null?void 0:Ge.call(qe,"SQUASH#MATCH#",""))||"",be=[tt(k.teamAPlayer1Id||""),tt(k.teamAPlayer2Id||"")].filter(Boolean).join(" & "),Te=[tt(k.teamBPlayer1Id||""),tt(k.teamBPlayer2Id||"")].filter(Boolean).join(" & ");return s.jsxs("li",{className:"flex items-center gap-2 flex-wrap py-2 border-b border-slate-800 last:border-0",children:[s.jsx("span",{className:"font-semibold text-slate-200",children:k.date||""}),s.jsxs("span",{className:"text-slate-300",children:[be," vs ",Te]}),s.jsx("span",{className:"italic text-slate-400",children:ap(k)}),s.jsx("button",{type:"button",onClick:()=>Ie(k),className:"rounded-md border border-slate-600 px-2 py-1 text-xs text-slate-300 hover:bg-slate-800",children:"Edit"}),s.jsx("button",{type:"button",onClick:()=>Ee(le),className:"rounded-md border border-red-800/50 px-2 py-1 text-xs text-red-300 hover:bg-red-900/30",children:"Delete"})]},le)})}),yt>1&&s.jsxs("div",{className:"flex items-center gap-2 mt-4 flex-wrap",children:[s.jsx("button",{type:"button",disabled:p<=1,onClick:()=>g(k=>Math.max(1,k-1)),className:"rounded-md border border-slate-600 px-3 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 hover:bg-slate-800",children:"Prev"}),s.jsx("span",{className:"flex items-center gap-1",children:yn.map((k,le)=>k===""?s.jsx("span",{className:"px-1 text-slate-500",children:""},`ellipsis-${le}`):k===p?s.jsx("span",{className:"min-w-[2rem] px-2 py-1 text-center font-semibold text-slate-200",children:k},k):s.jsx("button",{type:"button",onClick:()=>g(k),className:"min-w-[2rem] rounded px-2 py-1 text-sm text-slate-300 hover:bg-slate-800 border border-slate-600",children:k},k))}),s.jsx("button",{type:"button",disabled:p>=yt,onClick:()=>g(k=>Math.min(yt,k+1)),className:"rounded-md border border-slate-600 px-3 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 hover:bg-slate-800",children:"Next"})]})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[280px]",children:s.jsx("p",{className:"text-2xl sm:text-3xl font-light text-slate-500/80 tracking-wide animate-pulse",children:"Enter search criteria and click Search to find matches."})})]})]}),r==="players"&&s.jsxs(s.Fragment,{children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Players"}),s.jsxs("form",{onSubmit:Ue,className:"space-y-4 max-w-md",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"playerName",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Name"}),s.jsx("input",{type:"text",id:"playerName",value:xe,onChange:k=>Ce(k.target.value),required:!0,placeholder:"Player name",className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"playerEmail",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Email (optional)"}),s.jsx("input",{type:"email",id:"playerEmail",value:$e,onChange:k=>_(k.target.value),placeholder:"player@example.com",className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"playerUserId",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Link to user (optional)"}),s.jsxs("select",{id:"playerUserId",value:I,onChange:k=>Z(k.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[s.jsx("option",{value:"",children:" None "}),$.map(k=>s.jsx("option",{value:k.sub||"",children:k.email||k.username||k.sub},k.sub||k.username))]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"submit",disabled:re,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:fe?"Update player":"Add player"}),s.jsx("button",{type:"button",onClick:ze,className:"rounded-md border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"})]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Player list"}),te.length===0?s.jsx("p",{className:"text-sm text-slate-500",children:"No players yet. Add players above."}):s.jsx("ul",{className:"list-none p-0",children:te.map(k=>s.jsxs("li",{className:"flex items-center gap-2 flex-wrap py-2 border-b border-slate-800 last:border-0",children:[s.jsx("span",{className:"font-semibold text-slate-200",children:k.name||k.id}),k.email&&s.jsxs("span",{className:"text-slate-500 text-sm",children:["(",k.email,")"]}),s.jsx("button",{type:"button",onClick:()=>ke(k),className:"rounded-md border border-slate-600 px-2 py-1 text-xs text-slate-300 hover:bg-slate-800",children:"Edit"}),s.jsx("button",{type:"button",onClick:()=>Vn(k.id),className:"rounded-md border border-red-800/50 px-2 py-1 text-xs text-red-300 hover:bg-red-900/30",children:"Delete"})]},k.id))})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Admin"}),s.jsx("div",{className:"rounded-md bg-amber-900/30 border border-amber-800/50 px-4 py-3 text-sm text-amber-200",children:"Squash Admin requires manager (in Squash group) or SuperAdmin access."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Admin"}),s.jsxs("div",{className:"rounded-md bg-red-900/30 border border-red-800/50 px-4 py-3 text-sm text-red-200",children:["Sign in required. ",s.jsx(ge,{to:"/auth",className:"underline hover:text-red-100",children:"Sign in"})]})]})},ad=[{label:"Websites",to:"/websites",section:"discover",minRole:"guest"},{label:"Media",to:"/media",section:"discover",minRole:"guest"},{label:"Internet Dashboard",to:"/internet-dashboard",section:"discover",minRole:"guest"},{label:"Profile",to:"/profile",section:"discover",minRole:"user"},{label:"Squash",to:"/squash",section:"squash",minRole:"user"},{label:"Squash Admin",to:"/squash-admin",section:"squash",minRole:"manager"},{label:"Membership",to:"/admin/membership",section:"admin",minRole:"manager"},{label:"Websites",to:"/admin/websites",section:"admin",minRole:"manager"},{label:"Media",to:"/admin/media",section:"admin",minRole:"manager"},{label:"Branding",to:"/admin/branding",section:"admin",minRole:"superadmin"},{label:"Internet Dashboard",to:"/admin/internet-dashboard",section:"admin",minRole:"superadmin"}],sp="funkedupshift_sectionOpen";function ja(){return{discover:!0,squash:!1,admin:!1}}function xv(){try{const e=sessionStorage.getItem(sp);if(!e)return ja();const t=JSON.parse(e);return typeof t!="object"||t===null?ja():{...ja(),...t}}catch{return ja()}}function gv(e){try{sessionStorage.setItem(sp,JSON.stringify(e))}catch{}}const yv=()=>{const{user:e,isLoading:t,signOut:n}=at(),{logo:r}=tp(),a=Xt(),[l,o]=Le.useState(!1),[i,u]=Le.useState(xv),d=v=>{u(h=>{const f={...h,[v]:!h[v]};return gv(f),f})},m=()=>{n(),o(!1),a("/")};e==null||e.role;const p=ad.filter(v=>Pt(e??null,v.minRole)),g=p.filter(v=>v.section==="discover"),w=ad.filter(v=>v.section==="squash").filter(v=>v.to==="/squash"?cl(e):dl(e)),S=p.filter(v=>v.section==="admin"),y=({isActive:v})=>["flex items-center rounded-md px-3 py-2 text-sm font-medium",v?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800/70 hover:text-white"].join(" ");return s.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-50 flex flex-col",children:[s.jsx("header",{className:"border-b border-slate-800 bg-slate-950/80 backdrop-blur z-20 sticky top-0",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-3 flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md p-2 text-slate-200 hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-brand-orange lg:hidden",onClick:()=>o(!0),"aria-label":"Open main navigation",children:s.jsx(Rm,{className:"h-6 w-6"})}),s.jsxs(ge,{to:"/",className:"flex items-center gap-2",children:[r?s.jsx("img",{src:r.url,alt:r.alt,className:"h-8 w-auto rounded-md border border-slate-700 object-contain"}):s.jsx("div",{className:"h-8 w-8 rounded-md border border-slate-700 bg-gradient-to-br from-brand-orange to-brand-navy"}),s.jsx("span",{className:"text-sm font-semibold tracking-[0.2em] uppercase text-slate-100",children:"Funked Up Shift"})]})]}),s.jsx("div",{className:"flex items-center gap-3",children:e?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"hidden sm:inline text-xs text-slate-300",children:[e.email," ",s.jsxs("span",{className:"text-slate-500",children:["(",e.role==="superadmin"?"SuperAdmin":e.role,")"]})]}),s.jsx("button",{type:"button",onClick:m,className:"rounded-full border border-slate-700 px-3 py-1 text-xs font-medium text-slate-200 hover:bg-slate-800",children:"Sign out"})]}):t?s.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."}):s.jsx(ge,{to:"/auth",className:"rounded-full bg-brand-orange px-3 py-1 text-xs font-semibold text-slate-950 hover:bg-orange-500",children:"Sign in"})})]})}),s.jsxs("div",{className:"flex-1 flex",children:[s.jsx("aside",{className:"hidden lg:block w-64 border-r border-slate-800 bg-slate-950/80",children:s.jsxs("nav",{className:"h-full overflow-y-auto px-4 py-6 space-y-6 text-sm",children:[s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>d("discover"),className:"flex w-full items-center justify-between rounded-md px-3 py-2 text-xs font-semibold text-slate-500 uppercase mb-2 hover:bg-slate-800/70 hover:text-slate-300",children:["Discover",i.discover??!0?s.jsx(wr,{className:"h-4 w-4 shrink-0"}):s.jsx(br,{className:"h-4 w-4 shrink-0"})]}),(i.discover??!0)&&s.jsx("div",{className:"space-y-1",children:g.map(v=>s.jsx(vr,{to:v.to,className:y,children:v.label},v.to))})]}),w.length>0&&s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>d("squash"),className:"flex w-full items-center justify-between rounded-md px-3 py-2 text-xs font-semibold text-slate-500 uppercase mb-2 hover:bg-slate-800/70 hover:text-slate-300",children:["Squash",i.squash??!1?s.jsx(wr,{className:"h-4 w-4 shrink-0"}):s.jsx(br,{className:"h-4 w-4 shrink-0"})]}),(i.squash??!1)&&s.jsx("div",{className:"space-y-1",children:w.map(v=>s.jsx(vr,{to:v.to,className:y,children:v.label},v.to))})]}),S.length>0&&s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>d("admin"),className:"flex w-full items-center justify-between rounded-md px-3 py-2 text-xs font-semibold text-slate-500 uppercase mb-2 hover:bg-slate-800/70 hover:text-slate-300",children:["Admin",i.admin??!1?s.jsx(wr,{className:"h-4 w-4 shrink-0"}):s.jsx(br,{className:"h-4 w-4 shrink-0"})]}),(i.admin??!1)&&s.jsx("div",{className:"space-y-1",children:S.map(v=>s.jsx(vr,{to:v.to,className:y,children:v.label},v.to))})]})]})}),s.jsxs(ho,{open:l,onClose:o,className:"lg:hidden",children:[s.jsx("div",{className:"fixed inset-0 bg-black/40","aria-hidden":"true"}),s.jsxs(ho.Panel,{className:"fixed inset-y-0 left-0 w-72 bg-slate-950 border-r border-slate-800 p-4 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(ho.Title,{className:"text-sm font-semibold tracking-[0.15em] uppercase text-slate-100",children:"Funked Up Shift"}),s.jsx("button",{type:"button",className:"rounded-md p-1 text-slate-200 hover:bg-slate-800",onClick:()=>o(!1),"aria-label":"Close main navigation",children:s.jsx(Vx,{className:"h-5 w-5"})})]}),s.jsxs("nav",{className:"flex-1 overflow-y-auto space-y-6 text-sm",children:[s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>d("discover"),className:"flex w-full items-center justify-between rounded-md px-3 py-2 text-xs font-semibold text-slate-500 uppercase mb-2 hover:bg-slate-800/70 hover:text-slate-300",children:["Discover",i.discover??!0?s.jsx(wr,{className:"h-4 w-4 shrink-0"}):s.jsx(br,{className:"h-4 w-4 shrink-0"})]}),(i.discover??!0)&&s.jsx("div",{className:"space-y-1",children:g.map(v=>s.jsx(vr,{to:v.to,className:y,onClick:()=>o(!1),children:v.label},v.to))})]}),w.length>0&&s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>d("squash"),className:"flex w-full items-center justify-between rounded-md px-3 py-2 text-xs font-semibold text-slate-500 uppercase mb-2 hover:bg-slate-800/70 hover:text-slate-300",children:["Squash",i.squash??!1?s.jsx(wr,{className:"h-4 w-4 shrink-0"}):s.jsx(br,{className:"h-4 w-4 shrink-0"})]}),(i.squash??!1)&&s.jsx("div",{className:"space-y-1",children:w.map(v=>s.jsx(vr,{to:v.to,className:y,onClick:()=>o(!1),children:v.label},v.to))})]}),S.length>0&&s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>d("admin"),className:"flex w-full items-center justify-between rounded-md px-3 py-2 text-xs font-semibold text-slate-500 uppercase mb-2 hover:bg-slate-800/70 hover:text-slate-300",children:["Admin",i.admin??!1?s.jsx(wr,{className:"h-4 w-4 shrink-0"}):s.jsx(br,{className:"h-4 w-4 shrink-0"})]}),(i.admin??!1)&&s.jsx("div",{className:"space-y-1",children:S.map(v=>s.jsx(vr,{to:v.to,className:y,onClick:()=>o(!1),children:v.label},v.to))})]})]})]})]}),s.jsx("main",{className:"flex-1 min-w-0",children:s.jsx("div",{className:"mx-auto max-w-6xl px-4 py-6",children:s.jsxs(Nx,{children:[s.jsx(Ze,{path:"/",element:s.jsx($y,{})}),s.jsx(Ze,{path:"/websites",element:s.jsx(Ry,{})}),s.jsx(Ze,{path:"/websites/:id",element:s.jsx(Iy,{})}),s.jsx(Ze,{path:"/media",element:s.jsx(Uy,{})}),s.jsx(Ze,{path:"/media/:id",element:s.jsx(Dy,{})}),s.jsx(Ze,{path:"/internet-dashboard",element:s.jsx(By,{})}),s.jsx(Ze,{path:"/squash",element:s.jsx(pv,{})}),s.jsx(Ze,{path:"/squash-admin",element:s.jsx(hv,{})}),s.jsx(Ze,{path:"/admin/branding",element:s.jsx(Gy,{})}),s.jsx(Ze,{path:"/admin/internet-dashboard",element:s.jsx(Hy,{})}),s.jsx(Ze,{path:"/admin/membership",element:s.jsx(qy,{})}),s.jsx(Ze,{path:"/admin/users/edit",element:s.jsx(av,{})}),s.jsx(Ze,{path:"/admin/websites",element:s.jsx(Jy,{})}),s.jsx(Ze,{path:"/admin/sites/edit/:id",element:s.jsx(tv,{})}),s.jsx(Ze,{path:"/admin/media",element:s.jsx(Xy,{})}),s.jsx(Ze,{path:"/admin/media/edit/:id",element:s.jsx(nv,{})}),s.jsx(Ze,{path:"/admin/*",element:s.jsx("div",{children:"Admin area"})}),s.jsx(Ze,{path:"/profile",element:s.jsx(fv,{})}),s.jsx(Ze,{path:"/auth",element:s.jsx(lv,{})}),s.jsx(Ze,{path:"*",element:s.jsx("div",{children:"Not found"})})]})})})]}),s.jsx("footer",{className:"border-t border-slate-800 bg-slate-950",children:s.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-4 flex flex-col sm:flex-row items-center justify-between gap-3 text-xs text-slate-500",children:[s.jsxs("nav",{className:"flex flex-wrap gap-3 justify-center sm:justify-start",children:[s.jsx(ge,{to:"/",className:"hover:text-slate-300",children:"Home"}),s.jsx(ge,{to:"/websites",className:"hover:text-slate-300",children:"Websites"}),s.jsx(ge,{to:"/media",className:"hover:text-slate-300",children:"Media"}),s.jsx(ge,{to:"/internet-dashboard",className:"hover:text-slate-300",children:"Internet dashboard"}),e&&s.jsx(ge,{to:"/profile",className:"hover:text-slate-300",children:"Profile"}),Pt(e??null,"superadmin")&&s.jsx(ge,{to:"/admin/branding",className:"hover:text-slate-300",children:"Branding"}),cl(e)&&s.jsx(ge,{to:"/squash",className:"hover:text-slate-300",children:"Squash"}),dl(e)&&s.jsx(ge,{to:"/squash-admin",className:"hover:text-slate-300",children:"Squash Admin"})]}),s.jsxs("div",{className:"text-slate-600",children:[s.jsx("span",{className:"font-mono text-[11px]",children:"funkedupshift"})," ",s.jsx("span",{className:"text-slate-700",children:""})," ",s.jsx("span",{children:"All data public, admin-managed curation"})]})]})})]})},ld=document.getElementById("root");ld&&So.createRoot(ld).render(s.jsx(Le.StrictMode,{children:s.jsx($x,{children:s.jsx(Ty,{children:s.jsx(Ay,{children:s.jsx(yv,{})})})})}));
