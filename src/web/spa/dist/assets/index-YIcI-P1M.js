function Xm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function ep(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var td={exports:{}},nl={},nd={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=Symbol.for("react.element"),tp=Symbol.for("react.portal"),np=Symbol.for("react.fragment"),rp=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),ap=Symbol.for("react.provider"),lp=Symbol.for("react.context"),op=Symbol.for("react.forward_ref"),ip=Symbol.for("react.suspense"),up=Symbol.for("react.memo"),cp=Symbol.for("react.lazy"),bu=Symbol.iterator;function dp(e){return e===null||typeof e!="object"?null:(e=bu&&e[bu]||e["@@iterator"],typeof e=="function"?e:null)}var rd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sd=Object.assign,ad={};function Mr(e,t,n){this.props=e,this.context=t,this.refs=ad,this.updater=n||rd}Mr.prototype.isReactComponent={};Mr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ld(){}ld.prototype=Mr.prototype;function ji(e,t,n){this.props=e,this.context=t,this.refs=ad,this.updater=n||rd}var Ni=ji.prototype=new ld;Ni.constructor=ji;sd(Ni,Mr.prototype);Ni.isPureReactComponent=!0;var ju=Array.isArray,od=Object.prototype.hasOwnProperty,Si={current:null},id={key:!0,ref:!0,__self:!0,__source:!0};function ud(e,t,n){var r,s={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)od.call(t,r)&&!id.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var u=Array(i),f=0;f<i;f++)u[f]=arguments[f+2];s.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:_s,type:e,key:l,ref:o,props:s,_owner:Si.current}}function fp(e,t){return{$$typeof:_s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ki(e){return typeof e=="object"&&e!==null&&e.$$typeof===_s}function mp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Nu=/\/+/g;function Cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mp(""+e.key):t.toString(36)}function ma(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _s:case tp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Cl(o,0):r,ju(s)?(n="",e!=null&&(n=e.replace(Nu,"$&/")+"/"),ma(s,t,n,"",function(f){return f})):s!=null&&(ki(s)&&(s=fp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Nu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ju(e))for(var i=0;i<e.length;i++){l=e[i];var u=r+Cl(l,i);o+=ma(l,t,n,u,s)}else if(u=dp(e),typeof u=="function")for(e=u.call(e),i=0;!(l=e.next()).done;)l=l.value,u=r+Cl(l,i++),o+=ma(l,t,n,u,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vs(e,t,n){if(e==null)return e;var r=[],s=0;return ma(e,r,"","",function(l){return t.call(n,l,s++)}),r}function pp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yt={current:null},pa={transition:null},hp={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:pa,ReactCurrentOwner:Si};function cd(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Vs,forEach:function(e,t,n){Vs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vs(e,function(){t++}),t},toArray:function(e){return Vs(e,function(t){return t})||[]},only:function(e){if(!ki(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=Mr;xe.Fragment=np;xe.Profiler=sp;xe.PureComponent=ji;xe.StrictMode=rp;xe.Suspense=ip;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hp;xe.act=cd;xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sd({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Si.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)od.call(t,u)&&!id.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var f=0;f<u;f++)i[f]=arguments[f+2];r.children=i}return{$$typeof:_s,type:e.type,key:s,ref:l,props:r,_owner:o}};xe.createContext=function(e){return e={$$typeof:lp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ap,_context:e},e.Consumer=e};xe.createElement=ud;xe.createFactory=function(e){var t=ud.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:op,render:e}};xe.isValidElement=ki;xe.lazy=function(e){return{$$typeof:cp,_payload:{_status:-1,_result:e},_init:pp}};xe.memo=function(e,t){return{$$typeof:up,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=pa.transition;pa.transition={};try{e()}finally{pa.transition=t}};xe.unstable_act=cd;xe.useCallback=function(e,t){return yt.current.useCallback(e,t)};xe.useContext=function(e){return yt.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return yt.current.useDeferredValue(e)};xe.useEffect=function(e,t){return yt.current.useEffect(e,t)};xe.useId=function(){return yt.current.useId()};xe.useImperativeHandle=function(e,t,n){return yt.current.useImperativeHandle(e,t,n)};xe.useInsertionEffect=function(e,t){return yt.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return yt.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return yt.current.useMemo(e,t)};xe.useReducer=function(e,t,n){return yt.current.useReducer(e,t,n)};xe.useRef=function(e){return yt.current.useRef(e)};xe.useState=function(e){return yt.current.useState(e)};xe.useSyncExternalStore=function(e,t,n){return yt.current.useSyncExternalStore(e,t,n)};xe.useTransition=function(){return yt.current.useTransition()};xe.version="18.3.1";nd.exports=xe;var c=nd.exports;const Pe=ep(c),Lr=Xm({__proto__:null,default:Pe},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=c,gp=Symbol.for("react.element"),vp=Symbol.for("react.fragment"),yp=Object.prototype.hasOwnProperty,wp=xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bp={key:!0,ref:!0,__self:!0,__source:!0};function dd(e,t,n){var r,s={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)yp.call(t,r)&&!bp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:gp,type:e,key:l,ref:o,props:s,_owner:wp.current}}nl.Fragment=vp;nl.jsx=dd;nl.jsxs=dd;td.exports=nl;var a=td.exports,ho={},fd={exports:{}},Lt={},md={exports:{}},pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,E){var N=k.length;k.push(E);e:for(;0<N;){var M=N-1>>>1,_=k[M];if(0<s(_,E))k[M]=E,k[N]=_,N=M;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var E=k[0],N=k.pop();if(N!==E){k[0]=N;e:for(var M=0,_=k.length,ae=_>>>1;M<ae;){var me=2*(M+1)-1,be=k[me],ye=me+1,O=k[ye];if(0>s(be,N))ye<_&&0>s(O,be)?(k[M]=O,k[ye]=N,M=ye):(k[M]=be,k[me]=N,M=me);else if(ye<_&&0>s(O,N))k[M]=O,k[ye]=N,M=ye;else break e}}return E}function s(k,E){var N=k.sortIndex-E.sortIndex;return N!==0?N:k.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var u=[],f=[],m=1,p=null,g=3,y=!1,b=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(k){for(var E=n(f);E!==null;){if(E.callback===null)r(f);else if(E.startTime<=k)r(f),E.sortIndex=E.expirationTime,t(u,E);else break;E=n(f)}}function w(k){if(v=!1,x(k),!b)if(n(u)!==null)b=!0,B(C);else{var E=n(f);E!==null&&P(w,E.startTime-k)}}function C(k,E){b=!1,v&&(v=!1,h($),$=-1),y=!0;var N=g;try{for(x(E),p=n(u);p!==null&&(!(p.expirationTime>E)||k&&!V());){var M=p.callback;if(typeof M=="function"){p.callback=null,g=p.priorityLevel;var _=M(p.expirationTime<=E);E=e.unstable_now(),typeof _=="function"?p.callback=_:p===n(u)&&r(u),x(E)}else r(u);p=n(u)}if(p!==null)var ae=!0;else{var me=n(f);me!==null&&P(w,me.startTime-E),ae=!1}return ae}finally{p=null,g=N,y=!1}}var L=!1,A=null,$=-1,I=5,R=-1;function V(){return!(e.unstable_now()-R<I)}function J(){if(A!==null){var k=e.unstable_now();R=k;var E=!0;try{E=A(!0,k)}finally{E?re():(L=!1,A=null)}}else L=!1}var re;if(typeof d=="function")re=function(){d(J)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,de=K.port2;K.port1.onmessage=J,re=function(){de.postMessage(null)}}else re=function(){j(J,0)};function B(k){A=k,L||(L=!0,re())}function P(k,E){$=j(function(){k(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,B(C))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(k){switch(g){case 1:case 2:case 3:var E=3;break;default:E=g}var N=g;g=E;try{return k()}finally{g=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,E){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var N=g;g=k;try{return E()}finally{g=N}},e.unstable_scheduleCallback=function(k,E,N){var M=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?M+N:M):N=M,k){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=N+_,k={id:m++,callback:E,priorityLevel:k,startTime:N,expirationTime:_,sortIndex:-1},N>M?(k.sortIndex=N,t(f,k),n(u)===null&&k===n(f)&&(v?(h($),$=-1):v=!0,P(w,N-M))):(k.sortIndex=_,t(u,k),b||y||(b=!0,B(C))),k},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(k){var E=g;return function(){var N=g;g=E;try{return k.apply(this,arguments)}finally{g=N}}}})(pd);md.exports=pd;var jp=md.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np=c,Tt=jp;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hd=new Set,vs={};function ar(e,t){Ar(e,t),Ar(e+"Capture",t)}function Ar(e,t){for(vs[e]=t,e=0;e<t.length;e++)hd.add(t[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=Object.prototype.hasOwnProperty,Sp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Su={},ku={};function kp(e){return xo.call(ku,e)?!0:xo.call(Su,e)?!1:Sp.test(e)?ku[e]=!0:(Su[e]=!0,!1)}function Ep(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cp(e,t,n,r){if(t===null||typeof t>"u"||Ep(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wt(e,t,n,r,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ot[e]=new wt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ot[t]=new wt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ot[e]=new wt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ot[e]=new wt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ot[e]=new wt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ot[e]=new wt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ot[e]=new wt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ot[e]=new wt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ot[e]=new wt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ei=/[\-:]([a-z])/g;function Ci(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ei,Ci);ot[t]=new wt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ei,Ci);ot[t]=new wt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ei,Ci);ot[t]=new wt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ot[e]=new wt(e,1,!1,e.toLowerCase(),null,!1,!1)});ot.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ot[e]=new wt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pi(e,t,n,r){var s=ot.hasOwnProperty(t)?ot[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Cp(t,n,s,r)&&(n=null),r||s===null?kp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fn=Np.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ks=Symbol.for("react.element"),fr=Symbol.for("react.portal"),mr=Symbol.for("react.fragment"),Ti=Symbol.for("react.strict_mode"),go=Symbol.for("react.profiler"),xd=Symbol.for("react.provider"),gd=Symbol.for("react.context"),Li=Symbol.for("react.forward_ref"),vo=Symbol.for("react.suspense"),yo=Symbol.for("react.suspense_list"),Ai=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),vd=Symbol.for("react.offscreen"),Eu=Symbol.iterator;function Kr(e){return e===null||typeof e!="object"?null:(e=Eu&&e[Eu]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,Pl;function rs(e){if(Pl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pl=t&&t[1]||""}return`
`+Pl+e}var Tl=!1;function Ll(e,t){if(!e||Tl)return"";Tl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),l=r.stack.split(`
`),o=s.length-1,i=l.length-1;1<=o&&0<=i&&s[o]!==l[i];)i--;for(;1<=o&&0<=i;o--,i--)if(s[o]!==l[i]){if(o!==1||i!==1)do if(o--,i--,0>i||s[o]!==l[i]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=i);break}}}finally{Tl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rs(e):""}function Pp(e){switch(e.tag){case 5:return rs(e.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 2:case 15:return e=Ll(e.type,!1),e;case 11:return e=Ll(e.type.render,!1),e;case 1:return e=Ll(e.type,!0),e;default:return""}}function wo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mr:return"Fragment";case fr:return"Portal";case go:return"Profiler";case Ti:return"StrictMode";case vo:return"Suspense";case yo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gd:return(e.displayName||"Context")+".Consumer";case xd:return(e._context.displayName||"Context")+".Provider";case Li:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ai:return t=e.displayName||null,t!==null?t:wo(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return wo(e(t))}catch{}}return null}function Tp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wo(t);case 8:return t===Ti?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lp(e){var t=yd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qs(e){e._valueTracker||(e._valueTracker=Lp(e))}function wd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bo(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bd(e,t){t=t.checked,t!=null&&Pi(e,"checked",t,!1)}function jo(e,t){bd(e,t);var n=$n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?No(e,t.type,n):t.hasOwnProperty("defaultValue")&&No(e,t.type,$n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function No(e,t,n){(t!=="number"||Ea(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ss=Array.isArray;function Sr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$n(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function So(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Tu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(ss(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$n(n)}}function jd(e,t){var n=$n(t.value),r=$n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Lu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ko(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qs,Sd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qs=Qs||document.createElement("div"),Qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ap=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(e){Ap.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),us[t]=us[e]})});function kd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||us.hasOwnProperty(e)&&us[e]?(""+t).trim():t+"px"}function Ed(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=kd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Rp=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eo(e,t){if(t){if(Rp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Co(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function Ri(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var To=null,kr=null,Er=null;function Au(e){if(e=Fs(e)){if(typeof To!="function")throw Error(F(280));var t=e.stateNode;t&&(t=ol(t),To(e.stateNode,e.type,t))}}function Cd(e){kr?Er?Er.push(e):Er=[e]:kr=e}function Pd(){if(kr){var e=kr,t=Er;if(Er=kr=null,Au(e),t)for(e=0;e<t.length;e++)Au(t[e])}}function Td(e,t){return e(t)}function Ld(){}var Al=!1;function Ad(e,t,n){if(Al)return e(t,n);Al=!0;try{return Td(e,t,n)}finally{Al=!1,(kr!==null||Er!==null)&&(Ld(),Pd())}}function ws(e,t){var n=e.stateNode;if(n===null)return null;var r=ol(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Lo=!1;if(ln)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Lo=!1}function $p(e,t,n,r,s,l,o,i,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(m){this.onError(m)}}var cs=!1,Ca=null,Pa=!1,Ao=null,Ip={onError:function(e){cs=!0,Ca=e}};function Up(e,t,n,r,s,l,o,i,u){cs=!1,Ca=null,$p.apply(Ip,arguments)}function Dp(e,t,n,r,s,l,o,i,u){if(Up.apply(this,arguments),cs){if(cs){var f=Ca;cs=!1,Ca=null}else throw Error(F(198));Pa||(Pa=!0,Ao=f)}}function lr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ru(e){if(lr(e)!==e)throw Error(F(188))}function _p(e){var t=e.alternate;if(!t){if(t=lr(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Ru(s),e;if(l===r)return Ru(s),t;l=l.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=l;else{for(var o=!1,i=s.child;i;){if(i===n){o=!0,n=s,r=l;break}if(i===r){o=!0,r=s,n=l;break}i=i.sibling}if(!o){for(i=l.child;i;){if(i===n){o=!0,n=l,r=s;break}if(i===r){o=!0,r=l,n=s;break}i=i.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function $d(e){return e=_p(e),e!==null?Id(e):null}function Id(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Id(e);if(t!==null)return t;e=e.sibling}return null}var Ud=Tt.unstable_scheduleCallback,$u=Tt.unstable_cancelCallback,Op=Tt.unstable_shouldYield,Mp=Tt.unstable_requestPaint,Ye=Tt.unstable_now,Fp=Tt.unstable_getCurrentPriorityLevel,$i=Tt.unstable_ImmediatePriority,Dd=Tt.unstable_UserBlockingPriority,Ta=Tt.unstable_NormalPriority,Bp=Tt.unstable_LowPriority,_d=Tt.unstable_IdlePriority,rl=null,Qt=null;function zp(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(rl,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Hp,Gp=Math.log,Wp=Math.LN2;function Hp(e){return e>>>=0,e===0?32:31-(Gp(e)/Wp|0)|0}var Ys=64,Js=4194304;function as(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function La(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var i=o&~s;i!==0?r=as(i):(l&=o,l!==0&&(r=as(l)))}else o=n&~s,o!==0?r=as(o):l!==0&&(r=as(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gt(t),s=1<<n,r|=e[n],t&=~s;return r}function Vp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-Gt(l),i=1<<o,u=s[o];u===-1?(!(i&n)||i&r)&&(s[o]=Vp(i,t)):u<=t&&(e.expiredLanes|=i),l&=~i}}function Ro(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Od(){var e=Ys;return Ys<<=1,!(Ys&4194240)&&(Ys=64),e}function Rl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Os(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=n}function qp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Gt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Ii(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Le=0;function Md(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fd,Ui,Bd,zd,Gd,$o=!1,Zs=[],Sn=null,kn=null,En=null,bs=new Map,js=new Map,vn=[],Qp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iu(e,t){switch(e){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(t.pointerId)}}function Qr(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Fs(t),t!==null&&Ui(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Yp(e,t,n,r,s){switch(t){case"focusin":return Sn=Qr(Sn,e,t,n,r,s),!0;case"dragenter":return kn=Qr(kn,e,t,n,r,s),!0;case"mouseover":return En=Qr(En,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return bs.set(l,Qr(bs.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,js.set(l,Qr(js.get(l)||null,e,t,n,r,s)),!0}return!1}function Wd(e){var t=Vn(e.target);if(t!==null){var n=lr(t);if(n!==null){if(t=n.tag,t===13){if(t=Rd(n),t!==null){e.blockedOn=t,Gd(e.priority,function(){Bd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ha(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Io(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Po=r,n.target.dispatchEvent(r),Po=null}else return t=Fs(n),t!==null&&Ui(t),e.blockedOn=n,!1;t.shift()}return!0}function Uu(e,t,n){ha(e)&&n.delete(t)}function Jp(){$o=!1,Sn!==null&&ha(Sn)&&(Sn=null),kn!==null&&ha(kn)&&(kn=null),En!==null&&ha(En)&&(En=null),bs.forEach(Uu),js.forEach(Uu)}function Yr(e,t){e.blockedOn===t&&(e.blockedOn=null,$o||($o=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,Jp)))}function Ns(e){function t(s){return Yr(s,e)}if(0<Zs.length){Yr(Zs[0],e);for(var n=1;n<Zs.length;n++){var r=Zs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Sn!==null&&Yr(Sn,e),kn!==null&&Yr(kn,e),En!==null&&Yr(En,e),bs.forEach(t),js.forEach(t),n=0;n<vn.length;n++)r=vn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vn.length&&(n=vn[0],n.blockedOn===null);)Wd(n),n.blockedOn===null&&vn.shift()}var Cr=fn.ReactCurrentBatchConfig,Aa=!0;function Zp(e,t,n,r){var s=Le,l=Cr.transition;Cr.transition=null;try{Le=1,Di(e,t,n,r)}finally{Le=s,Cr.transition=l}}function Xp(e,t,n,r){var s=Le,l=Cr.transition;Cr.transition=null;try{Le=4,Di(e,t,n,r)}finally{Le=s,Cr.transition=l}}function Di(e,t,n,r){if(Aa){var s=Io(e,t,n,r);if(s===null)zl(e,t,r,Ra,n),Iu(e,r);else if(Yp(s,e,t,n,r))r.stopPropagation();else if(Iu(e,r),t&4&&-1<Qp.indexOf(e)){for(;s!==null;){var l=Fs(s);if(l!==null&&Fd(l),l=Io(e,t,n,r),l===null&&zl(e,t,r,Ra,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else zl(e,t,r,null,n)}}var Ra=null;function Io(e,t,n,r){if(Ra=null,e=Ri(r),e=Vn(e),e!==null)if(t=lr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Rd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ra=e,null}function Hd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fp()){case $i:return 1;case Dd:return 4;case Ta:case Bp:return 16;case _d:return 536870912;default:return 16}default:return 16}}var bn=null,_i=null,xa=null;function Vd(){if(xa)return xa;var e,t=_i,n=t.length,r,s="value"in bn?bn.value:bn.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[l-r];r++);return xa=s.slice(e,1<r?1-r:void 0)}function ga(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xs(){return!0}function Du(){return!1}function At(e){function t(n,r,s,l,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(l):l[i]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Xs:Du,this.isPropagationStopped=Du,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),t}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=At(Fr),Ms=He({},Fr,{view:0,detail:0}),eh=At(Ms),$l,Il,Jr,sl=He({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?($l=e.screenX-Jr.screenX,Il=e.screenY-Jr.screenY):Il=$l=0,Jr=e),$l)},movementY:function(e){return"movementY"in e?e.movementY:Il}}),_u=At(sl),th=He({},sl,{dataTransfer:0}),nh=At(th),rh=He({},Ms,{relatedTarget:0}),Ul=At(rh),sh=He({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),ah=At(sh),lh=He({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oh=At(lh),ih=He({},Fr,{data:0}),Ou=At(ih),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dh[e])?!!t[e]:!1}function Mi(){return fh}var mh=He({},Ms,{key:function(e){if(e.key){var t=uh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ch[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mi,charCode:function(e){return e.type==="keypress"?ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ph=At(mh),hh=He({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mu=At(hh),xh=He({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mi}),gh=At(xh),vh=He({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yh=At(vh),wh=He({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bh=At(wh),jh=[9,13,27,32],Fi=ln&&"CompositionEvent"in window,ds=null;ln&&"documentMode"in document&&(ds=document.documentMode);var Nh=ln&&"TextEvent"in window&&!ds,Kd=ln&&(!Fi||ds&&8<ds&&11>=ds),Fu=" ",Bu=!1;function qd(e,t){switch(e){case"keyup":return jh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function Sh(e,t){switch(e){case"compositionend":return Qd(t);case"keypress":return t.which!==32?null:(Bu=!0,Fu);case"textInput":return e=t.data,e===Fu&&Bu?null:e;default:return null}}function kh(e,t){if(pr)return e==="compositionend"||!Fi&&qd(e,t)?(e=Vd(),xa=_i=bn=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kd&&t.locale!=="ko"?null:t.data;default:return null}}var Eh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Eh[e.type]:t==="textarea"}function Yd(e,t,n,r){Cd(r),t=$a(t,"onChange"),0<t.length&&(n=new Oi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fs=null,Ss=null;function Ch(e){of(e,0)}function al(e){var t=gr(e);if(wd(t))return e}function Ph(e,t){if(e==="change")return t}var Jd=!1;if(ln){var Dl;if(ln){var _l="oninput"in document;if(!_l){var Gu=document.createElement("div");Gu.setAttribute("oninput","return;"),_l=typeof Gu.oninput=="function"}Dl=_l}else Dl=!1;Jd=Dl&&(!document.documentMode||9<document.documentMode)}function Wu(){fs&&(fs.detachEvent("onpropertychange",Zd),Ss=fs=null)}function Zd(e){if(e.propertyName==="value"&&al(Ss)){var t=[];Yd(t,Ss,e,Ri(e)),Ad(Ch,t)}}function Th(e,t,n){e==="focusin"?(Wu(),fs=t,Ss=n,fs.attachEvent("onpropertychange",Zd)):e==="focusout"&&Wu()}function Lh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Ss)}function Ah(e,t){if(e==="click")return al(t)}function Rh(e,t){if(e==="input"||e==="change")return al(t)}function $h(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:$h;function ks(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xo.call(t,s)||!Ht(e[s],t[s]))return!1}return!0}function Hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vu(e,t){var n=Hu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hu(n)}}function Xd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ef(){for(var e=window,t=Ea();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ea(e.document)}return t}function Bi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ih(e){var t=ef(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xd(n.ownerDocument.documentElement,n)){if(r!==null&&Bi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=Vu(n,l);var o=Vu(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uh=ln&&"documentMode"in document&&11>=document.documentMode,hr=null,Uo=null,ms=null,Do=!1;function Ku(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Do||hr==null||hr!==Ea(r)||(r=hr,"selectionStart"in r&&Bi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ms&&ks(ms,r)||(ms=r,r=$a(Uo,"onSelect"),0<r.length&&(t=new Oi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function ea(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionend:ea("Transition","TransitionEnd")},Ol={},tf={};ln&&(tf=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);function ll(e){if(Ol[e])return Ol[e];if(!xr[e])return e;var t=xr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tf)return Ol[e]=t[n];return e}var nf=ll("animationend"),rf=ll("animationiteration"),sf=ll("animationstart"),af=ll("transitionend"),lf=new Map,qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(e,t){lf.set(e,t),ar(t,[e])}for(var Ml=0;Ml<qu.length;Ml++){var Fl=qu[Ml],Dh=Fl.toLowerCase(),_h=Fl[0].toUpperCase()+Fl.slice(1);Dn(Dh,"on"+_h)}Dn(nf,"onAnimationEnd");Dn(rf,"onAnimationIteration");Dn(sf,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(af,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function Qu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Dp(r,t,void 0,e),e.currentTarget=null}function of(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],u=i.instance,f=i.currentTarget;if(i=i.listener,u!==l&&s.isPropagationStopped())break e;Qu(s,i,f),l=u}else for(o=0;o<r.length;o++){if(i=r[o],u=i.instance,f=i.currentTarget,i=i.listener,u!==l&&s.isPropagationStopped())break e;Qu(s,i,f),l=u}}}if(Pa)throw e=Ao,Pa=!1,Ao=null,e}function De(e,t){var n=t[Bo];n===void 0&&(n=t[Bo]=new Set);var r=e+"__bubble";n.has(r)||(uf(t,e,2,!1),n.add(r))}function Bl(e,t,n){var r=0;t&&(r|=4),uf(n,e,r,t)}var ta="_reactListening"+Math.random().toString(36).slice(2);function Es(e){if(!e[ta]){e[ta]=!0,hd.forEach(function(n){n!=="selectionchange"&&(Oh.has(n)||Bl(n,!1,e),Bl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ta]||(t[ta]=!0,Bl("selectionchange",!1,t))}}function uf(e,t,n,r){switch(Hd(t)){case 1:var s=Zp;break;case 4:s=Xp;break;default:s=Di}n=s.bind(null,t,n,e),s=void 0,!Lo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function zl(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;i!==null;){if(o=Vn(i),o===null)return;if(u=o.tag,u===5||u===6){r=l=o;continue e}i=i.parentNode}}r=r.return}Ad(function(){var f=l,m=Ri(n),p=[];e:{var g=lf.get(e);if(g!==void 0){var y=Oi,b=e;switch(e){case"keypress":if(ga(n)===0)break e;case"keydown":case"keyup":y=ph;break;case"focusin":b="focus",y=Ul;break;case"focusout":b="blur",y=Ul;break;case"beforeblur":case"afterblur":y=Ul;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=gh;break;case nf:case rf:case sf:y=ah;break;case af:y=yh;break;case"scroll":y=eh;break;case"wheel":y=bh;break;case"copy":case"cut":case"paste":y=oh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Mu}var v=(t&4)!==0,j=!v&&e==="scroll",h=v?g!==null?g+"Capture":null:g;v=[];for(var d=f,x;d!==null;){x=d;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,h!==null&&(w=ws(d,h),w!=null&&v.push(Cs(d,w,x)))),j)break;d=d.return}0<v.length&&(g=new y(g,b,null,n,m),p.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",g&&n!==Po&&(b=n.relatedTarget||n.fromElement)&&(Vn(b)||b[on]))break e;if((y||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=f,b=b?Vn(b):null,b!==null&&(j=lr(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=f),y!==b)){if(v=_u,w="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=Mu,w="onPointerLeave",h="onPointerEnter",d="pointer"),j=y==null?g:gr(y),x=b==null?g:gr(b),g=new v(w,d+"leave",y,n,m),g.target=j,g.relatedTarget=x,w=null,Vn(m)===f&&(v=new v(h,d+"enter",b,n,m),v.target=x,v.relatedTarget=j,w=v),j=w,y&&b)t:{for(v=y,h=b,d=0,x=v;x;x=ur(x))d++;for(x=0,w=h;w;w=ur(w))x++;for(;0<d-x;)v=ur(v),d--;for(;0<x-d;)h=ur(h),x--;for(;d--;){if(v===h||h!==null&&v===h.alternate)break t;v=ur(v),h=ur(h)}v=null}else v=null;y!==null&&Yu(p,g,y,v,!1),b!==null&&j!==null&&Yu(p,j,b,v,!0)}}e:{if(g=f?gr(f):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var C=Ph;else if(zu(g))if(Jd)C=Rh;else{C=Lh;var L=Th}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=Ah);if(C&&(C=C(e,f))){Yd(p,C,n,m);break e}L&&L(e,g,f),e==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&No(g,"number",g.value)}switch(L=f?gr(f):window,e){case"focusin":(zu(L)||L.contentEditable==="true")&&(hr=L,Uo=f,ms=null);break;case"focusout":ms=Uo=hr=null;break;case"mousedown":Do=!0;break;case"contextmenu":case"mouseup":case"dragend":Do=!1,Ku(p,n,m);break;case"selectionchange":if(Uh)break;case"keydown":case"keyup":Ku(p,n,m)}var A;if(Fi)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else pr?qd(e,n)&&($="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(Kd&&n.locale!=="ko"&&(pr||$!=="onCompositionStart"?$==="onCompositionEnd"&&pr&&(A=Vd()):(bn=m,_i="value"in bn?bn.value:bn.textContent,pr=!0)),L=$a(f,$),0<L.length&&($=new Ou($,e,null,n,m),p.push({event:$,listeners:L}),A?$.data=A:(A=Qd(n),A!==null&&($.data=A)))),(A=Nh?Sh(e,n):kh(e,n))&&(f=$a(f,"onBeforeInput"),0<f.length&&(m=new Ou("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:f}),m.data=A))}of(p,t)})}function Cs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $a(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=ws(e,n),l!=null&&r.unshift(Cs(e,l,s)),l=ws(e,t),l!=null&&r.push(Cs(e,l,s))),e=e.return}return r}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yu(e,t,n,r,s){for(var l=t._reactName,o=[];n!==null&&n!==r;){var i=n,u=i.alternate,f=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&f!==null&&(i=f,s?(u=ws(n,l),u!=null&&o.unshift(Cs(n,u,i))):s||(u=ws(n,l),u!=null&&o.push(Cs(n,u,i)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Mh=/\r\n?/g,Fh=/\u0000|\uFFFD/g;function Ju(e){return(typeof e=="string"?e:""+e).replace(Mh,`
`).replace(Fh,"")}function na(e,t,n){if(t=Ju(t),Ju(e)!==t&&n)throw Error(F(425))}function Ia(){}var _o=null,Oo=null;function Mo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fo=typeof setTimeout=="function"?setTimeout:void 0,Bh=typeof clearTimeout=="function"?clearTimeout:void 0,Zu=typeof Promise=="function"?Promise:void 0,zh=typeof queueMicrotask=="function"?queueMicrotask:typeof Zu<"u"?function(e){return Zu.resolve(null).then(e).catch(Gh)}:Fo;function Gh(e){setTimeout(function(){throw e})}function Gl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ns(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ns(t)}function Cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),qt="__reactFiber$"+Br,Ps="__reactProps$"+Br,on="__reactContainer$"+Br,Bo="__reactEvents$"+Br,Wh="__reactListeners$"+Br,Hh="__reactHandles$"+Br;function Vn(e){var t=e[qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[on]||n[qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xu(e);e!==null;){if(n=e[qt])return n;e=Xu(e)}return t}e=n,n=e.parentNode}return null}function Fs(e){return e=e[qt]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function ol(e){return e[Ps]||null}var zo=[],vr=-1;function _n(e){return{current:e}}function _e(e){0>vr||(e.current=zo[vr],zo[vr]=null,vr--)}function $e(e,t){vr++,zo[vr]=e.current,e.current=t}var In={},ht=_n(In),Nt=_n(!1),er=In;function Rr(e,t){var n=e.type.contextTypes;if(!n)return In;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function St(e){return e=e.childContextTypes,e!=null}function Ua(){_e(Nt),_e(ht)}function ec(e,t,n){if(ht.current!==In)throw Error(F(168));$e(ht,t),$e(Nt,n)}function cf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(F(108,Tp(e)||"Unknown",s));return He({},n,r)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,er=ht.current,$e(ht,e),$e(Nt,Nt.current),!0}function tc(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=cf(e,t,er),r.__reactInternalMemoizedMergedChildContext=e,_e(Nt),_e(ht),$e(ht,e)):_e(Nt),$e(Nt,n)}var tn=null,il=!1,Wl=!1;function df(e){tn===null?tn=[e]:tn.push(e)}function Vh(e){il=!0,df(e)}function On(){if(!Wl&&tn!==null){Wl=!0;var e=0,t=Le;try{var n=tn;for(Le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tn=null,il=!1}catch(s){throw tn!==null&&(tn=tn.slice(e+1)),Ud($i,On),s}finally{Le=t,Wl=!1}}return null}var yr=[],wr=0,_a=null,Oa=0,Rt=[],$t=0,tr=null,nn=1,rn="";function Gn(e,t){yr[wr++]=Oa,yr[wr++]=_a,_a=e,Oa=t}function ff(e,t,n){Rt[$t++]=nn,Rt[$t++]=rn,Rt[$t++]=tr,tr=e;var r=nn;e=rn;var s=32-Gt(r)-1;r&=~(1<<s),n+=1;var l=32-Gt(t)+s;if(30<l){var o=s-s%5;l=(r&(1<<o)-1).toString(32),r>>=o,s-=o,nn=1<<32-Gt(t)+s|n<<s|r,rn=l+e}else nn=1<<l|n<<s|r,rn=e}function zi(e){e.return!==null&&(Gn(e,1),ff(e,1,0))}function Gi(e){for(;e===_a;)_a=yr[--wr],yr[wr]=null,Oa=yr[--wr],yr[wr]=null;for(;e===tr;)tr=Rt[--$t],Rt[$t]=null,rn=Rt[--$t],Rt[$t]=null,nn=Rt[--$t],Rt[$t]=null}var Pt=null,Ct=null,Oe=!1,zt=null;function mf(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function nc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,Ct=Cn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,Ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=tr!==null?{id:nn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pt=e,Ct=null,!0):!1;default:return!1}}function Go(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wo(e){if(Oe){var t=Ct;if(t){var n=t;if(!nc(e,t)){if(Go(e))throw Error(F(418));t=Cn(n.nextSibling);var r=Pt;t&&nc(e,t)?mf(r,n):(e.flags=e.flags&-4097|2,Oe=!1,Pt=e)}}else{if(Go(e))throw Error(F(418));e.flags=e.flags&-4097|2,Oe=!1,Pt=e}}}function rc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function ra(e){if(e!==Pt)return!1;if(!Oe)return rc(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mo(e.type,e.memoizedProps)),t&&(t=Ct)){if(Go(e))throw pf(),Error(F(418));for(;t;)mf(e,t),t=Cn(t.nextSibling)}if(rc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ct=Cn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ct=null}}else Ct=Pt?Cn(e.stateNode.nextSibling):null;return!0}function pf(){for(var e=Ct;e;)e=Cn(e.nextSibling)}function $r(){Ct=Pt=null,Oe=!1}function Wi(e){zt===null?zt=[e]:zt.push(e)}var Kh=fn.ReactCurrentBatchConfig;function Zr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var i=s.refs;o===null?delete i[l]:i[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function sa(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sc(e){var t=e._init;return t(e._payload)}function hf(e){function t(h,d){if(e){var x=h.deletions;x===null?(h.deletions=[d],h.flags|=16):x.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function s(h,d){return h=An(h,d),h.index=0,h.sibling=null,h}function l(h,d,x){return h.index=x,e?(x=h.alternate,x!==null?(x=x.index,x<d?(h.flags|=2,d):x):(h.flags|=2,d)):(h.flags|=1048576,d)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,d,x,w){return d===null||d.tag!==6?(d=Jl(x,h.mode,w),d.return=h,d):(d=s(d,x),d.return=h,d)}function u(h,d,x,w){var C=x.type;return C===mr?m(h,d,x.props.children,w,x.key):d!==null&&(d.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xn&&sc(C)===d.type)?(w=s(d,x.props),w.ref=Zr(h,d,x),w.return=h,w):(w=Sa(x.type,x.key,x.props,null,h.mode,w),w.ref=Zr(h,d,x),w.return=h,w)}function f(h,d,x,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==x.containerInfo||d.stateNode.implementation!==x.implementation?(d=Zl(x,h.mode,w),d.return=h,d):(d=s(d,x.children||[]),d.return=h,d)}function m(h,d,x,w,C){return d===null||d.tag!==7?(d=Zn(x,h.mode,w,C),d.return=h,d):(d=s(d,x),d.return=h,d)}function p(h,d,x){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Jl(""+d,h.mode,x),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Ks:return x=Sa(d.type,d.key,d.props,null,h.mode,x),x.ref=Zr(h,null,d),x.return=h,x;case fr:return d=Zl(d,h.mode,x),d.return=h,d;case xn:var w=d._init;return p(h,w(d._payload),x)}if(ss(d)||Kr(d))return d=Zn(d,h.mode,x,null),d.return=h,d;sa(h,d)}return null}function g(h,d,x,w){var C=d!==null?d.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:i(h,d,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ks:return x.key===C?u(h,d,x,w):null;case fr:return x.key===C?f(h,d,x,w):null;case xn:return C=x._init,g(h,d,C(x._payload),w)}if(ss(x)||Kr(x))return C!==null?null:m(h,d,x,w,null);sa(h,x)}return null}function y(h,d,x,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(x)||null,i(d,h,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ks:return h=h.get(w.key===null?x:w.key)||null,u(d,h,w,C);case fr:return h=h.get(w.key===null?x:w.key)||null,f(d,h,w,C);case xn:var L=w._init;return y(h,d,x,L(w._payload),C)}if(ss(w)||Kr(w))return h=h.get(x)||null,m(d,h,w,C,null);sa(d,w)}return null}function b(h,d,x,w){for(var C=null,L=null,A=d,$=d=0,I=null;A!==null&&$<x.length;$++){A.index>$?(I=A,A=null):I=A.sibling;var R=g(h,A,x[$],w);if(R===null){A===null&&(A=I);break}e&&A&&R.alternate===null&&t(h,A),d=l(R,d,$),L===null?C=R:L.sibling=R,L=R,A=I}if($===x.length)return n(h,A),Oe&&Gn(h,$),C;if(A===null){for(;$<x.length;$++)A=p(h,x[$],w),A!==null&&(d=l(A,d,$),L===null?C=A:L.sibling=A,L=A);return Oe&&Gn(h,$),C}for(A=r(h,A);$<x.length;$++)I=y(A,h,$,x[$],w),I!==null&&(e&&I.alternate!==null&&A.delete(I.key===null?$:I.key),d=l(I,d,$),L===null?C=I:L.sibling=I,L=I);return e&&A.forEach(function(V){return t(h,V)}),Oe&&Gn(h,$),C}function v(h,d,x,w){var C=Kr(x);if(typeof C!="function")throw Error(F(150));if(x=C.call(x),x==null)throw Error(F(151));for(var L=C=null,A=d,$=d=0,I=null,R=x.next();A!==null&&!R.done;$++,R=x.next()){A.index>$?(I=A,A=null):I=A.sibling;var V=g(h,A,R.value,w);if(V===null){A===null&&(A=I);break}e&&A&&V.alternate===null&&t(h,A),d=l(V,d,$),L===null?C=V:L.sibling=V,L=V,A=I}if(R.done)return n(h,A),Oe&&Gn(h,$),C;if(A===null){for(;!R.done;$++,R=x.next())R=p(h,R.value,w),R!==null&&(d=l(R,d,$),L===null?C=R:L.sibling=R,L=R);return Oe&&Gn(h,$),C}for(A=r(h,A);!R.done;$++,R=x.next())R=y(A,h,$,R.value,w),R!==null&&(e&&R.alternate!==null&&A.delete(R.key===null?$:R.key),d=l(R,d,$),L===null?C=R:L.sibling=R,L=R);return e&&A.forEach(function(J){return t(h,J)}),Oe&&Gn(h,$),C}function j(h,d,x,w){if(typeof x=="object"&&x!==null&&x.type===mr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ks:e:{for(var C=x.key,L=d;L!==null;){if(L.key===C){if(C=x.type,C===mr){if(L.tag===7){n(h,L.sibling),d=s(L,x.props.children),d.return=h,h=d;break e}}else if(L.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===xn&&sc(C)===L.type){n(h,L.sibling),d=s(L,x.props),d.ref=Zr(h,L,x),d.return=h,h=d;break e}n(h,L);break}else t(h,L);L=L.sibling}x.type===mr?(d=Zn(x.props.children,h.mode,w,x.key),d.return=h,h=d):(w=Sa(x.type,x.key,x.props,null,h.mode,w),w.ref=Zr(h,d,x),w.return=h,h=w)}return o(h);case fr:e:{for(L=x.key;d!==null;){if(d.key===L)if(d.tag===4&&d.stateNode.containerInfo===x.containerInfo&&d.stateNode.implementation===x.implementation){n(h,d.sibling),d=s(d,x.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=Zl(x,h.mode,w),d.return=h,h=d}return o(h);case xn:return L=x._init,j(h,d,L(x._payload),w)}if(ss(x))return b(h,d,x,w);if(Kr(x))return v(h,d,x,w);sa(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,d!==null&&d.tag===6?(n(h,d.sibling),d=s(d,x),d.return=h,h=d):(n(h,d),d=Jl(x,h.mode,w),d.return=h,h=d),o(h)):n(h,d)}return j}var Ir=hf(!0),xf=hf(!1),Ma=_n(null),Fa=null,br=null,Hi=null;function Vi(){Hi=br=Fa=null}function Ki(e){var t=Ma.current;_e(Ma),e._currentValue=t}function Ho(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pr(e,t){Fa=e,Hi=br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jt=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(Hi!==e)if(e={context:e,memoizedValue:t,next:null},br===null){if(Fa===null)throw Error(F(308));br=e,Fa.dependencies={lanes:0,firstContext:e}}else br=br.next=e;return t}var Kn=null;function qi(e){Kn===null?Kn=[e]:Kn.push(e)}function gf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,qi(t)):(n.next=s.next,s.next=n),t.interleaved=n,un(e,r)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var gn=!1;function Qi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,un(e,n)}return s=r.interleaved,s===null?(t.next=t,qi(r)):(t.next=s.next,s.next=t),r.interleaved=t,un(e,n)}function va(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ii(e,n)}}function ac(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var s=e.updateQueue;gn=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var u=i,f=u.next;u.next=null,o===null?l=f:o.next=f,o=u;var m=e.alternate;m!==null&&(m=m.updateQueue,i=m.lastBaseUpdate,i!==o&&(i===null?m.firstBaseUpdate=f:i.next=f,m.lastBaseUpdate=u))}if(l!==null){var p=s.baseState;o=0,m=f=u=null,i=l;do{var g=i.lane,y=i.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:y,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var b=e,v=i;switch(g=t,y=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){p=b.call(y,p,g);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,g=typeof b=="function"?b.call(y,p,g):b,g==null)break e;p=He({},p,g);break e;case 2:gn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[i]:g.push(i))}else y={eventTime:y,lane:g,tag:i.tag,payload:i.payload,callback:i.callback,next:null},m===null?(f=m=y,u=p):m=m.next=y,o|=g;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;g=i,i=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(m===null&&(u=p),s.baseState=u,s.firstBaseUpdate=f,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);rr|=o,e.lanes=o,e.memoizedState=p}}function lc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var Bs={},Yt=_n(Bs),Ts=_n(Bs),Ls=_n(Bs);function qn(e){if(e===Bs)throw Error(F(174));return e}function Yi(e,t){switch($e(Ls,t),$e(Ts,e),$e(Yt,Bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ko(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ko(t,e)}_e(Yt),$e(Yt,t)}function Ur(){_e(Yt),_e(Ts),_e(Ls)}function yf(e){qn(Ls.current);var t=qn(Yt.current),n=ko(t,e.type);t!==n&&($e(Ts,e),$e(Yt,n))}function Ji(e){Ts.current===e&&(_e(Yt),_e(Ts))}var Ge=_n(0);function za(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hl=[];function Zi(){for(var e=0;e<Hl.length;e++)Hl[e]._workInProgressVersionPrimary=null;Hl.length=0}var ya=fn.ReactCurrentDispatcher,Vl=fn.ReactCurrentBatchConfig,nr=0,We=null,Xe=null,rt=null,Ga=!1,ps=!1,As=0,qh=0;function ct(){throw Error(F(321))}function Xi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ht(e[n],t[n]))return!1;return!0}function eu(e,t,n,r,s,l){if(nr=l,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ya.current=e===null||e.memoizedState===null?Zh:Xh,e=n(r,s),ps){l=0;do{if(ps=!1,As=0,25<=l)throw Error(F(301));l+=1,rt=Xe=null,t.updateQueue=null,ya.current=e0,e=n(r,s)}while(ps)}if(ya.current=Wa,t=Xe!==null&&Xe.next!==null,nr=0,rt=Xe=We=null,Ga=!1,t)throw Error(F(300));return e}function tu(){var e=As!==0;return As=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?We.memoizedState=rt=e:rt=rt.next=e,rt}function _t(){if(Xe===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=rt===null?We.memoizedState:rt.next;if(t!==null)rt=t,Xe=e;else{if(e===null)throw Error(F(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},rt===null?We.memoizedState=rt=e:rt=rt.next=e}return rt}function Rs(e,t){return typeof t=="function"?t(e):t}function Kl(e){var t=_t(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=Xe,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var i=o=null,u=null,f=l;do{var m=f.lane;if((nr&m)===m)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var p={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(i=u=p,o=r):u=u.next=p,We.lanes|=m,rr|=m}f=f.next}while(f!==null&&f!==l);u===null?o=r:u.next=i,Ht(r,t.memoizedState)||(jt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,We.lanes|=l,rr|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ql(e){var t=_t(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);Ht(l,t.memoizedState)||(jt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function wf(){}function bf(e,t){var n=We,r=_t(),s=t(),l=!Ht(r.memoizedState,s);if(l&&(r.memoizedState=s,jt=!0),r=r.queue,nu(Sf.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,$s(9,Nf.bind(null,n,r,s,t),void 0,null),st===null)throw Error(F(349));nr&30||jf(n,t,s)}return s}function jf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Nf(e,t,n,r){t.value=n,t.getSnapshot=r,kf(t)&&Ef(e)}function Sf(e,t,n){return n(function(){kf(t)&&Ef(e)})}function kf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ht(e,n)}catch{return!0}}function Ef(e){var t=un(e,1);t!==null&&Wt(t,e,1,-1)}function oc(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rs,lastRenderedState:e},t.queue=e,e=e.dispatch=Jh.bind(null,We,e),[t.memoizedState,e]}function $s(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cf(){return _t().memoizedState}function wa(e,t,n,r){var s=Kt();We.flags|=e,s.memoizedState=$s(1|t,n,void 0,r===void 0?null:r)}function ul(e,t,n,r){var s=_t();r=r===void 0?null:r;var l=void 0;if(Xe!==null){var o=Xe.memoizedState;if(l=o.destroy,r!==null&&Xi(r,o.deps)){s.memoizedState=$s(t,n,l,r);return}}We.flags|=e,s.memoizedState=$s(1|t,n,l,r)}function ic(e,t){return wa(8390656,8,e,t)}function nu(e,t){return ul(2048,8,e,t)}function Pf(e,t){return ul(4,2,e,t)}function Tf(e,t){return ul(4,4,e,t)}function Lf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Af(e,t,n){return n=n!=null?n.concat([e]):null,ul(4,4,Lf.bind(null,t,e),n)}function ru(){}function Rf(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $f(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Xi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function If(e,t,n){return nr&21?(Ht(n,t)||(n=Od(),We.lanes|=n,rr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=n)}function Qh(e,t){var n=Le;Le=n!==0&&4>n?n:4,e(!0);var r=Vl.transition;Vl.transition={};try{e(!1),t()}finally{Le=n,Vl.transition=r}}function Uf(){return _t().memoizedState}function Yh(e,t,n){var r=Ln(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Df(e))_f(t,n);else if(n=gf(e,t,n,r),n!==null){var s=vt();Wt(n,e,r,s),Of(n,t,r)}}function Jh(e,t,n){var r=Ln(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Df(e))_f(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,i=l(o,n);if(s.hasEagerState=!0,s.eagerState=i,Ht(i,o)){var u=t.interleaved;u===null?(s.next=s,qi(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=gf(e,t,s,r),n!==null&&(s=vt(),Wt(n,e,r,s),Of(n,t,r))}}function Df(e){var t=e.alternate;return e===We||t!==null&&t===We}function _f(e,t){ps=Ga=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Of(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ii(e,n)}}var Wa={readContext:Dt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},Zh={readContext:Dt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:ic,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wa(4194308,4,Lf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4194308,4,e,t)},useInsertionEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=Kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Kt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yh.bind(null,We,e),[r.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:oc,useDebugValue:ru,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=oc(!1),t=e[0];return e=Qh.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=We,s=Kt();if(Oe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),st===null)throw Error(F(349));nr&30||jf(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,ic(Sf.bind(null,r,l,e),[e]),r.flags|=2048,$s(9,Nf.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Kt(),t=st.identifierPrefix;if(Oe){var n=rn,r=nn;n=(r&~(1<<32-Gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=As++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xh={readContext:Dt,useCallback:Rf,useContext:Dt,useEffect:nu,useImperativeHandle:Af,useInsertionEffect:Pf,useLayoutEffect:Tf,useMemo:$f,useReducer:Kl,useRef:Cf,useState:function(){return Kl(Rs)},useDebugValue:ru,useDeferredValue:function(e){var t=_t();return If(t,Xe.memoizedState,e)},useTransition:function(){var e=Kl(Rs)[0],t=_t().memoizedState;return[e,t]},useMutableSource:wf,useSyncExternalStore:bf,useId:Uf,unstable_isNewReconciler:!1},e0={readContext:Dt,useCallback:Rf,useContext:Dt,useEffect:nu,useImperativeHandle:Af,useInsertionEffect:Pf,useLayoutEffect:Tf,useMemo:$f,useReducer:ql,useRef:Cf,useState:function(){return ql(Rs)},useDebugValue:ru,useDeferredValue:function(e){var t=_t();return Xe===null?t.memoizedState=e:If(t,Xe.memoizedState,e)},useTransition:function(){var e=ql(Rs)[0],t=_t().memoizedState;return[e,t]},useMutableSource:wf,useSyncExternalStore:bf,useId:Uf,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cl={isMounted:function(e){return(e=e._reactInternals)?lr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vt(),s=Ln(e),l=sn(r,s);l.payload=t,n!=null&&(l.callback=n),t=Pn(e,l,s),t!==null&&(Wt(t,e,s,r),va(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vt(),s=Ln(e),l=sn(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Pn(e,l,s),t!==null&&(Wt(t,e,s,r),va(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vt(),r=Ln(e),s=sn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Pn(e,s,r),t!==null&&(Wt(t,e,r,n),va(t,e,r))}};function uc(e,t,n,r,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!ks(n,r)||!ks(s,l):!0}function Mf(e,t,n){var r=!1,s=In,l=t.contextType;return typeof l=="object"&&l!==null?l=Dt(l):(s=St(t)?er:ht.current,r=t.contextTypes,l=(r=r!=null)?Rr(e,s):In),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function cc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cl.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Qi(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Dt(l):(l=St(t)?er:ht.current,s.context=Rr(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Vo(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&cl.enqueueReplaceState(s,s.state,null),Ba(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Dr(e,t){try{var n="",r=t;do n+=Pp(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var t0=typeof WeakMap=="function"?WeakMap:Map;function Ff(e,t,n){n=sn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Va||(Va=!0,si=r),qo(e,t)},n}function Bf(e,t,n){n=sn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){qo(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){qo(e,t),typeof r!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function dc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new t0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=h0.bind(null,e,t,n),t.then(e,e))}function fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sn(-1,1),t.tag=2,Pn(n,t,1))),n.lanes|=1),e)}var n0=fn.ReactCurrentOwner,jt=!1;function gt(e,t,n,r){t.child=e===null?xf(t,null,n,r):Ir(t,e.child,n,r)}function pc(e,t,n,r,s){n=n.render;var l=t.ref;return Pr(t,s),r=eu(e,t,n,r,l,s),n=tu(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cn(e,t,s)):(Oe&&n&&zi(t),t.flags|=1,gt(e,t,r,s),t.child)}function hc(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!du(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,zf(e,t,l,r,s)):(e=Sa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:ks,n(o,r)&&e.ref===t.ref)return cn(e,t,s)}return t.flags|=1,e=An(l,r),e.ref=t.ref,e.return=t,t.child=e}function zf(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(ks(l,r)&&e.ref===t.ref)if(jt=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(jt=!0);else return t.lanes=e.lanes,cn(e,t,s)}return Qo(e,t,n,r,s)}function Gf(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Nr,Et),Et|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(Nr,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,$e(Nr,Et),Et|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,$e(Nr,Et),Et|=r;return gt(e,t,s,n),t.child}function Wf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qo(e,t,n,r,s){var l=St(n)?er:ht.current;return l=Rr(t,l),Pr(t,s),n=eu(e,t,n,r,l,s),r=tu(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,cn(e,t,s)):(Oe&&r&&zi(t),t.flags|=1,gt(e,t,n,s),t.child)}function xc(e,t,n,r,s){if(St(n)){var l=!0;Da(t)}else l=!1;if(Pr(t,s),t.stateNode===null)ba(e,t),Mf(t,n,r),Ko(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var u=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=Dt(f):(f=St(n)?er:ht.current,f=Rr(t,f));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==r||u!==f)&&cc(t,o,r,f),gn=!1;var g=t.memoizedState;o.state=g,Ba(t,r,o,s),u=t.memoizedState,i!==r||g!==u||Nt.current||gn?(typeof m=="function"&&(Vo(t,n,m,r),u=t.memoizedState),(i=gn||uc(t,n,i,r,g,u,f))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=f,r=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vf(e,t),i=t.memoizedProps,f=t.type===t.elementType?i:Ft(t.type,i),o.props=f,p=t.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Dt(u):(u=St(n)?er:ht.current,u=Rr(t,u));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==p||g!==u)&&cc(t,o,r,u),gn=!1,g=t.memoizedState,o.state=g,Ba(t,r,o,s);var b=t.memoizedState;i!==p||g!==b||Nt.current||gn?(typeof y=="function"&&(Vo(t,n,y,r),b=t.memoizedState),(f=gn||uc(t,n,f,r,g,b,u)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=u,r=f):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Yo(e,t,n,r,l,s)}function Yo(e,t,n,r,s,l){Wf(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&tc(t,n,!1),cn(e,t,l);r=t.stateNode,n0.current=t;var i=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ir(t,e.child,null,l),t.child=Ir(t,null,i,l)):gt(e,t,i,l),t.memoizedState=r.state,s&&tc(t,n,!0),t.child}function Hf(e){var t=e.stateNode;t.pendingContext?ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ec(e,t.context,!1),Yi(e,t.containerInfo)}function gc(e,t,n,r,s){return $r(),Wi(s),t.flags|=256,gt(e,t,n,r),t.child}var Jo={dehydrated:null,treeContext:null,retryLane:0};function Zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vf(e,t,n){var r=t.pendingProps,s=Ge.current,l=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),$e(Ge,s&1),e===null)return Wo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=ml(o,r,0,null),e=Zn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Zo(n),t.memoizedState=Jo,e):su(t,o));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return r0(e,t,o,r,i,s,n);if(l){l=r.fallback,o=t.mode,s=e.child,i=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=An(s,u),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?l=An(i,l):(l=Zn(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?Zo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Jo,r}return l=e.child,e=l.sibling,r=An(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function su(e,t){return t=ml({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function aa(e,t,n,r){return r!==null&&Wi(r),Ir(t,e.child,null,n),e=su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function r0(e,t,n,r,s,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Ql(Error(F(422))),aa(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=ml({mode:"visible",children:r.children},s,0,null),l=Zn(l,s,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Ir(t,e.child,null,o),t.child.memoizedState=Zo(o),t.memoizedState=Jo,l);if(!(t.mode&1))return aa(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,l=Error(F(419)),r=Ql(l,r,void 0),aa(e,t,o,r)}if(i=(o&e.childLanes)!==0,jt||i){if(r=st,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,un(e,s),Wt(r,e,s,-1))}return cu(),r=Ql(Error(F(421))),aa(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=x0.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Ct=Cn(s.nextSibling),Pt=t,Oe=!0,zt=null,e!==null&&(Rt[$t++]=nn,Rt[$t++]=rn,Rt[$t++]=tr,nn=e.id,rn=e.overflow,tr=t),t=su(t,r.children),t.flags|=4096,t)}function vc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ho(e.return,t,n)}function Yl(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function Kf(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(gt(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vc(e,n,t);else if(e.tag===19)vc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&za(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yl(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&za(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yl(t,!0,n,null,l);break;case"together":Yl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ba(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),rr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=An(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=An(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function s0(e,t,n){switch(t.tag){case 3:Hf(t),$r();break;case 5:yf(t);break;case 1:St(t.type)&&Da(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;$e(Ma,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?Vf(e,t,n):($e(Ge,Ge.current&1),e=cn(e,t,n),e!==null?e.sibling:null);$e(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Kf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,Gf(e,t,n)}return cn(e,t,n)}var qf,Xo,Qf,Yf;qf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xo=function(){};Qf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,qn(Yt.current);var l=null;switch(n){case"input":s=bo(e,s),r=bo(e,r),l=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),l=[];break;case"textarea":s=So(e,s),r=So(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ia)}Eo(n,r);var o;n=null;for(f in s)if(!r.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var i=s[f];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(vs.hasOwnProperty(f)?l||(l=[]):(l=l||[]).push(f,null));for(f in r){var u=r[f];if(i=s!=null?s[f]:void 0,r.hasOwnProperty(f)&&u!==i&&(u!=null||i!=null))if(f==="style")if(i){for(o in i)!i.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&i[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(l||(l=[]),l.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(l=l||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(vs.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&De("scroll",e),l||i===u||(l=[])):(l=l||[]).push(f,u))}n&&(l=l||[]).push("style",n);var f=l;(t.updateQueue=f)&&(t.flags|=4)}};Yf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xr(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function a0(e,t,n){var r=t.pendingProps;switch(Gi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return St(t.type)&&Ua(),dt(t),null;case 3:return r=t.stateNode,Ur(),_e(Nt),_e(ht),Zi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ra(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zt!==null&&(oi(zt),zt=null))),Xo(e,t),dt(t),null;case 5:Ji(t);var s=qn(Ls.current);if(n=t.type,e!==null&&t.stateNode!=null)Qf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return dt(t),null}if(e=qn(Yt.current),ra(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[qt]=t,r[Ps]=l,e=(t.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<ls.length;s++)De(ls[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Cu(r,l),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},De("invalid",r);break;case"textarea":Tu(r,l),De("invalid",r)}Eo(n,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var i=l[o];o==="children"?typeof i=="string"?r.textContent!==i&&(l.suppressHydrationWarning!==!0&&na(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(l.suppressHydrationWarning!==!0&&na(r.textContent,i,e),s=["children",""+i]):vs.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":qs(r),Pu(r,l,!0);break;case"textarea":qs(r),Lu(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Ia)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[qt]=t,e[Ps]=r,qf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Co(n,r),n){case"dialog":De("cancel",e),De("close",e),s=r;break;case"iframe":case"object":case"embed":De("load",e),s=r;break;case"video":case"audio":for(s=0;s<ls.length;s++)De(ls[s],e);s=r;break;case"source":De("error",e),s=r;break;case"img":case"image":case"link":De("error",e),De("load",e),s=r;break;case"details":De("toggle",e),s=r;break;case"input":Cu(e,r),s=bo(e,r),De("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),De("invalid",e);break;case"textarea":Tu(e,r),s=So(e,r),De("invalid",e);break;default:s=r}Eo(n,s),i=s;for(l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="style"?Ed(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Sd(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ys(e,u):typeof u=="number"&&ys(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(vs.hasOwnProperty(l)?u!=null&&l==="onScroll"&&De("scroll",e):u!=null&&Pi(e,l,u,o))}switch(n){case"input":qs(e),Pu(e,r,!1);break;case"textarea":qs(e),Lu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$n(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Sr(e,!!r.multiple,l,!1):r.defaultValue!=null&&Sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ia)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(e&&t.stateNode!=null)Yf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=qn(Ls.current),qn(Yt.current),ra(t)){if(r=t.stateNode,n=t.memoizedProps,r[qt]=t,(l=r.nodeValue!==n)&&(e=Pt,e!==null))switch(e.tag){case 3:na(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&na(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return dt(t),null;case 13:if(_e(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&Ct!==null&&t.mode&1&&!(t.flags&128))pf(),$r(),t.flags|=98560,l=!1;else if(l=ra(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(F(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(F(317));l[qt]=t}else $r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dt(t),l=!1}else zt!==null&&(oi(zt),zt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?et===0&&(et=3):cu())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return Ur(),Xo(e,t),e===null&&Es(t.stateNode.containerInfo),dt(t),null;case 10:return Ki(t.type._context),dt(t),null;case 17:return St(t.type)&&Ua(),dt(t),null;case 19:if(_e(Ge),l=t.memoizedState,l===null)return dt(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)Xr(l,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=za(e),o!==null){for(t.flags|=128,Xr(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Ge,Ge.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ye()>_r&&(t.flags|=128,r=!0,Xr(l,!1),t.lanes=4194304)}else{if(!r)if(e=za(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Oe)return dt(t),null}else 2*Ye()-l.renderingStartTime>_r&&n!==1073741824&&(t.flags|=128,r=!0,Xr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ye(),t.sibling=null,n=Ge.current,$e(Ge,r?n&1|2:n&1),t):(dt(t),null);case 22:case 23:return uu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function l0(e,t){switch(Gi(t),t.tag){case 1:return St(t.type)&&Ua(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ur(),_e(Nt),_e(ht),Zi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ji(t),null;case 13:if(_e(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));$r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Ge),null;case 4:return Ur(),null;case 10:return Ki(t.type._context),null;case 22:case 23:return uu(),null;case 24:return null;default:return null}}var la=!1,ft=!1,o0=typeof WeakSet=="function"?WeakSet:Set,q=null;function jr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(e,t,r)}else n.current=null}function ei(e,t,n){try{n()}catch(r){Ke(e,t,r)}}var yc=!1;function i0(e,t){if(_o=Aa,e=ef(),Bi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,i=-1,u=-1,f=0,m=0,p=e,g=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(i=o+s),p!==l||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)g=p,p=y;for(;;){if(p===e)break t;if(g===n&&++f===s&&(i=o),g===l&&++m===r&&(u=o),(y=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=y}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oo={focusedElem:e,selectionRange:n},Aa=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,j=b.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ft(t.type,v),j);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(w){Ke(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return b=yc,yc=!1,b}function hs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&ei(t,n,l)}s=s.next}while(s!==r)}}function dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ti(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jf(e){var t=e.alternate;t!==null&&(e.alternate=null,Jf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[Ps],delete t[Bo],delete t[Wh],delete t[Hh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zf(e){return e.tag===5||e.tag===3||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ni(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ia));else if(r!==4&&(e=e.child,e!==null))for(ni(e,t,n),e=e.sibling;e!==null;)ni(e,t,n),e=e.sibling}function ri(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ri(e,t,n),e=e.sibling;e!==null;)ri(e,t,n),e=e.sibling}var at=null,Bt=!1;function pn(e,t,n){for(n=n.child;n!==null;)Xf(e,t,n),n=n.sibling}function Xf(e,t,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(rl,n)}catch{}switch(n.tag){case 5:ft||jr(n,t);case 6:var r=at,s=Bt;at=null,pn(e,t,n),at=r,Bt=s,at!==null&&(Bt?(e=at,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(Bt?(e=at,n=n.stateNode,e.nodeType===8?Gl(e.parentNode,n):e.nodeType===1&&Gl(e,n),Ns(e)):Gl(at,n.stateNode));break;case 4:r=at,s=Bt,at=n.stateNode.containerInfo,Bt=!0,pn(e,t,n),at=r,Bt=s;break;case 0:case 11:case 14:case 15:if(!ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&ei(n,t,o),s=s.next}while(s!==r)}pn(e,t,n);break;case 1:if(!ft&&(jr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Ke(n,t,i)}pn(e,t,n);break;case 21:pn(e,t,n);break;case 22:n.mode&1?(ft=(r=ft)||n.memoizedState!==null,pn(e,t,n),ft=r):pn(e,t,n);break;default:pn(e,t,n)}}function bc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new o0),t.forEach(function(r){var s=g0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:at=i.stateNode,Bt=!1;break e;case 3:at=i.stateNode.containerInfo,Bt=!0;break e;case 4:at=i.stateNode.containerInfo,Bt=!0;break e}i=i.return}if(at===null)throw Error(F(160));Xf(l,o,s),at=null,Bt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(f){Ke(s,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)em(t,e),t=t.sibling}function em(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Vt(e),r&4){try{hs(3,e,e.return),dl(3,e)}catch(v){Ke(e,e.return,v)}try{hs(5,e,e.return)}catch(v){Ke(e,e.return,v)}}break;case 1:Mt(t,e),Vt(e),r&512&&n!==null&&jr(n,n.return);break;case 5:if(Mt(t,e),Vt(e),r&512&&n!==null&&jr(n,n.return),e.flags&32){var s=e.stateNode;try{ys(s,"")}catch(v){Ke(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&l.type==="radio"&&l.name!=null&&bd(s,l),Co(i,o);var f=Co(i,l);for(o=0;o<u.length;o+=2){var m=u[o],p=u[o+1];m==="style"?Ed(s,p):m==="dangerouslySetInnerHTML"?Sd(s,p):m==="children"?ys(s,p):Pi(s,m,p,f)}switch(i){case"input":jo(s,l);break;case"textarea":jd(s,l);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var y=l.value;y!=null?Sr(s,!!l.multiple,y,!1):g!==!!l.multiple&&(l.defaultValue!=null?Sr(s,!!l.multiple,l.defaultValue,!0):Sr(s,!!l.multiple,l.multiple?[]:"",!1))}s[Ps]=l}catch(v){Ke(e,e.return,v)}}break;case 6:if(Mt(t,e),Vt(e),r&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(v){Ke(e,e.return,v)}}break;case 3:if(Mt(t,e),Vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(v){Ke(e,e.return,v)}break;case 4:Mt(t,e),Vt(e);break;case 13:Mt(t,e),Vt(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(ou=Ye())),r&4&&bc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(ft=(f=ft)||m,Mt(t,e),ft=f):Mt(t,e),Vt(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!m&&e.mode&1)for(q=e,m=e.child;m!==null;){for(p=q=m;q!==null;){switch(g=q,y=g.child,g.tag){case 0:case 11:case 14:case 15:hs(4,g,g.return);break;case 1:jr(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){Ke(r,n,v)}}break;case 5:jr(g,g.return);break;case 22:if(g.memoizedState!==null){Nc(p);continue}}y!==null?(y.return=g,q=y):Nc(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{s=p.stateNode,f?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(i=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=kd("display",o))}catch(v){Ke(e,e.return,v)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(v){Ke(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Mt(t,e),Vt(e),r&4&&bc(e);break;case 21:break;default:Mt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zf(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ys(s,""),r.flags&=-33);var l=wc(e);ri(e,l,s);break;case 3:case 4:var o=r.stateNode.containerInfo,i=wc(e);ni(e,i,o);break;default:throw Error(F(161))}}catch(u){Ke(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u0(e,t,n){q=e,tm(e)}function tm(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var s=q,l=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||la;if(!o){var i=s.alternate,u=i!==null&&i.memoizedState!==null||ft;i=la;var f=ft;if(la=o,(ft=u)&&!f)for(q=s;q!==null;)o=q,u=o.child,o.tag===22&&o.memoizedState!==null?Sc(s):u!==null?(u.return=o,q=u):Sc(s);for(;l!==null;)q=l,tm(l),l=l.sibling;q=s,la=i,ft=f}jc(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,q=l):jc(e)}}function jc(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||dl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ft)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ft(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&lc(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}lc(t,o,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&Ns(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}ft||t.flags&512&&ti(t)}catch(g){Ke(t,t.return,g)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function Nc(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function Sc(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dl(4,t)}catch(u){Ke(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Ke(t,s,u)}}var l=t.return;try{ti(t)}catch(u){Ke(t,l,u)}break;case 5:var o=t.return;try{ti(t)}catch(u){Ke(t,o,u)}}}catch(u){Ke(t,t.return,u)}if(t===e){q=null;break}var i=t.sibling;if(i!==null){i.return=t.return,q=i;break}q=t.return}}var c0=Math.ceil,Ha=fn.ReactCurrentDispatcher,au=fn.ReactCurrentOwner,Ut=fn.ReactCurrentBatchConfig,Se=0,st=null,Ze=null,lt=0,Et=0,Nr=_n(0),et=0,Is=null,rr=0,fl=0,lu=0,xs=null,bt=null,ou=0,_r=1/0,en=null,Va=!1,si=null,Tn=null,oa=!1,jn=null,Ka=0,gs=0,ai=null,ja=-1,Na=0;function vt(){return Se&6?Ye():ja!==-1?ja:ja=Ye()}function Ln(e){return e.mode&1?Se&2&&lt!==0?lt&-lt:Kh.transition!==null?(Na===0&&(Na=Od()),Na):(e=Le,e!==0||(e=window.event,e=e===void 0?16:Hd(e.type)),e):1}function Wt(e,t,n,r){if(50<gs)throw gs=0,ai=null,Error(F(185));Os(e,n,r),(!(Se&2)||e!==st)&&(e===st&&(!(Se&2)&&(fl|=n),et===4&&yn(e,lt)),kt(e,r),n===1&&Se===0&&!(t.mode&1)&&(_r=Ye()+500,il&&On()))}function kt(e,t){var n=e.callbackNode;Kp(e,t);var r=La(e,e===st?lt:0);if(r===0)n!==null&&$u(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&$u(n),t===1)e.tag===0?Vh(kc.bind(null,e)):df(kc.bind(null,e)),zh(function(){!(Se&6)&&On()}),n=null;else{switch(Md(r)){case 1:n=$i;break;case 4:n=Dd;break;case 16:n=Ta;break;case 536870912:n=_d;break;default:n=Ta}n=um(n,nm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nm(e,t){if(ja=-1,Na=0,Se&6)throw Error(F(327));var n=e.callbackNode;if(Tr()&&e.callbackNode!==n)return null;var r=La(e,e===st?lt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=qa(e,r);else{t=r;var s=Se;Se|=2;var l=sm();(st!==e||lt!==t)&&(en=null,_r=Ye()+500,Jn(e,t));do try{m0();break}catch(i){rm(e,i)}while(!0);Vi(),Ha.current=l,Se=s,Ze!==null?t=0:(st=null,lt=0,t=et)}if(t!==0){if(t===2&&(s=Ro(e),s!==0&&(r=s,t=li(e,s))),t===1)throw n=Is,Jn(e,0),yn(e,r),kt(e,Ye()),n;if(t===6)yn(e,r);else{if(s=e.current.alternate,!(r&30)&&!d0(s)&&(t=qa(e,r),t===2&&(l=Ro(e),l!==0&&(r=l,t=li(e,l))),t===1))throw n=Is,Jn(e,0),yn(e,r),kt(e,Ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Wn(e,bt,en);break;case 3:if(yn(e,r),(r&130023424)===r&&(t=ou+500-Ye(),10<t)){if(La(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){vt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Fo(Wn.bind(null,e,bt,en),t);break}Wn(e,bt,en);break;case 4:if(yn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Gt(r);l=1<<o,o=t[o],o>s&&(s=o),r&=~l}if(r=s,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*c0(r/1960))-r,10<r){e.timeoutHandle=Fo(Wn.bind(null,e,bt,en),r);break}Wn(e,bt,en);break;case 5:Wn(e,bt,en);break;default:throw Error(F(329))}}}return kt(e,Ye()),e.callbackNode===n?nm.bind(null,e):null}function li(e,t){var n=xs;return e.current.memoizedState.isDehydrated&&(Jn(e,t).flags|=256),e=qa(e,t),e!==2&&(t=bt,bt=n,t!==null&&oi(t)),e}function oi(e){bt===null?bt=e:bt.push.apply(bt,e)}function d0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!Ht(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yn(e,t){for(t&=~lu,t&=~fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function kc(e){if(Se&6)throw Error(F(327));Tr();var t=La(e,0);if(!(t&1))return kt(e,Ye()),null;var n=qa(e,t);if(e.tag!==0&&n===2){var r=Ro(e);r!==0&&(t=r,n=li(e,r))}if(n===1)throw n=Is,Jn(e,0),yn(e,t),kt(e,Ye()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wn(e,bt,en),kt(e,Ye()),null}function iu(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(_r=Ye()+500,il&&On())}}function sr(e){jn!==null&&jn.tag===0&&!(Se&6)&&Tr();var t=Se;Se|=1;var n=Ut.transition,r=Le;try{if(Ut.transition=null,Le=1,e)return e()}finally{Le=r,Ut.transition=n,Se=t,!(Se&6)&&On()}}function uu(){Et=Nr.current,_e(Nr)}function Jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Bh(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(Gi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ua();break;case 3:Ur(),_e(Nt),_e(ht),Zi();break;case 5:Ji(r);break;case 4:Ur();break;case 13:_e(Ge);break;case 19:_e(Ge);break;case 10:Ki(r.type._context);break;case 22:case 23:uu()}n=n.return}if(st=e,Ze=e=An(e.current,null),lt=Et=t,et=0,Is=null,lu=fl=rr=0,bt=xs=null,Kn!==null){for(t=0;t<Kn.length;t++)if(n=Kn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=s,r.next=o}n.pending=r}Kn=null}return e}function rm(e,t){do{var n=Ze;try{if(Vi(),ya.current=Wa,Ga){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ga=!1}if(nr=0,rt=Xe=We=null,ps=!1,As=0,au.current=null,n===null||n.return===null){et=1,Is=t,Ze=null;break}e:{var l=e,o=n.return,i=n,u=t;if(t=lt,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,m=i,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=fc(o);if(y!==null){y.flags&=-257,mc(y,o,i,l,t),y.mode&1&&dc(l,f,t),t=y,u=f;var b=t.updateQueue;if(b===null){var v=new Set;v.add(u),t.updateQueue=v}else b.add(u);break e}else{if(!(t&1)){dc(l,f,t),cu();break e}u=Error(F(426))}}else if(Oe&&i.mode&1){var j=fc(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),mc(j,o,i,l,t),Wi(Dr(u,i));break e}}l=u=Dr(u,i),et!==4&&(et=2),xs===null?xs=[l]:xs.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=Ff(l,u,t);ac(l,h);break e;case 1:i=u;var d=l.type,x=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Tn===null||!Tn.has(x)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=Bf(l,i,t);ac(l,w);break e}}l=l.return}while(l!==null)}lm(n)}catch(C){t=C,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function sm(){var e=Ha.current;return Ha.current=Wa,e===null?Wa:e}function cu(){(et===0||et===3||et===2)&&(et=4),st===null||!(rr&268435455)&&!(fl&268435455)||yn(st,lt)}function qa(e,t){var n=Se;Se|=2;var r=sm();(st!==e||lt!==t)&&(en=null,Jn(e,t));do try{f0();break}catch(s){rm(e,s)}while(!0);if(Vi(),Se=n,Ha.current=r,Ze!==null)throw Error(F(261));return st=null,lt=0,et}function f0(){for(;Ze!==null;)am(Ze)}function m0(){for(;Ze!==null&&!Op();)am(Ze)}function am(e){var t=im(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?lm(e):Ze=t,au.current=null}function lm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=l0(n,t),n!==null){n.flags&=32767,Ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Ze=null;return}}else if(n=a0(n,t,Et),n!==null){Ze=n;return}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);et===0&&(et=5)}function Wn(e,t,n){var r=Le,s=Ut.transition;try{Ut.transition=null,Le=1,p0(e,t,n,r)}finally{Ut.transition=s,Le=r}return null}function p0(e,t,n,r){do Tr();while(jn!==null);if(Se&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(qp(e,l),e===st&&(Ze=st=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oa||(oa=!0,um(Ta,function(){return Tr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ut.transition,Ut.transition=null;var o=Le;Le=1;var i=Se;Se|=4,au.current=null,i0(e,n),em(n,e),Ih(Oo),Aa=!!_o,Oo=_o=null,e.current=n,u0(n),Mp(),Se=i,Le=o,Ut.transition=l}else e.current=n;if(oa&&(oa=!1,jn=e,Ka=s),l=e.pendingLanes,l===0&&(Tn=null),zp(n.stateNode),kt(e,Ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Va)throw Va=!1,e=si,si=null,e;return Ka&1&&e.tag!==0&&Tr(),l=e.pendingLanes,l&1?e===ai?gs++:(gs=0,ai=e):gs=0,On(),null}function Tr(){if(jn!==null){var e=Md(Ka),t=Ut.transition,n=Le;try{if(Ut.transition=null,Le=16>e?16:e,jn===null)var r=!1;else{if(e=jn,jn=null,Ka=0,Se&6)throw Error(F(331));var s=Se;for(Se|=4,q=e.current;q!==null;){var l=q,o=l.child;if(q.flags&16){var i=l.deletions;if(i!==null){for(var u=0;u<i.length;u++){var f=i[u];for(q=f;q!==null;){var m=q;switch(m.tag){case 0:case 11:case 15:hs(8,m,l)}var p=m.child;if(p!==null)p.return=m,q=p;else for(;q!==null;){m=q;var g=m.sibling,y=m.return;if(Jf(m),m===f){q=null;break}if(g!==null){g.return=y,q=g;break}q=y}}}var b=l.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}q=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,q=o;else e:for(;q!==null;){if(l=q,l.flags&2048)switch(l.tag){case 0:case 11:case 15:hs(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,q=h;break e}q=l.return}}var d=e.current;for(q=d;q!==null;){o=q;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,q=x;else e:for(o=d;q!==null;){if(i=q,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:dl(9,i)}}catch(C){Ke(i,i.return,C)}if(i===o){q=null;break e}var w=i.sibling;if(w!==null){w.return=i.return,q=w;break e}q=i.return}}if(Se=s,On(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(rl,e)}catch{}r=!0}return r}finally{Le=n,Ut.transition=t}}return!1}function Ec(e,t,n){t=Dr(n,t),t=Ff(e,t,1),e=Pn(e,t,1),t=vt(),e!==null&&(Os(e,1,t),kt(e,t))}function Ke(e,t,n){if(e.tag===3)Ec(e,e,n);else for(;t!==null;){if(t.tag===3){Ec(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tn===null||!Tn.has(r))){e=Dr(n,e),e=Bf(t,e,1),t=Pn(t,e,1),e=vt(),t!==null&&(Os(t,1,e),kt(t,e));break}}t=t.return}}function h0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=vt(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(lt&n)===n&&(et===4||et===3&&(lt&130023424)===lt&&500>Ye()-ou?Jn(e,0):lu|=n),kt(e,t)}function om(e,t){t===0&&(e.mode&1?(t=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):t=1);var n=vt();e=un(e,t),e!==null&&(Os(e,t,n),kt(e,n))}function x0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),om(e,n)}function g0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),om(e,n)}var im;im=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jt=!1,s0(e,t,n);jt=!!(e.flags&131072)}else jt=!1,Oe&&t.flags&1048576&&ff(t,Oa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ba(e,t),e=t.pendingProps;var s=Rr(t,ht.current);Pr(t,n),s=eu(null,t,r,e,s,n);var l=tu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(r)?(l=!0,Da(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qi(t),s.updater=cl,t.stateNode=s,s._reactInternals=t,Ko(t,r,e,n),t=Yo(null,t,r,!0,l,n)):(t.tag=0,Oe&&l&&zi(t),gt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ba(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=y0(r),e=Ft(r,e),s){case 0:t=Qo(null,t,r,e,n);break e;case 1:t=xc(null,t,r,e,n);break e;case 11:t=pc(null,t,r,e,n);break e;case 14:t=hc(null,t,r,Ft(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),Qo(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),xc(e,t,r,s,n);case 3:e:{if(Hf(t),e===null)throw Error(F(387));r=t.pendingProps,l=t.memoizedState,s=l.element,vf(e,t),Ba(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Dr(Error(F(423)),t),t=gc(e,t,r,n,s);break e}else if(r!==s){s=Dr(Error(F(424)),t),t=gc(e,t,r,n,s);break e}else for(Ct=Cn(t.stateNode.containerInfo.firstChild),Pt=t,Oe=!0,zt=null,n=xf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($r(),r===s){t=cn(e,t,n);break e}gt(e,t,r,n)}t=t.child}return t;case 5:return yf(t),e===null&&Wo(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,Mo(r,s)?o=null:l!==null&&Mo(r,l)&&(t.flags|=32),Wf(e,t),gt(e,t,o,n),t.child;case 6:return e===null&&Wo(t),null;case 13:return Vf(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ir(t,null,r,n):gt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),pc(e,t,r,s,n);case 7:return gt(e,t,t.pendingProps,n),t.child;case 8:return gt(e,t,t.pendingProps.children,n),t.child;case 12:return gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,$e(Ma,r._currentValue),r._currentValue=o,l!==null)if(Ht(l.value,o)){if(l.children===s.children&&!Nt.current){t=cn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var i=l.dependencies;if(i!==null){o=l.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=sn(-1,n&-n),u.tag=2;var f=l.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?u.next=u:(u.next=m.next,m.next=u),f.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Ho(l.return,n,t),i.lanes|=n;break}u=u.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(F(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),Ho(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}gt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Pr(t,n),s=Dt(s),r=r(s),t.flags|=1,gt(e,t,r,n),t.child;case 14:return r=t.type,s=Ft(r,t.pendingProps),s=Ft(r.type,s),hc(e,t,r,s,n);case 15:return zf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ft(r,s),ba(e,t),t.tag=1,St(r)?(e=!0,Da(t)):e=!1,Pr(t,n),Mf(t,r,s),Ko(t,r,s,n),Yo(null,t,r,!0,e,n);case 19:return Kf(e,t,n);case 22:return Gf(e,t,n)}throw Error(F(156,t.tag))};function um(e,t){return Ud(e,t)}function v0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new v0(e,t,n,r)}function du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function y0(e){if(typeof e=="function")return du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Li)return 11;if(e===Ai)return 14}return 2}function An(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sa(e,t,n,r,s,l){var o=2;if(r=e,typeof e=="function")du(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case mr:return Zn(n.children,s,l,t);case Ti:o=8,s|=8;break;case go:return e=It(12,n,t,s|2),e.elementType=go,e.lanes=l,e;case vo:return e=It(13,n,t,s),e.elementType=vo,e.lanes=l,e;case yo:return e=It(19,n,t,s),e.elementType=yo,e.lanes=l,e;case vd:return ml(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xd:o=10;break e;case gd:o=9;break e;case Li:o=11;break e;case Ai:o=14;break e;case xn:o=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=It(o,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function Zn(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function ml(e,t,n,r){return e=It(22,e,r,t),e.elementType=vd,e.lanes=n,e.stateNode={isHidden:!1},e}function Jl(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function Zl(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function w0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rl(0),this.expirationTimes=Rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fu(e,t,n,r,s,l,o,i,u){return e=new w0(e,t,n,i,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=It(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qi(l),e}function b0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cm(e){if(!e)return In;e=e._reactInternals;e:{if(lr(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(St(n))return cf(e,n,t)}return t}function dm(e,t,n,r,s,l,o,i,u){return e=fu(n,r,!0,e,s,l,o,i,u),e.context=cm(null),n=e.current,r=vt(),s=Ln(n),l=sn(r,s),l.callback=t??null,Pn(n,l,s),e.current.lanes=s,Os(e,s,r),kt(e,r),e}function pl(e,t,n,r){var s=t.current,l=vt(),o=Ln(s);return n=cm(n),t.context===null?t.context=n:t.pendingContext=n,t=sn(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pn(s,t,o),e!==null&&(Wt(e,s,o,l),va(e,s,o)),o}function Qa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mu(e,t){Cc(e,t),(e=e.alternate)&&Cc(e,t)}function j0(){return null}var fm=typeof reportError=="function"?reportError:function(e){console.error(e)};function pu(e){this._internalRoot=e}hl.prototype.render=pu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));pl(e,t,null,null)};hl.prototype.unmount=pu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sr(function(){pl(null,e,null,null)}),t[on]=null}};function hl(e){this._internalRoot=e}hl.prototype.unstable_scheduleHydration=function(e){if(e){var t=zd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vn.length&&t!==0&&t<vn[n].priority;n++);vn.splice(n,0,e),n===0&&Wd(e)}};function hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pc(){}function N0(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var f=Qa(o);l.call(f)}}var o=dm(t,r,e,0,null,!1,!1,"",Pc);return e._reactRootContainer=o,e[on]=o.current,Es(e.nodeType===8?e.parentNode:e),sr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var f=Qa(u);i.call(f)}}var u=fu(e,0,!1,null,null,!1,!1,"",Pc);return e._reactRootContainer=u,e[on]=u.current,Es(e.nodeType===8?e.parentNode:e),sr(function(){pl(t,u,n,r)}),u}function gl(e,t,n,r,s){var l=n._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var i=s;s=function(){var u=Qa(o);i.call(u)}}pl(t,o,e,s)}else o=N0(n,t,e,s,r);return Qa(o)}Fd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=as(t.pendingLanes);n!==0&&(Ii(t,n|1),kt(t,Ye()),!(Se&6)&&(_r=Ye()+500,On()))}break;case 13:sr(function(){var r=un(e,1);if(r!==null){var s=vt();Wt(r,e,1,s)}}),mu(e,1)}};Ui=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=vt();Wt(t,e,134217728,n)}mu(e,134217728)}};Bd=function(e){if(e.tag===13){var t=Ln(e),n=un(e,t);if(n!==null){var r=vt();Wt(n,e,t,r)}mu(e,t)}};zd=function(){return Le};Gd=function(e,t){var n=Le;try{return Le=e,t()}finally{Le=n}};To=function(e,t,n){switch(t){case"input":if(jo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ol(r);if(!s)throw Error(F(90));wd(r),jo(r,s)}}}break;case"textarea":jd(e,n);break;case"select":t=n.value,t!=null&&Sr(e,!!n.multiple,t,!1)}};Td=iu;Ld=sr;var S0={usingClientEntryPoint:!1,Events:[Fs,gr,ol,Cd,Pd,iu]},es={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k0={bundleType:es.bundleType,version:es.version,rendererPackageName:es.rendererPackageName,rendererConfig:es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$d(e),e===null?null:e.stateNode},findFiberByHostInstance:es.findFiberByHostInstance||j0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{rl=ia.inject(k0),Qt=ia}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S0;Lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hu(t))throw Error(F(200));return b0(e,t,null,n)};Lt.createRoot=function(e,t){if(!hu(e))throw Error(F(299));var n=!1,r="",s=fm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=fu(e,1,!1,null,null,n,!1,r,s),e[on]=t.current,Es(e.nodeType===8?e.parentNode:e),new pu(t)};Lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=$d(t),e=e===null?null:e.stateNode,e};Lt.flushSync=function(e){return sr(e)};Lt.hydrate=function(e,t,n){if(!xl(t))throw Error(F(200));return gl(null,e,t,!0,n)};Lt.hydrateRoot=function(e,t,n){if(!hu(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",o=fm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=dm(t,null,e,1,n??null,s,!1,l,o),e[on]=t.current,Es(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new hl(t)};Lt.render=function(e,t,n){if(!xl(t))throw Error(F(200));return gl(null,e,t,!1,n)};Lt.unmountComponentAtNode=function(e){if(!xl(e))throw Error(F(40));return e._reactRootContainer?(sr(function(){gl(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1};Lt.unstable_batchedUpdates=iu;Lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xl(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return gl(e,t,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mm)}catch(e){console.error(e)}}mm(),fd.exports=Lt;var pm=fd.exports,Tc=pm;ho.createRoot=Tc.createRoot,ho.hydrateRoot=Tc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Us(){return Us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Us.apply(this,arguments)}var Nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Nn||(Nn={}));const Lc="popstate";function E0(e){e===void 0&&(e={});function t(r,s){let{pathname:l,search:o,hash:i}=r.location;return ii("",{pathname:l,search:o,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ya(s)}return P0(t,n,null,e)}function qe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function C0(){return Math.random().toString(36).substr(2,8)}function Ac(e,t){return{usr:e.state,key:e.key,idx:t}}function ii(e,t,n,r){return n===void 0&&(n=null),Us({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?zr(t):t,{state:n,key:t&&t.key||r||C0()})}function Ya(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function zr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function P0(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,o=s.history,i=Nn.Pop,u=null,f=m();f==null&&(f=0,o.replaceState(Us({},o.state,{idx:f}),""));function m(){return(o.state||{idx:null}).idx}function p(){i=Nn.Pop;let j=m(),h=j==null?null:j-f;f=j,u&&u({action:i,location:v.location,delta:h})}function g(j,h){i=Nn.Push;let d=ii(v.location,j,h);f=m()+1;let x=Ac(d,f),w=v.createHref(d);try{o.pushState(x,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(w)}l&&u&&u({action:i,location:v.location,delta:1})}function y(j,h){i=Nn.Replace;let d=ii(v.location,j,h);f=m();let x=Ac(d,f),w=v.createHref(d);o.replaceState(x,"",w),l&&u&&u({action:i,location:v.location,delta:0})}function b(j){let h=s.location.origin!=="null"?s.location.origin:s.location.href,d=typeof j=="string"?j:Ya(j);return d=d.replace(/ $/,"%20"),qe(h,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,h)}let v={get action(){return i},get location(){return e(s,o)},listen(j){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Lc,p),u=j,()=>{s.removeEventListener(Lc,p),u=null}},createHref(j){return t(s,j)},createURL:b,encodeLocation(j){let h=b(j);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:g,replace:y,go(j){return o.go(j)}};return v}var Rc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Rc||(Rc={}));function T0(e,t,n){return n===void 0&&(n="/"),L0(e,t,n)}function L0(e,t,n,r){let s=typeof t=="string"?zr(t):t,l=Or(s.pathname||"/",n);if(l==null)return null;let o=hm(e);A0(o);let i=null;for(let u=0;i==null&&u<o.length;++u){let f=z0(l);i=F0(o[u],f)}return i}function hm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,o,i)=>{let u={relativePath:i===void 0?l.path||"":i,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};u.relativePath.startsWith("/")&&(qe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=Rn([r,u.relativePath]),m=n.concat(u);l.children&&l.children.length>0&&(qe(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),hm(l.children,t,m,f)),!(l.path==null&&!l.index)&&t.push({path:f,score:O0(f,l.index),routesMeta:m})};return e.forEach((l,o)=>{var i;if(l.path===""||!((i=l.path)!=null&&i.includes("?")))s(l,o);else for(let u of xm(l.path))s(l,o,u)}),t}function xm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let o=xm(r.join("/")),i=[];return i.push(...o.map(u=>u===""?l:[l,u].join("/"))),s&&i.push(...o),i.map(u=>e.startsWith("/")&&u===""?"/":u)}function A0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:M0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const R0=/^:[\w-]+$/,$0=3,I0=2,U0=1,D0=10,_0=-2,$c=e=>e==="*";function O0(e,t){let n=e.split("/"),r=n.length;return n.some($c)&&(r+=_0),t&&(r+=I0),n.filter(s=>!$c(s)).reduce((s,l)=>s+(R0.test(l)?$0:l===""?U0:D0),r)}function M0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function F0(e,t,n){let{routesMeta:r}=e,s={},l="/",o=[];for(let i=0;i<r.length;++i){let u=r[i],f=i===r.length-1,m=l==="/"?t:t.slice(l.length)||"/",p=ui({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),g=u.route;if(!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Rn([l,p.pathname]),pathnameBase:K0(Rn([l,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(l=Rn([l,p.pathnameBase]))}return o}function ui(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=B0(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],o=l.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((f,m,p)=>{let{paramName:g,isOptional:y}=m;if(g==="*"){let v=i[p]||"";o=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const b=i[p];return y&&!b?f[g]=void 0:f[g]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:o,pattern:e}}function B0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),xu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,u)=>(r.push({paramName:i,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function z0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Or(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const G0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W0=e=>G0.test(e);function H0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?zr(e):e,l;if(n)if(W0(n))l=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),xu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?l=Ic(n.substring(1),"/"):l=Ic(n,t)}else l=t;return{pathname:l,search:q0(r),hash:Q0(s)}}function Ic(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Xl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function V0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gm(e,t){let n=V0(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vm(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=zr(e):(s=Us({},e),qe(!s.pathname||!s.pathname.includes("?"),Xl("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),Xl("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),Xl("#","search","hash",s)));let l=e===""||s.pathname==="",o=l?"/":s.pathname,i;if(o==null)i=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}i=p>=0?t[p]:"/"}let u=H0(s,i),f=o&&o!=="/"&&o.endsWith("/"),m=(l||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}const Rn=e=>e.join("/").replace(/\/\/+/g,"/"),K0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Q0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Y0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ym=["post","put","patch","delete"];new Set(ym);const J0=["get",...ym];new Set(J0);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ds.apply(this,arguments)}const vl=c.createContext(null),wm=c.createContext(null),Mn=c.createContext(null),yl=c.createContext(null),Fn=c.createContext({outlet:null,matches:[],isDataRoute:!1}),bm=c.createContext(null);function Z0(e,t){let{relative:n}=t===void 0?{}:t;zs()||qe(!1);let{basename:r,navigator:s}=c.useContext(Mn),{hash:l,pathname:o,search:i}=bl(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Rn([r,o])),s.createHref({pathname:u,search:i,hash:l})}function zs(){return c.useContext(yl)!=null}function Gr(){return zs()||qe(!1),c.useContext(yl).location}function jm(e){c.useContext(Mn).static||c.useLayoutEffect(e)}function Jt(){let{isDataRoute:e}=c.useContext(Fn);return e?dx():X0()}function X0(){zs()||qe(!1);let e=c.useContext(vl),{basename:t,future:n,navigator:r}=c.useContext(Mn),{matches:s}=c.useContext(Fn),{pathname:l}=Gr(),o=JSON.stringify(gm(s,n.v7_relativeSplatPath)),i=c.useRef(!1);return jm(()=>{i.current=!0}),c.useCallback(function(f,m){if(m===void 0&&(m={}),!i.current)return;if(typeof f=="number"){r.go(f);return}let p=vm(f,JSON.parse(o),l,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Rn([t,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[t,r,o,l,e])}function wl(){let{matches:e}=c.useContext(Fn),t=e[e.length-1];return t?t.params:{}}function bl(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=c.useContext(Mn),{matches:s}=c.useContext(Fn),{pathname:l}=Gr(),o=JSON.stringify(gm(s,r.v7_relativeSplatPath));return c.useMemo(()=>vm(e,JSON.parse(o),l,n==="path"),[e,o,l,n])}function ex(e,t){return tx(e,t)}function tx(e,t,n,r){zs()||qe(!1);let{navigator:s}=c.useContext(Mn),{matches:l}=c.useContext(Fn),o=l[l.length-1],i=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let f=Gr(),m;if(t){var p;let j=typeof t=="string"?zr(t):t;u==="/"||(p=j.pathname)!=null&&p.startsWith(u)||qe(!1),m=j}else m=f;let g=m.pathname||"/",y=g;if(u!=="/"){let j=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=T0(e,{pathname:y}),v=lx(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},i,j.params),pathname:Rn([u,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:Rn([u,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,r);return t&&v?c.createElement(yl.Provider,{value:{location:Ds({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Nn.Pop}},v):v}function nx(){let e=cx(),t=Y0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:s},n):null,null)}const rx=c.createElement(nx,null);class sx extends c.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?c.createElement(Fn.Provider,{value:this.props.routeContext},c.createElement(bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ax(e){let{routeContext:t,match:n,children:r}=e,s=c.useContext(vl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(Fn.Provider,{value:t},r)}function lx(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let m=o.findIndex(p=>p.route.id&&(i==null?void 0:i[p.route.id])!==void 0);m>=0||qe(!1),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:g,errors:y}=n,b=p.route.loader&&g[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,p,g)=>{let y,b=!1,v=null,j=null;n&&(y=i&&p.route.id?i[p.route.id]:void 0,v=p.route.errorElement||rx,u&&(f<0&&g===0?(fx("route-fallback"),b=!0,j=null):f===g&&(b=!0,j=p.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,g+1)),d=()=>{let x;return y?x=v:b?x=j:p.route.Component?x=c.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=m,c.createElement(ax,{match:p,routeContext:{outlet:m,matches:h,isDataRoute:n!=null},children:x})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?c.createElement(sx,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:d(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):d()},null)}var Nm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Nm||{}),Sm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Sm||{});function ox(e){let t=c.useContext(vl);return t||qe(!1),t}function ix(e){let t=c.useContext(wm);return t||qe(!1),t}function ux(e){let t=c.useContext(Fn);return t||qe(!1),t}function km(e){let t=ux(),n=t.matches[t.matches.length-1];return n.route.id||qe(!1),n.route.id}function cx(){var e;let t=c.useContext(bm),n=ix(),r=km();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function dx(){let{router:e}=ox(Nm.UseNavigateStable),t=km(Sm.UseNavigateStable),n=c.useRef(!1);return jm(()=>{n.current=!0}),c.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ds({fromRouteId:t},l)))},[e,t])}const Uc={};function fx(e,t,n){Uc[e]||(Uc[e]=!0)}function mx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Je(e){qe(!1)}function px(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Nn.Pop,navigator:l,static:o=!1,future:i}=e;zs()&&qe(!1);let u=t.replace(/^\/*/,"/"),f=c.useMemo(()=>({basename:u,navigator:l,static:o,future:Ds({v7_relativeSplatPath:!1},i)}),[u,i,l,o]);typeof r=="string"&&(r=zr(r));let{pathname:m="/",search:p="",hash:g="",state:y=null,key:b="default"}=r,v=c.useMemo(()=>{let j=Or(m,u);return j==null?null:{location:{pathname:j,search:p,hash:g,state:y,key:b},navigationType:s}},[u,m,p,g,y,b,s]);return v==null?null:c.createElement(Mn.Provider,{value:f},c.createElement(yl.Provider,{children:n,value:v}))}function hx(e){let{children:t,location:n}=e;return ex(ci(t),n)}new Promise(()=>{});function ci(e,t){t===void 0&&(t=[]);let n=[];return c.Children.forEach(e,(r,s)=>{if(!c.isValidElement(r))return;let l=[...t,s];if(r.type===c.Fragment){n.push.apply(n,ci(r.props.children,l));return}r.type!==Je&&qe(!1),!r.props.index||!r.props.children||qe(!1);let o={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ci(r.props.children,l)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ja(){return Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ja.apply(this,arguments)}function Em(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,l;for(l=0;l<r.length;l++)s=r[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function xx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gx(e,t){return e.button===0&&(!t||t==="_self")&&!xx(e)}function di(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function vx(e,t){let n=di(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(l=>{n.append(s,l)})}),n}const yx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],bx="6";try{window.__reactRouterVersion=bx}catch{}const jx=c.createContext({isTransitioning:!1}),Nx="startTransition",Dc=Lr[Nx];function Sx(e){let{basename:t,children:n,future:r,window:s}=e,l=c.useRef();l.current==null&&(l.current=E0({window:s,v5Compat:!0}));let o=l.current,[i,u]=c.useState({action:o.action,location:o.location}),{v7_startTransition:f}=r||{},m=c.useCallback(p=>{f&&Dc?Dc(()=>u(p)):u(p)},[u,f]);return c.useLayoutEffect(()=>o.listen(m),[o,m]),c.useEffect(()=>mx(r),[r]),c.createElement(px,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o,future:r})}const kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ex=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=c.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:l,replace:o,state:i,target:u,to:f,preventScrollReset:m,viewTransition:p}=t,g=Em(t,yx),{basename:y}=c.useContext(Mn),b,v=!1;if(typeof f=="string"&&Ex.test(f)&&(b=f,kx))try{let x=new URL(window.location.href),w=f.startsWith("//")?new URL(x.protocol+f):new URL(f),C=Or(w.pathname,y);w.origin===x.origin&&C!=null?f=C+w.search+w.hash:v=!0}catch{}let j=Z0(f,{relative:s}),h=Px(f,{replace:o,state:i,target:u,preventScrollReset:m,relative:s,viewTransition:p});function d(x){r&&r(x),x.defaultPrevented||h(x)}return c.createElement("a",Ja({},g,{href:b||j,onClick:v||l?r:d,ref:n,target:u}))}),hn=c.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:l="",end:o=!1,style:i,to:u,viewTransition:f,children:m}=t,p=Em(t,wx),g=bl(u,{relative:p.relative}),y=Gr(),b=c.useContext(wm),{navigator:v,basename:j}=c.useContext(Mn),h=b!=null&&Tx(g)&&f===!0,d=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,x=y.pathname,w=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(x=x.toLowerCase(),w=w?w.toLowerCase():null,d=d.toLowerCase()),w&&j&&(w=Or(w,j)||w);const C=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let L=x===d||!o&&x.startsWith(d)&&x.charAt(C)==="/",A=w!=null&&(w===d||!o&&w.startsWith(d)&&w.charAt(d.length)==="/"),$={isActive:L,isPending:A,isTransitioning:h},I=L?r:void 0,R;typeof l=="function"?R=l($):R=[l,L?"active":null,A?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let V=typeof i=="function"?i($):i;return c.createElement(ce,Ja({},p,{"aria-current":I,className:R,ref:n,style:V,to:u,viewTransition:f}),typeof m=="function"?m($):m)});var fi;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fi||(fi={}));var _c;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_c||(_c={}));function Cx(e){let t=c.useContext(vl);return t||qe(!1),t}function Px(e,t){let{target:n,replace:r,state:s,preventScrollReset:l,relative:o,viewTransition:i}=t===void 0?{}:t,u=Jt(),f=Gr(),m=bl(e,{relative:o});return c.useCallback(p=>{if(gx(p,n)){p.preventDefault();let g=r!==void 0?r:Ya(f)===Ya(m);u(e,{replace:g,state:s,preventScrollReset:l,relative:o,viewTransition:i})}},[f,u,m,r,s,n,e,l,o,i])}function jl(e){let t=c.useRef(di(e)),n=c.useRef(!1),r=Gr(),s=c.useMemo(()=>vx(r.search,n.current?null:t.current),[r.search]),l=Jt(),o=c.useCallback((i,u)=>{const f=di(typeof i=="function"?i(s):i);n.current=!0,l("?"+f,u)},[l,s]);return[s,o]}function Tx(e,t){t===void 0&&(t={});let n=c.useContext(jx);n==null&&qe(!1);let{basename:r}=Cx(fi.useViewTransitionState),s=bl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Or(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Or(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ui(s.pathname,o)!=null||ui(s.pathname,l)!=null}function Lx({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const mt=c.forwardRef(Lx);function Ax({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Rx=c.forwardRef(Ax);function $x({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Ix=c.forwardRef($x);function Ux({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Oc=c.forwardRef(Ux);function Dx({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Mc=c.forwardRef(Dx);function _x({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const gu=c.forwardRef(_x);function Ox({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Mx=c.forwardRef(Ox);var Fx=Object.defineProperty,Bx=(e,t,n)=>t in e?Fx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eo=(e,t,n)=>(Bx(e,typeof t!="symbol"?t+"":t,n),n);let zx=class{constructor(){eo(this,"current",this.detect()),eo(this,"handoffState","pending"),eo(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},an=new zx,dn=(e,t)=>{an.isServer?c.useEffect(e,t):c.useLayoutEffect(e,t)};function Nl(e){let t=c.useRef(e);return dn(()=>{t.current=e},[e]),t}let pt=function(e){let t=Nl(e);return Pe.useCallback((...n)=>t.current(...n),[t])};function Sl(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function kl(){let e=[],t={addEventListener(n,r,s,l){return n.addEventListener(r,s,l),t.add(()=>n.removeEventListener(r,s,l))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Sl(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let l=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:l})})},group(n){let r=kl();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function Gx(){let[e]=c.useState(kl);return c.useEffect(()=>()=>e.dispose(),[e]),e}function Wx(){let e=typeof document>"u";return"useSyncExternalStore"in Lr?(t=>t.useSyncExternalStore)(Lr)(()=>()=>{},()=>!1,()=>!e):!1}function El(){let e=Wx(),[t,n]=c.useState(an.isHandoffComplete);return t&&an.isHandoffComplete===!1&&n(!1),c.useEffect(()=>{t!==!0&&n(!0)},[t]),c.useEffect(()=>an.handoff(),[]),e?!1:t}var Fc;let Wr=(Fc=Pe.useId)!=null?Fc:function(){let e=El(),[t,n]=Pe.useState(e?()=>an.nextId():null);return dn(()=>{t===null&&n(an.nextId())},[t]),t!=null?""+t:void 0};function Un(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Un),r}function Cm(e){return an.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let mi=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Hn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Hn||{}),Pm=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Pm||{}),Hx=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Hx||{});function Vx(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(mi)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Tm=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Tm||{});function Kx(e,t=0){var n;return e===((n=Cm(e))==null?void 0:n.body)?!1:Un(t,{0(){return e.matches(mi)},1(){let r=e;for(;r!==null;){if(r.matches(mi))return!0;r=r.parentElement}return!1}})}var qx=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(qx||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Xn(e){e==null||e.focus({preventScroll:!0})}let Qx=["textarea","input"].join(",");function Yx(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Qx))!=null?n:!1}function Jx(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),l=t(r);if(s===null||l===null)return 0;let o=s.compareDocumentPosition(l);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ka(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?Jx(e):e:Vx(e);s.length>0&&o.length>1&&(o=o.filter(y=>!s.includes(y))),r=r??l.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},m=0,p=o.length,g;do{if(m>=p||m+p<=0)return 0;let y=u+m;if(t&16)y=(y+p)%p;else{if(y<0)return 3;if(y>=p)return 1}g=o[y],g==null||g.focus(f),m+=i}while(g!==l.activeElement);return t&6&&Yx(g)&&g.select(),2}function Lm(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Zx(){return/Android/gi.test(window.navigator.userAgent)}function Xx(){return Lm()||Zx()}function ua(e,t,n){let r=Nl(t);c.useEffect(()=>{function s(l){r.current(l)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[e,n])}function Am(e,t,n){let r=Nl(t);c.useEffect(()=>{function s(l){r.current(l)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[e,n])}function eg(e,t,n=!0){let r=c.useRef(!1);c.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function s(o,i){if(!r.current||o.defaultPrevented)return;let u=i(o);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let f=function m(p){return typeof p=="function"?m(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let m of f){if(m===null)continue;let p=m instanceof HTMLElement?m:m.current;if(p!=null&&p.contains(u)||o.composed&&o.composedPath().includes(p))return}return!Kx(u,Tm.Loose)&&u.tabIndex!==-1&&o.preventDefault(),t(o,u)}let l=c.useRef(null);ua("pointerdown",o=>{var i,u;r.current&&(l.current=((u=(i=o.composedPath)==null?void 0:i.call(o))==null?void 0:u[0])||o.target)},!0),ua("mousedown",o=>{var i,u;r.current&&(l.current=((u=(i=o.composedPath)==null?void 0:i.call(o))==null?void 0:u[0])||o.target)},!0),ua("click",o=>{Xx()||l.current&&(s(o,()=>l.current),l.current=null)},!0),ua("touchend",o=>s(o,()=>o.target instanceof HTMLElement?o.target:null),!0),Am("blur",o=>s(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Gs(...e){return c.useMemo(()=>Cm(...e),[...e])}let Rm=Symbol();function tg(e,t=!0){return Object.assign(e,{[Rm]:t})}function mn(...e){let t=c.useRef(e);c.useEffect(()=>{t.current=e},[e]);let n=pt(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Rm]))?void 0:n}function vu(e,t){let n=c.useRef([]),r=pt(e);c.useEffect(()=>{let s=[...n.current];for(let[l,o]of t.entries())if(n.current[l]!==o){let i=r(t,s);return n.current=t,i}},[r,...t])}function Bc(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var pi=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(pi||{}),ng=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ng||{});function Zt({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:l=!0,name:o,mergeRefs:i}){i=i??rg;let u=$m(t,e);if(l)return ca(u,n,r,o,i);let f=s??0;if(f&2){let{static:m=!1,...p}=u;if(m)return ca(p,n,r,o,i)}if(f&1){let{unmount:m=!0,...p}=u;return Un(m?0:1,{0(){return null},1(){return ca({...p,hidden:!0,style:{display:"none"}},n,r,o,i)}})}return ca(u,n,r,o,i)}function ca(e,t={},n,r,s){let{as:l=n,children:o,refName:i="ref",...u}=to(e,["unmount","static"]),f=e.ref!==void 0?{[i]:e.ref}:{},m=typeof o=="function"?o(t):o;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(t));let p={};if(t){let g=!1,y=[];for(let[b,v]of Object.entries(t))typeof v=="boolean"&&(g=!0),v===!0&&y.push(b);g&&(p["data-headlessui-state"]=y.join(" "))}if(l===c.Fragment&&Object.keys(zc(u)).length>0){if(!c.isValidElement(m)||Array.isArray(m)&&m.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(u).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let g=m.props,y=typeof(g==null?void 0:g.className)=="function"?(...v)=>Bc(g==null?void 0:g.className(...v),u.className):Bc(g==null?void 0:g.className,u.className),b=y?{className:y}:{};return c.cloneElement(m,Object.assign({},$m(m.props,zc(to(u,["ref"]))),p,f,{ref:s(m.ref,f.ref)},b))}return c.createElement(l,Object.assign({},to(u,["ref"]),l!==c.Fragment&&f,l!==c.Fragment&&p),m)}function rg(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function $m(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](s,...l){let o=n[r];for(let i of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;i(s,...l)}}});return t}function Xt(e){var t;return Object.assign(c.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function zc(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function to(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let sg="div";var Za=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Za||{});function ag(e,t){var n;let{features:r=1,...s}=e,l={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Zt({ourProps:l,theirProps:s,slot:{},defaultTag:sg,name:"Hidden"})}let hi=Xt(ag),Im=c.createContext(null);Im.displayName="OpenClosedContext";var os=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(os||{});function lg(){return c.useContext(Im)}function og(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let wn=[];og(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&wn[0]!==t.target&&(wn.unshift(t.target),wn=wn.filter(n=>n!=null&&n.isConnected),wn.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function ig(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&ug(n)?!1:r}function ug(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var Um=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Um||{});function Dm(e,t,n,r){let s=Nl(n);c.useEffect(()=>{e=e??window;function l(o){s.current(o)}return e.addEventListener(t,l,r),()=>e.removeEventListener(t,l,r)},[e,t,r])}function _m(){let e=c.useRef(!1);return dn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Om(e){let t=pt(e),n=c.useRef(!1);c.useEffect(()=>(n.current=!1,()=>{n.current=!0,Sl(()=>{n.current&&t()})}),[t])}var is=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(is||{});function cg(){let e=c.useRef(0);return Am("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Mm(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let dg="div";var Fm=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Fm||{});function fg(e,t){let n=c.useRef(null),r=mn(n,t),{initialFocus:s,containers:l,features:o=30,...i}=e;El()||(o=1);let u=Gs(n);hg({ownerDocument:u},!!(o&16));let f=xg({ownerDocument:u,container:n,initialFocus:s},!!(o&2));gg({ownerDocument:u,container:n,containers:l,previousActiveElement:f},!!(o&8));let m=cg(),p=pt(v=>{let j=n.current;j&&(h=>h())(()=>{Un(m.current,{[is.Forwards]:()=>{ka(j,Hn.First,{skipElements:[v.relatedTarget]})},[is.Backwards]:()=>{ka(j,Hn.Last,{skipElements:[v.relatedTarget]})}})})}),g=Gx(),y=c.useRef(!1),b={ref:r,onKeyDown(v){v.key=="Tab"&&(y.current=!0,g.requestAnimationFrame(()=>{y.current=!1}))},onBlur(v){let j=Mm(l);n.current instanceof HTMLElement&&j.add(n.current);let h=v.relatedTarget;h instanceof HTMLElement&&h.dataset.headlessuiFocusGuard!=="true"&&(Bm(j,h)||(y.current?ka(n.current,Un(m.current,{[is.Forwards]:()=>Hn.Next,[is.Backwards]:()=>Hn.Previous})|Hn.WrapAround,{relativeTo:v.target}):v.target instanceof HTMLElement&&Xn(v.target)))}};return Pe.createElement(Pe.Fragment,null,!!(o&4)&&Pe.createElement(hi,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Za.Focusable}),Zt({ourProps:b,theirProps:i,defaultTag:dg,name:"FocusTrap"}),!!(o&4)&&Pe.createElement(hi,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Za.Focusable}))}let mg=Xt(fg),ts=Object.assign(mg,{features:Fm});function pg(e=!0){let t=c.useRef(wn.slice());return vu(([n],[r])=>{r===!0&&n===!1&&Sl(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=wn.slice())},[e,wn,t]),pt(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function hg({ownerDocument:e},t){let n=pg(t);vu(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Xn(n())},[t]),Om(()=>{t&&Xn(n())})}function xg({ownerDocument:e,container:t,initialFocus:n},r){let s=c.useRef(null),l=_m();return vu(()=>{if(!r)return;let o=t.current;o&&Sl(()=>{if(!l.current)return;let i=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===i){s.current=i;return}}else if(o.contains(i)){s.current=i;return}n!=null&&n.current?Xn(n.current):ka(o,Hn.First)===Pm.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=e==null?void 0:e.activeElement})},[r]),s}function gg({ownerDocument:e,container:t,containers:n,previousActiveElement:r},s){let l=_m();Dm(e==null?void 0:e.defaultView,"focus",o=>{if(!s||!l.current)return;let i=Mm(n);t.current instanceof HTMLElement&&i.add(t.current);let u=r.current;if(!u)return;let f=o.target;f&&f instanceof HTMLElement?Bm(i,f)?(r.current=f,Xn(f)):(o.preventDefault(),o.stopPropagation(),Xn(u)):Xn(r.current)},!0)}function Bm(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let zm=c.createContext(!1);function vg(){return c.useContext(zm)}function xi(e){return Pe.createElement(zm.Provider,{value:e.force},e.children)}function yg(e){let t=vg(),n=c.useContext(Gm),r=Gs(e),[s,l]=c.useState(()=>{if(!t&&n!==null||an.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let i=r.createElement("div");return i.setAttribute("id","headlessui-portal-root"),r.body.appendChild(i)});return c.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),c.useEffect(()=>{t||n!==null&&l(n.current)},[n,l,t]),s}let wg=c.Fragment;function bg(e,t){let n=e,r=c.useRef(null),s=mn(tg(m=>{r.current=m}),t),l=Gs(r),o=yg(r),[i]=c.useState(()=>{var m;return an.isServer?null:(m=l==null?void 0:l.createElement("div"))!=null?m:null}),u=c.useContext(gi),f=El();return dn(()=>{!o||!i||o.contains(i)||(i.setAttribute("data-headlessui-portal",""),o.appendChild(i))},[o,i]),dn(()=>{if(i&&u)return u.register(i)},[u,i]),Om(()=>{var m;!o||!i||(i instanceof Node&&o.contains(i)&&o.removeChild(i),o.childNodes.length<=0&&((m=o.parentElement)==null||m.removeChild(o)))}),f?!o||!i?null:pm.createPortal(Zt({ourProps:{ref:s},theirProps:n,defaultTag:wg,name:"Portal"}),i):null}let jg=c.Fragment,Gm=c.createContext(null);function Ng(e,t){let{target:n,...r}=e,s={ref:mn(t)};return Pe.createElement(Gm.Provider,{value:n},Zt({ourProps:s,theirProps:r,defaultTag:jg,name:"Popover.Group"}))}let gi=c.createContext(null);function Sg(){let e=c.useContext(gi),t=c.useRef([]),n=pt(l=>(t.current.push(l),e&&e.register(l),()=>r(l))),r=pt(l=>{let o=t.current.indexOf(l);o!==-1&&t.current.splice(o,1),e&&e.unregister(l)}),s=c.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,c.useMemo(()=>function({children:l}){return Pe.createElement(gi.Provider,{value:s},l)},[s])]}let kg=Xt(bg),Eg=Xt(Ng),vi=Object.assign(kg,{Group:Eg});function Cg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Pg=typeof Object.is=="function"?Object.is:Cg,{useState:Tg,useEffect:Lg,useLayoutEffect:Ag,useDebugValue:Rg}=Lr;function $g(e,t,n){const r=t(),[{inst:s},l]=Tg({inst:{value:r,getSnapshot:t}});return Ag(()=>{s.value=r,s.getSnapshot=t,no(s)&&l({inst:s})},[e,r,t]),Lg(()=>(no(s)&&l({inst:s}),e(()=>{no(s)&&l({inst:s})})),[e]),Rg(r),r}function no(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!Pg(n,r)}catch{return!0}}function Ig(e,t,n){return t()}const Ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dg=!Ug,_g=Dg?Ig:$g,Og="useSyncExternalStore"in Lr?(e=>e.useSyncExternalStore)(Lr):_g;function Mg(e){return Og(e.subscribe,e.getSnapshot,e.getSnapshot)}function Fg(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...l){let o=t[s].call(n,...l);o&&(n=o,r.forEach(i=>i()))}}}function Bg(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,s=r.clientWidth-r.offsetWidth,l=e-s;n.style(r,"paddingRight",`${l}px`)}}}function zg(){return Lm()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(l=>l()).some(l=>l.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=kl();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let l=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",i=>{if(i.target instanceof HTMLElement)try{let u=i.target.closest("a");if(!u)return;let{hash:f}=new URL(u.href),m=e.querySelector(f);m&&!r(m)&&(o=m)}catch{}},!0),t.addEventListener(e,"touchstart",i=>{if(i.target instanceof HTMLElement)if(r(i.target)){let u=i.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;t.style(u,"overscrollBehavior","contain")}else t.style(i.target,"touchAction","none")}),t.addEventListener(e,"touchmove",i=>{if(i.target instanceof HTMLElement)if(r(i.target)){let u=i.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()},{passive:!1}),t.add(()=>{var i;let u=(i=window.scrollY)!=null?i:window.pageYOffset;l!==u&&window.scrollTo(0,l),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Gg(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Wg(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Qn=Fg(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:kl(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Wg(n)},s=[zg(),Bg(),Gg()];s.forEach(({before:l})=>l==null?void 0:l(r)),s.forEach(({after:l})=>l==null?void 0:l(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Qn.subscribe(()=>{let e=Qn.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Qn.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Qn.dispatch("TEARDOWN",n)}});function Hg(e,t,n){let r=Mg(Qn),s=e?r.get(e):void 0,l=s?s.count>0:!1;return dn(()=>{if(!(!e||!t))return Qn.dispatch("PUSH",e,n),()=>Qn.dispatch("POP",e,n)},[t,e]),l}let ro=new Map,ns=new Map;function Gc(e,t=!0){dn(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function s(){var o;if(!r)return;let i=(o=ns.get(r))!=null?o:1;if(i===1?ns.delete(r):ns.set(r,i-1),i!==1)return;let u=ro.get(r);u&&(u["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",u["aria-hidden"]),r.inert=u.inert,ro.delete(r))}let l=(n=ns.get(r))!=null?n:0;return ns.set(r,l+1),l!==0||(ro.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),s},[e,t])}function Vg({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let s=c.useRef((r=n==null?void 0:n.current)!=null?r:null),l=Gs(s),o=pt(()=>{var i,u,f;let m=[];for(let p of e)p!==null&&(p instanceof HTMLElement?m.push(p):"current"in p&&p.current instanceof HTMLElement&&m.push(p.current));if(t!=null&&t.current)for(let p of t.current)m.push(p);for(let p of(i=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?i:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(p.contains(s.current)||p.contains((f=(u=s.current)==null?void 0:u.getRootNode())==null?void 0:f.host)||m.some(g=>p.contains(g))||m.push(p));return m});return{resolveContainers:o,contains:pt(i=>o().some(u=>u.contains(i))),mainTreeNodeRef:s,MainTreeNode:c.useMemo(()=>function(){return n!=null?null:Pe.createElement(hi,{features:Za.Hidden,ref:s})},[s,n])}}let yu=c.createContext(()=>{});yu.displayName="StackContext";var yi=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(yi||{});function Kg(){return c.useContext(yu)}function qg({children:e,onUpdate:t,type:n,element:r,enabled:s}){let l=Kg(),o=pt((...i)=>{t==null||t(...i),l(...i)});return dn(()=>{let i=s===void 0||s===!0;return i&&o(0,n,r),()=>{i&&o(1,n,r)}},[o,n,r,s]),Pe.createElement(yu.Provider,{value:o},e)}let Wm=c.createContext(null);function Hm(){let e=c.useContext(Wm);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Hm),t}return e}function Qg(){let[e,t]=c.useState([]);return[e.length>0?e.join(" "):void 0,c.useMemo(()=>function(n){let r=pt(l=>(t(o=>[...o,l]),()=>t(o=>{let i=o.slice(),u=i.indexOf(l);return u!==-1&&i.splice(u,1),i}))),s=c.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return Pe.createElement(Wm.Provider,{value:s},n.children)},[t])]}let Yg="p";function Jg(e,t){let n=Wr(),{id:r=`headlessui-description-${n}`,...s}=e,l=Hm(),o=mn(t);dn(()=>l.register(r),[r,l.register]);let i={ref:o,...l.props,id:r};return Zt({ourProps:i,theirProps:s,slot:l.slot||{},defaultTag:Yg,name:l.name||"Description"})}let Zg=Xt(Jg),Xg=Object.assign(Zg,{});var ev=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ev||{}),tv=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(tv||{});let nv={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Xa=c.createContext(null);Xa.displayName="DialogContext";function Ws(e){let t=c.useContext(Xa);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ws),n}return t}function rv(e,t,n=()=>[document.body]){Hg(e,t,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],n]}})}function sv(e,t){return Un(t.type,nv,e,t)}let av="div",lv=pi.RenderStrategy|pi.Static;function ov(e,t){let n=Wr(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:l,initialFocus:o,role:i="dialog",__demoMode:u=!1,...f}=e,[m,p]=c.useState(0),g=c.useRef(!1);i=function(){return i==="dialog"||i==="alertdialog"?i:(g.current||(g.current=!0,console.warn(`Invalid role [${i}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let y=lg();s===void 0&&y!==null&&(s=(y&os.Open)===os.Open);let b=c.useRef(null),v=mn(b,t),j=Gs(b),h=e.hasOwnProperty("open")||y!==null,d=e.hasOwnProperty("onClose");if(!h&&!d)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!h)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!d)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof l!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${l}`);let x=s?0:1,[w,C]=c.useReducer(sv,{titleId:null,descriptionId:null,panelRef:c.createRef()}),L=pt(()=>l(!1)),A=pt(W=>C({type:0,id:W})),$=El()?u?!1:x===0:!1,I=m>1,R=c.useContext(Xa)!==null,[V,J]=Sg(),re={get current(){var W;return(W=w.panelRef.current)!=null?W:b.current}},{resolveContainers:K,mainTreeNodeRef:de,MainTreeNode:B}=Vg({portals:V,defaultContainers:[re]}),P=I?"parent":"leaf",k=y!==null?(y&os.Closing)===os.Closing:!1,E=R||k?!1:$,N=c.useCallback(()=>{var W,Q;return(Q=Array.from((W=j==null?void 0:j.querySelectorAll("body > *"))!=null?W:[]).find(oe=>oe.id==="headlessui-portal-root"?!1:oe.contains(de.current)&&oe instanceof HTMLElement))!=null?Q:null},[de]);Gc(N,E);let M=I?!0:$,_=c.useCallback(()=>{var W,Q;return(Q=Array.from((W=j==null?void 0:j.querySelectorAll("[data-headlessui-portal]"))!=null?W:[]).find(oe=>oe.contains(de.current)&&oe instanceof HTMLElement))!=null?Q:null},[de]);Gc(_,M),eg(K,W=>{W.preventDefault(),L()},!(!$||I));let me=!(I||x!==0);Dm(j==null?void 0:j.defaultView,"keydown",W=>{me&&(W.defaultPrevented||W.key===Um.Escape&&(W.preventDefault(),W.stopPropagation(),L()))}),rv(j,!(k||x!==0||R),K),c.useEffect(()=>{if(x!==0||!b.current)return;let W=new ResizeObserver(Q=>{for(let oe of Q){let je=oe.target.getBoundingClientRect();je.x===0&&je.y===0&&je.width===0&&je.height===0&&L()}});return W.observe(b.current),()=>W.disconnect()},[x,b,L]);let[ye,O]=Qg(),T=c.useMemo(()=>[{dialogState:x,close:L,setTitleId:A},w],[x,w,L,A]),H=c.useMemo(()=>({open:x===0}),[x]),le={ref:v,id:r,role:i,"aria-modal":x===0?!0:void 0,"aria-labelledby":w.titleId,"aria-describedby":ye};return Pe.createElement(qg,{type:"Dialog",enabled:x===0,element:b,onUpdate:pt((W,Q)=>{Q==="Dialog"&&Un(W,{[yi.Add]:()=>p(oe=>oe+1),[yi.Remove]:()=>p(oe=>oe-1)})})},Pe.createElement(xi,{force:!0},Pe.createElement(vi,null,Pe.createElement(Xa.Provider,{value:T},Pe.createElement(vi.Group,{target:b},Pe.createElement(xi,{force:!1},Pe.createElement(O,{slot:H,name:"Dialog.Description"},Pe.createElement(ts,{initialFocus:o,containers:K,features:$?Un(P,{parent:ts.features.RestoreFocus,leaf:ts.features.All&~ts.features.FocusLock}):ts.features.None},Pe.createElement(J,null,Zt({ourProps:le,theirProps:f,slot:H,defaultTag:av,features:lv,visible:x===0,name:"Dialog"}))))))))),Pe.createElement(B,null))}let iv="div";function uv(e,t){let n=Wr(),{id:r=`headlessui-dialog-overlay-${n}`,...s}=e,[{dialogState:l,close:o}]=Ws("Dialog.Overlay"),i=mn(t),u=pt(m=>{if(m.target===m.currentTarget){if(ig(m.currentTarget))return m.preventDefault();m.preventDefault(),m.stopPropagation(),o()}}),f=c.useMemo(()=>({open:l===0}),[l]);return Zt({ourProps:{ref:i,id:r,"aria-hidden":!0,onClick:u},theirProps:s,slot:f,defaultTag:iv,name:"Dialog.Overlay"})}let cv="div";function dv(e,t){let n=Wr(),{id:r=`headlessui-dialog-backdrop-${n}`,...s}=e,[{dialogState:l},o]=Ws("Dialog.Backdrop"),i=mn(t);c.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let u=c.useMemo(()=>({open:l===0}),[l]);return Pe.createElement(xi,{force:!0},Pe.createElement(vi,null,Zt({ourProps:{ref:i,id:r,"aria-hidden":!0},theirProps:s,slot:u,defaultTag:cv,name:"Dialog.Backdrop"})))}let fv="div";function mv(e,t){let n=Wr(),{id:r=`headlessui-dialog-panel-${n}`,...s}=e,[{dialogState:l},o]=Ws("Dialog.Panel"),i=mn(t,o.panelRef),u=c.useMemo(()=>({open:l===0}),[l]),f=pt(m=>{m.stopPropagation()});return Zt({ourProps:{ref:i,id:r,onClick:f},theirProps:s,slot:u,defaultTag:fv,name:"Dialog.Panel"})}let pv="h2";function hv(e,t){let n=Wr(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:l,setTitleId:o}]=Ws("Dialog.Title"),i=mn(t);c.useEffect(()=>(o(r),()=>o(null)),[r,o]);let u=c.useMemo(()=>({open:l===0}),[l]);return Zt({ourProps:{ref:i,id:r},theirProps:s,slot:u,defaultTag:pv,name:"Dialog.Title"})}let xv=Xt(ov),gv=Xt(dv),vv=Xt(mv),yv=Xt(uv),wv=Xt(hv),so=Object.assign(xv,{Backdrop:gv,Panel:vv,Overlay:yv,Title:wv,Description:Xg});const Vm=c.createContext(void 0);function bv(e){return e.includes("admin")?"superadmin":e.includes("manager")?"manager":e.includes("user")?"user":"guest"}function Wc(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const jv=({children:e})=>{const[t,n]=c.useState(null),[r,s]=c.useState(!0),l=Pe.useCallback(async()=>{const u=Wc();if(!u){s(!1);return}try{const f=window;if(!f.auth||typeof f.auth.getAccessToken!="function"){s(!1);return}await new Promise(j=>{f.auth.isAuthenticated(h=>{if(!h){n(null),s(!1),j();return}j()})});const m=await new Promise(j=>{window.auth.getAccessToken(h=>j(h))});if(!m){n(null),s(!1);return}const p=await fetch(`${u}/me`,{headers:{Authorization:`Bearer ${m}`}});if(!p.ok){n(null),s(!1);return}const g=await p.json(),y=Array.isArray(g.groups)?g.groups.map(String):[],b=bv(y),v=Array.isArray(g.customGroups)?g.customGroups.map(String):[];n({userId:String(g.userId||""),email:String(g.email||""),groups:y,role:b,customGroups:v})}catch{n(null)}finally{s(!1)}},[]);c.useEffect(()=>{l()},[l]);const o=Pe.useCallback(async()=>{Wc()&&await l()},[l]),i=()=>{const u=window;u.auth&&typeof u.auth.signOut=="function"&&u.auth.signOut(),n(null)};return a.jsx(Vm.Provider,{value:{user:t,isLoading:r,signOut:i,refreshAuth:o},children:e})};function it(){const e=c.useContext(Vm);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function Ot(e,t){if(t==="guest")return!0;if(!e)return!1;const n=["guest","user","manager","superadmin"];return n.indexOf(e.role)>=n.indexOf(t)}function el(e){return e!=null&&e.userId?e.role==="superadmin"?!0:(e.customGroups??[]).includes("Squash"):!1}function tl(e){return e!=null&&e.userId?e.role==="superadmin"?!0:e.role!=="manager"?!1:(e.customGroups??[]).includes("Squash"):!1}const Km=c.createContext(void 0);function Nv(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Sv=({children:e})=>{const[t,n]=c.useState(null);return c.useEffect(()=>{const r=Nv();if(!r)return;let s=!1;return(async()=>{try{const l=await fetch(`${r}/branding/logo`);if(!l.ok||!(l.headers.get("Content-Type")||"").includes("application/json"))return;const i=await l.json();if(s)return;i&&i.url&&n({url:String(i.url),alt:String(i.alt||"Funkedupshift")})}catch{}})(),()=>{s=!0}},[]),a.jsx(Km.Provider,{value:{logo:t},children:e})};function qm(){const e=c.useContext(Km);if(!e)throw new Error("useBranding must be used within BrandingProvider");return e}const kv=()=>{const{user:e}=it(),t=el(e);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{className:"relative overflow-hidden rounded-2xl border border-slate-800 bg-gradient-to-br from-brand-orange/20 via-brand-navy/10 to-brand-teal/20 px-6 py-10",children:[a.jsxs("div",{className:"max-w-xl space-y-4",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-slate-200",children:"Shared internet intelligence"}),a.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-50",children:"Discover, rate, and enrich the sites that matter."}),a.jsx("p",{className:"text-sm text-slate-100/80",children:"Funkedupshift is a living index of websites, media, and experiments  curated by admins, enriched by everyone."}),a.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[a.jsx(ce,{to:"/websites",className:"inline-flex items-center rounded-full border border-slate-500/60 px-4 py-2 text-sm font-semibold text-slate-100 hover:border-slate-300/80",children:"Browse websites"}),a.jsx(ce,{to:"/media",className:"inline-flex items-center rounded-full border border-slate-500/60 px-4 py-2 text-sm font-semibold text-slate-100 hover:border-slate-300/80",children:"Explore media"}),a.jsx(ce,{to:"/internet-dashboard",className:"inline-flex items-center rounded-full border border-slate-500/60 px-4 py-2 text-sm font-semibold text-slate-100 hover:border-slate-300/80",children:"Internet Dashboard"}),t&&a.jsx(ce,{to:"/squash",className:"inline-flex items-center rounded-full border border-slate-500/60 px-4 py-2 text-sm font-semibold text-slate-100 hover:border-slate-300/80",children:"Squash"})]})]}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 w-1/2 opacity-60",children:a.jsx("div",{className:"absolute -inset-24 bg-[radial-gradient(circle_at_top,_#f97316_0,_transparent_55%),radial-gradient(circle_at_bottom,_#06d6a0_0,_transparent_55%)]"})})]}),a.jsxs("section",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.22em] text-slate-500 mb-2",children:"Everyone"}),a.jsx("p",{className:"text-sm text-slate-200",children:"Browse all sites and media without signing in. Ratings and metadata are public by design."})]}),a.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.22em] text-slate-500 mb-2",children:"Users"}),a.jsx("p",{className:"text-sm text-slate-200",children:"Sign in to rate sites, add notes, and personalize your view of the internet."})]}),a.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.22em] text-slate-500 mb-2",children:"Admins"}),a.jsx("p",{className:"text-sm text-slate-200",children:"Curate the corpus, manage categories and groups, and control branding from a single admin surface."})]})]})]})};function ao(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const lo=10,Ev=()=>{const{user:e}=it(),[t,n]=c.useState([]),[r,s]=c.useState(""),[l,o]=c.useState([]),[i,u]=c.useState("and"),[f,m]=c.useState(!1),[p,g]=c.useState(""),[y,b]=c.useState("avgDesc"),[v,j]=c.useState(1),[h,d]=c.useState(!1),[x,w]=c.useState(null),C=!!e,L=c.useRef(null),[A,$]=c.useState([]);c.useEffect(()=>{const B=ao();if(!B)return;let P=!1;return fetch(`${B}/categories`).then(k=>k.ok?k.json():Promise.reject(new Error("Failed to load categories"))).then(k=>{if(P)return;const E=(k.categories??[]).map(N=>({id:N.PK||N.id||"",name:N.name||N.PK||""}));E.sort((N,M)=>(N.name||"").localeCompare(M.name||"")),$(E)}).catch(()=>{}),()=>{P=!0}},[]);const I=c.useMemo(()=>{if(i==="or"&&A.length>0)return A;const B=new Map;t.forEach(k=>(k.categories||[]).forEach(E=>{E.id&&!B.has(E.id)&&B.set(E.id,E)}));const P=[...A];return B.forEach(k=>{P.some(E=>E.id===k.id)||P.push(k)}),P.sort((k,E)=>(k.name||"").localeCompare(E.name||"")),P},[A,i,t]),R=c.useMemo(()=>I.filter(B=>!l.includes(B.id)&&(!p.trim()||(B.name||"").toLowerCase().includes(p.toLowerCase()))),[I,l,p]),V=r.trim().length>0||l.length>0;c.useEffect(()=>{if(!V){n([]),j(1),d(!1),w(null);return}const B=ao();if(!B){w("API URL not set. Deploy via CI or set window.API_BASE_URL in config.js.");return}let P=!1;async function k(){d(!0),w(null);try{const E=new URLSearchParams;E.set("limit","100"),r.trim()&&E.set("q",r.trim()),l.length>0&&(E.set("categoryIds",l.join(",")),E.set("categoryMode",i));const N=await fetch(`${B}/sites?${E.toString()}`);if(!N.ok){const _=await N.text();throw new Error(`HTTP ${N.status}: ${_}`)}const M=await N.json();if(P)return;n(M.sites??[]),j(1)}catch(E){P||w((E==null?void 0:E.message)??"Failed to load sites.")}finally{P||d(!1)}}return k(),()=>{P=!0}},[V,r,l,i]),c.useEffect(()=>{function B(P){L.current&&!L.current.contains(P.target)&&m(!1)}if(f)return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[f]);const J=c.useMemo(()=>{const B=[...t];return B.sort((P,k)=>{const E=(P.title||P.url||P.PK||"").toLowerCase(),N=(k.title||k.url||k.PK||"").toLowerCase(),M=typeof P.averageRating=="number"?P.averageRating:0,_=typeof k.averageRating=="number"?k.averageRating:0;return y==="avgDesc"?_!==M?_-M:E.localeCompare(N):y==="avgAsc"?M!==_?M-_:E.localeCompare(N):y==="alphaAsc"?E.localeCompare(N):y==="alphaDesc"?N.localeCompare(E):0}),B},[t,y]),re=Math.max(1,Math.ceil(J.length/lo)),K=J.slice((v-1)*lo,v*lo),de=async(B,P)=>{const k=ao();if(!k)return;const E=window;if(!E.auth||typeof E.auth.getAccessToken!="function")return;const N=await new Promise(M=>{E.auth.getAccessToken(_=>M(_))});N&&await fetch(`${k}/stars`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({siteId:B,rating:P})}).catch(()=>{})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Websites"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Browse curated sites, see ratings, and jump straight into the interesting corners of the internet."})]}),a.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4 space-y-4","aria-label":"Search and filter",children:[a.jsxs("form",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",onSubmit:B=>{B.preventDefault(),s(r.trim())},children:[a.jsx("input",{type:"text",value:r,onChange:B=>s(B.target.value),placeholder:"Search sites (title, URL, description)",className:"flex-1 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500",children:"Search"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4 sm:gap-6",children:[a.jsxs("div",{ref:L,className:"relative flex-shrink-0 min-w-0 max-w-sm",children:[a.jsx("label",{htmlFor:"website-category-filter",className:"block text-xs font-medium text-slate-400 mb-1",children:"Categories (filter by)"}),a.jsx("input",{id:"website-category-filter",type:"text",value:p,onChange:B=>g(B.target.value),onFocus:()=>m(!0),placeholder:"Search and select categories",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",autoComplete:"off"}),f&&a.jsx("div",{className:"absolute left-0 top-full z-10 mt-1 w-full max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",role:"listbox","aria-label":"Category options",children:R.length>0?R.map(B=>a.jsx("button",{type:"button",role:"option",onClick:()=>{o(P=>P.includes(B.id)?P:[...P,B.id]),g("")},className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:B.name},B.id)):a.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:I.length===0?"No categories yet.":"No matches or all selected."})}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:l.map(B=>{const P=I.find(k=>k.id===B);return a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(P==null?void 0:P.name)??B,a.jsx("button",{type:"button",onClick:()=>o(k=>k.filter(E=>E!==B)),className:"hover:text-red-400","aria-label":"Remove category filter",children:""})]},B)})}),l.length>0&&a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Match:"}),a.jsxs("div",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 p-0.5",children:[a.jsx("button",{type:"button",onClick:()=>u("and"),className:`rounded px-2 py-0.5 text-xs font-medium ${i==="and"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"AND"}),a.jsx("button",{type:"button",onClick:()=>u("or"),className:`rounded px-2 py-0.5 text-xs font-medium ${i==="or"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"OR"})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-xs text-slate-400",children:[a.jsx("span",{className:"font-medium text-slate-200",children:"Sort:"}),a.jsxs("select",{value:y,onChange:B=>{b(B.target.value),j(1)},className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",children:[a.jsx("option",{value:"avgDesc",children:"Avg stars (high first)"}),a.jsx("option",{value:"avgAsc",children:"Avg stars (low first)"}),a.jsx("option",{value:"alphaAsc",children:"Title AZ"}),a.jsx("option",{value:"alphaDesc",children:"Title ZA"})]}),a.jsx("span",{className:"text-slate-500",children:V?J.length===0?"No sites found.":`${J.length} sites`:""})]})]})]}),x&&a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:x}),V?h?a.jsx("div",{className:"text-sm text-slate-400",children:"Loading sites"}):a.jsx("ul",{className:"space-y-2",children:K.map(B=>{const P=B.title||B.url||B.PK||"Untitled",k=B.logoUrl;return a.jsxs("li",{className:"flex gap-3 rounded-xl border border-slate-800 bg-slate-950/60 p-3",children:[a.jsx("div",{className:"h-12 w-12 flex-shrink-0 overflow-hidden rounded-lg border border-slate-700 bg-slate-900",children:k?a.jsx("img",{src:k,alt:"",className:"h-full w-full object-cover",onError:E=>{E.currentTarget.style.visibility="hidden"}}):null}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("h2",{className:"truncate text-sm font-semibold text-slate-50",children:a.jsx(ce,{to:`/websites/${encodeURIComponent(B.PK)}`,className:"hover:text-brand-orange",children:P})}),typeof B.averageRating=="number"&&a.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-900 px-2 py-0.5 text-[11px] text-amber-300",children:[B.averageRating.toFixed(1),""]})]}),B.url&&a.jsx("a",{href:B.url,target:"_blank",rel:"noopener noreferrer",className:"block truncate text-xs text-slate-400 hover:text-slate-200",children:B.url}),B.description&&a.jsxs("p",{className:"text-xs text-slate-300 line-clamp-3",children:[B.description,B.descriptionAiGenerated&&a.jsx("span",{className:"ml-1 text-[11px] uppercase tracking-wide text-slate-500",children:"AI summary"})]}),B.categories&&B.categories.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 pt-1",children:B.categories.map(E=>a.jsx("span",{className:"rounded-full bg-slate-900 px-2 py-0.5 text-[11px] text-slate-300",children:E.name},E.id))}),C&&a.jsx("div",{className:"pt-1",children:a.jsxs("label",{className:"inline-flex items-center gap-1 text-[11px] text-slate-400",children:[a.jsx("span",{children:"Rate:"}),a.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-1 py-0.5 text-[11px] text-slate-50",onChange:E=>{const N=Number(E.target.value);N>=1&&N<=5&&de(B.PK,N)},defaultValue:"",children:[a.jsx("option",{value:"",children:"--"}),a.jsx("option",{value:"1",children:"1"}),a.jsx("option",{value:"2",children:"2"}),a.jsx("option",{value:"3",children:"3"}),a.jsx("option",{value:"4",children:"4"}),a.jsx("option",{value:"5",children:"5"})]})]})})]})]},B.PK)})}):a.jsx("div",{className:"flex items-center justify-center min-h-[280px]",children:a.jsx("p",{className:"text-2xl sm:text-3xl font-light text-slate-500/80 tracking-wide animate-pulse",children:"Enter search term or select categories"})}),V&&re>1&&a.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-center gap-2 text-xs",children:[a.jsx("button",{type:"button",disabled:v<=1,onClick:()=>j(B=>Math.max(1,B-1)),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 disabled:opacity-40",children:"Prev"}),a.jsxs("span",{className:"text-slate-500",children:["Page ",v," of ",re]}),a.jsx("button",{type:"button",disabled:v>=re,onClick:()=>j(B=>Math.min(re,B+1)),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 disabled:opacity-40",children:"Next"})]})]})};function oo(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Cv=()=>{var y,b;const{id:e}=wl(),{user:t}=it(),n=Ot(t??null,"manager"),[r,s]=c.useState(null),[l,o]=c.useState(null),[i,u]=c.useState(!0),[f,m]=c.useState(null);c.useEffect(()=>{const v=oo();if(!v||!e){m(e?"API URL not set.":"Missing site id."),u(!1);return}let j=!1;async function h(){u(!0),m(null);try{const d=new URLSearchParams;d.set("id",decodeURIComponent(e));const x=await fetch(`${v}/sites?${d.toString()}`);if(x.status===404){j||s(null);return}if(!x.ok){const C=await x.text();throw new Error(`HTTP ${x.status}: ${C}`)}const w=await x.json();if(j)return;s(w.site??null)}catch(d){j||m((d==null?void 0:d.message)??"Failed to load site.")}finally{j||u(!1)}}return h(),()=>{j=!0}},[e]),c.useEffect(()=>{if(!t||!(r!=null&&r.PK))return;const v=oo();if(!v)return;const j=window;if(!j.auth||typeof j.auth.getAccessToken!="function")return;let h=!1;return(async()=>{const d=await new Promise(w=>{j.auth.getAccessToken(C=>w(C))});if(!d||h)return;const x=await fetch(`${v}/stars?siteId=${encodeURIComponent(r.PK)}`,{headers:{Authorization:`Bearer ${d}`}});if(!h&&x.ok){const w=await x.json();o(typeof w.rating=="number"?w.rating:null)}})(),()=>{h=!0}},[t,r==null?void 0:r.PK]);const p=async(v,j)=>{const h=oo();if(!h)return;const d=window;if(!d.auth||typeof d.auth.getAccessToken!="function")return;const x=await new Promise(w=>{d.auth.getAccessToken(C=>w(C))});x&&await fetch(`${h}/stars`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({siteId:v,rating:j})}).then(()=>o(j)).catch(()=>{})};if(i)return a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ce,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Websites"]}),a.jsx("div",{className:"text-sm text-slate-400",children:"Loading"})]});if(f||!r)return a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ce,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Websites"]}),a.jsx("div",{className:"rounded-md border border-slate-700 bg-slate-900/60 px-4 py-3 text-slate-200",children:f||"Site not found."})]});const g=r.title||r.url||r.PK||"Untitled";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs(ce,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Websites"]}),n&&r&&a.jsxs(ce,{to:`/admin/sites/edit/${encodeURIComponent(r.PK)}`,className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(gu,{className:"h-4 w-4"}),"Edit site"]})]}),a.jsxs("article",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4 sm:p-6",children:[a.jsxs("header",{className:"flex flex-wrap gap-4",children:[a.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border border-slate-700 bg-slate-900",children:r.logoUrl?a.jsx("img",{src:r.logoUrl,alt:"",className:"h-full w-full object-cover",onError:v=>{v.currentTarget.style.visibility="hidden"}}):null}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[a.jsx("h1",{className:"text-xl font-semibold tracking-tight text-slate-50",children:g}),typeof r.averageRating=="number"&&a.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-800 px-2 py-0.5 text-sm text-amber-300",children:[r.averageRating.toFixed(1)," average"]}),r.url&&a.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"block truncate text-sm text-slate-400 hover:text-slate-200",children:r.url})]})]}),r.description&&a.jsx("div",{className:"mt-4",children:a.jsxs("p",{className:"text-sm text-slate-300",children:[r.description,r.descriptionAiGenerated&&a.jsx("span",{className:"ml-1 text-xs uppercase tracking-wide text-slate-500",children:"AI summary"})]})}),(((y=r.categories)==null?void 0:y.length)??0)>0&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:r.categories.map(v=>a.jsx("span",{className:"rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-300",children:v.name},v.id))}),(((b=r.tags)==null?void 0:b.length)??0)>0&&a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:r.tags.map(v=>a.jsx("span",{className:"rounded-full bg-slate-900 px-2 py-0.5 text-xs text-slate-400",children:v},v))}),t&&a.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[l!==null&&a.jsxs("span",{className:"text-xs text-slate-400",children:["Your rating: ",l,""]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-400",children:[a.jsx("span",{children:"Rate:"}),a.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-sm text-slate-50",value:l??"",onChange:v=>{const j=Number(v.target.value);j>=1&&j<=5&&p(r.PK,j)},children:[a.jsx("option",{value:"",children:"--"}),a.jsx("option",{value:"1",children:"1"}),a.jsx("option",{value:"2",children:"2"}),a.jsx("option",{value:"3",children:"3"}),a.jsx("option",{value:"4",children:"4"}),a.jsx("option",{value:"5",children:"5"})]})]})]}),r.scrapedContent&&a.jsxs("section",{className:"mt-6 border-t border-slate-800 pt-4",children:[a.jsx("h2",{className:"text-sm font-medium text-slate-400",children:"About / Scraped content"}),a.jsx("div",{className:"mt-2 overflow-x-auto rounded-lg border border-slate-800 bg-slate-900/60 p-3",children:a.jsx("pre",{className:"whitespace-pre-wrap break-words font-sans text-sm text-slate-300",children:r.scrapedContent})})]})]})]})};function io(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const uo=10,Pv=()=>{const{user:e}=it(),[t,n]=c.useState([]),[r,s]=c.useState(""),[l,o]=c.useState([]),[i,u]=c.useState("and"),[f,m]=c.useState(!1),[p,g]=c.useState(""),[y,b]=c.useState("avgDesc"),[v,j]=c.useState(1),[h,d]=c.useState(!1),[x,w]=c.useState(null),C=!!e,L=Ot(e??null,"manager"),A=c.useRef(null),[$,I]=c.useState([]);c.useEffect(()=>{const P=io();if(!P)return;let k=!1;return fetch(`${P}/media-categories`).then(E=>E.ok?E.json():Promise.reject(new Error("Failed to load categories"))).then(E=>{if(k)return;const N=(E.categories??[]).map(M=>({id:M.PK||M.id||"",name:M.name||M.PK||""}));N.sort((M,_)=>(M.name||"").localeCompare(_.name||"")),I(N)}).catch(()=>{}),()=>{k=!0}},[]);const R=c.useMemo(()=>{if(i==="or"&&$.length>0)return $;const P=new Map;t.forEach(E=>(E.categories||[]).forEach(N=>{N.id&&!P.has(N.id)&&P.set(N.id,N)}));const k=[...$];return P.forEach(E=>{k.some(N=>N.id===E.id)||k.push(E)}),k.sort((E,N)=>(E.name||"").localeCompare(N.name||"")),k},[$,i,t]),V=c.useMemo(()=>R.filter(P=>!l.includes(P.id)&&(!p.trim()||(P.name||"").toLowerCase().includes(p.toLowerCase()))),[R,l,p]),J=r.trim().length>0||l.length>0;c.useEffect(()=>{if(!J){n([]),j(1),d(!1),w(null);return}const P=io();if(!P){w("API URL not set. Deploy via CI or set window.API_BASE_URL in config.js.");return}let k=!1;async function E(){d(!0),w(null);try{const N=new URLSearchParams;N.set("limit","100"),r.trim()&&N.set("q",r.trim()),l.length>0&&(N.set("categoryIds",l.join(",")),N.set("categoryMode",i));const M=await fetch(`${P}/media?${N.toString()}`);if(!M.ok){const ae=await M.text();throw new Error(`HTTP ${M.status}: ${ae}`)}const _=await M.json();if(k)return;n(_.media??[]),j(1)}catch(N){k||w((N==null?void 0:N.message)??"Failed to load media.")}finally{k||d(!1)}}return E(),()=>{k=!0}},[J,r,l,i]),c.useEffect(()=>{function P(k){A.current&&!A.current.contains(k.target)&&m(!1)}if(f)return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[f]);const re=c.useMemo(()=>{const P=[...t];return P.sort((k,E)=>{const N=(k.title||k.PK||"").toLowerCase(),M=(E.title||E.PK||"").toLowerCase(),_=typeof k.averageRating=="number"?k.averageRating:0,ae=typeof E.averageRating=="number"?E.averageRating:0;return y==="avgDesc"?ae!==_?ae-_:N.localeCompare(M):y==="avgAsc"?_!==ae?_-ae:N.localeCompare(M):y==="alphaAsc"?N.localeCompare(M):y==="alphaDesc"?M.localeCompare(N):0}),P},[t,y]),K=Math.max(1,Math.ceil(re.length/uo)),de=re.slice((v-1)*uo,v*uo),B=async(P,k)=>{const E=io();if(!E)return;const N=window;if(!N.auth||typeof N.auth.getAccessToken!="function")return;const M=await new Promise(_=>{N.auth.getAccessToken(ae=>_(ae))});M&&await fetch(`${E}/media/stars`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({mediaId:P,rating:k})}).catch(()=>{})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Media"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Images and videos attached to sites and experiments across Funkedupshift."})]}),a.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4 space-y-4","aria-label":"Search and filter",children:[a.jsxs("form",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",onSubmit:P=>{P.preventDefault(),s(r.trim())},children:[a.jsx("input",{type:"text",value:r,onChange:P=>s(P.target.value),placeholder:"Search media by title or description",className:"flex-1 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500",children:"Search"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4 sm:gap-6",children:[a.jsxs("div",{ref:A,className:"relative flex-shrink-0 min-w-0 max-w-sm",children:[a.jsx("label",{htmlFor:"media-category-filter",className:"block text-xs font-medium text-slate-400 mb-1",children:"Categories (filter by)"}),a.jsx("input",{id:"media-category-filter",type:"text",value:p,onChange:P=>g(P.target.value),onFocus:()=>m(!0),placeholder:"Search and select categories",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",autoComplete:"off"}),f&&a.jsx("div",{className:"absolute left-0 top-full z-10 mt-1 w-full max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",role:"listbox","aria-label":"Category options",children:V.length>0?V.map(P=>a.jsx("button",{type:"button",role:"option",onClick:()=>{o(k=>k.includes(P.id)?k:[...k,P.id]),g("")},className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:P.name},P.id)):a.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:R.length===0?"No categories yet.":"No matches or all selected."})}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:l.map(P=>{const k=R.find(E=>E.id===P);return a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(k==null?void 0:k.name)??P,a.jsx("button",{type:"button",onClick:()=>o(E=>E.filter(N=>N!==P)),className:"hover:text-red-400","aria-label":"Remove category filter",children:""})]},P)})}),l.length>0&&a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Match:"}),a.jsxs("div",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 p-0.5",children:[a.jsx("button",{type:"button",onClick:()=>u("and"),className:`rounded px-2 py-0.5 text-xs font-medium ${i==="and"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"AND"}),a.jsx("button",{type:"button",onClick:()=>u("or"),className:`rounded px-2 py-0.5 text-xs font-medium ${i==="or"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"OR"})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-xs text-slate-400",children:[a.jsx("span",{className:"font-medium text-slate-200",children:"Sort:"}),a.jsxs("select",{value:y,onChange:P=>{b(P.target.value),j(1)},className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",children:[a.jsx("option",{value:"avgDesc",children:"Avg stars (high first)"}),a.jsx("option",{value:"avgAsc",children:"Avg stars (low first)"}),a.jsx("option",{value:"alphaAsc",children:"Title AZ"}),a.jsx("option",{value:"alphaDesc",children:"Title ZA"})]}),a.jsx("span",{className:"text-slate-500",children:J?re.length===0?"No media found.":`${re.length} items`:""})]})]})]}),x&&a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:x}),J?h?a.jsx("div",{className:"text-sm text-slate-400",children:"Loading media"}):a.jsx("ul",{className:"space-y-3",children:de.map(P=>{const k=P.thumbnailUrl||(P.mediaType==="image"?P.mediaUrl:void 0),E=P.title||P.PK||"Untitled",N=P.mediaType==="video"?"Video":"Image",M=`/media/${encodeURIComponent(P.PK)}`;return a.jsxs("li",{className:"flex gap-3 rounded-xl border border-slate-800 bg-slate-950/60 p-3",children:[a.jsx(ce,{to:M,className:"h-16 w-24 flex-shrink-0 overflow-hidden rounded-lg border border-slate-700 bg-slate-900 flex items-center justify-center text-xl hover:border-slate-600",children:k?a.jsx("img",{src:k,alt:"",className:"h-full w-full object-cover",onError:_=>{_.currentTarget.style.visibility="hidden"}}):a.jsx("span",{children:P.mediaType==="video"?"":""})}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("h2",{className:"truncate text-sm font-semibold text-slate-50",children:a.jsx(ce,{to:M,className:"hover:text-brand-orange",children:E})}),typeof P.averageRating=="number"&&a.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-900 px-2 py-0.5 text-[11px] text-amber-300",children:[P.averageRating.toFixed(1),""]}),a.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-900 px-2 py-0.5 text-[10px] uppercase tracking-wide text-slate-400",children:N})]}),P.description&&a.jsx("p",{className:"text-xs text-slate-300 line-clamp-3",children:P.description}),P.categories&&P.categories.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 pt-1",children:P.categories.map(_=>a.jsx("span",{className:"rounded-full bg-slate-900 px-2 py-0.5 text-[11px] text-slate-300",children:_.name},_.id))}),L&&a.jsx("div",{className:"pt-1",children:a.jsxs(ce,{to:`/admin/media/edit/${encodeURIComponent(P.PK)}`,className:"inline-flex items-center gap-1 text-[11px] text-slate-400 hover:text-slate-200",children:[a.jsx(gu,{className:"h-3.5 w-3.5"}),"Edit"]})}),C&&a.jsx("div",{className:"pt-1",children:a.jsxs("label",{className:"inline-flex items-center gap-1 text-[11px] text-slate-400",children:[a.jsx("span",{children:"Rate:"}),a.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-1 py-0.5 text-[11px] text-slate-50",onChange:_=>{const ae=Number(_.target.value);ae>=1&&ae<=5&&B(P.PK,ae)},defaultValue:"",children:[a.jsx("option",{value:"",children:"--"}),a.jsx("option",{value:"1",children:"1"}),a.jsx("option",{value:"2",children:"2"}),a.jsx("option",{value:"3",children:"3"}),a.jsx("option",{value:"4",children:"4"}),a.jsx("option",{value:"5",children:"5"})]})]})})]})]},P.PK)})}):a.jsx("div",{className:"flex items-center justify-center min-h-[280px]",children:a.jsx("p",{className:"text-2xl sm:text-3xl font-light text-slate-500/80 tracking-wide animate-pulse",children:"Enter search term or select categories"})}),J&&K>1&&a.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-center gap-2 text-xs",children:[a.jsx("button",{type:"button",disabled:v<=1,onClick:()=>j(P=>Math.max(1,P-1)),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 disabled:opacity-40",children:"Prev"}),a.jsxs("span",{className:"text-slate-500",children:["Page ",v," of ",K]}),a.jsx("button",{type:"button",disabled:v>=K,onClick:()=>j(P=>Math.min(K,P+1)),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 disabled:opacity-40",children:"Next"})]})]})};function Hc(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Tv=()=>{var v;const{id:e}=wl(),{user:t}=it(),[n,r]=c.useState(null),[s,l]=c.useState(null),[o,i]=c.useState(!0),[u,f]=c.useState(null),m=Ot(t??null,"manager"),p=e?decodeURIComponent(e):"";c.useEffect(()=>{const j=Hc();if(!j||!p){f(p?"API URL not set.":"Missing media id."),i(!1);return}let h=!1;async function d(){i(!0),f(null);try{const x=await fetch(`${j}/media?id=${encodeURIComponent(p)}`);if(x.status===404){h||r(null);return}if(!x.ok){const L=await x.text();throw new Error(`HTTP ${x.status}: ${L}`)}const w=await x.json();if(h)return;const C=Array.isArray(w.media)?w.media[0]:w.media;r(C??null)}catch(x){h||f((x==null?void 0:x.message)??"Failed to load media.")}finally{h||i(!1)}}return d(),()=>{h=!0}},[p]);const g=async j=>{var w;const h=Hc();if(!h||!n)return;const d=window;if(!((w=d.auth)!=null&&w.getAccessToken))return;const x=await new Promise(C=>d.auth.getAccessToken(C));x&&await fetch(`${h}/media/stars`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({mediaId:n.PK,rating:j})}).then(()=>l(j)).catch(()=>{})};if(o)return a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ce,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Media"]}),a.jsx("div",{className:"text-sm text-slate-400",children:"Loading"})]});if(u||!n)return a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ce,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Media"]}),a.jsx("div",{className:"rounded-md border border-slate-700 bg-slate-900/60 px-4 py-3 text-slate-200",children:u||"Media not found."})]});const y=n.title||n.PK||"Untitled",b=n.mediaType==="video";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs(ce,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Media"]}),m&&a.jsxs(ce,{to:`/admin/media/edit/${encodeURIComponent(n.PK)}`,className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(gu,{className:"h-4 w-4"}),"Edit"]})]}),a.jsxs("article",{className:"rounded-xl border border-slate-800 bg-slate-950/60 overflow-hidden",children:[a.jsxs("header",{className:"p-4 sm:p-6 border-b border-slate-800",children:[a.jsx("h1",{className:"text-xl font-semibold tracking-tight text-slate-50",children:y}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[typeof n.averageRating=="number"&&a.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-800 px-2 py-0.5 text-sm text-amber-300",children:[n.averageRating.toFixed(1)," average"]}),a.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-800 px-2 py-0.5 text-xs uppercase tracking-wide text-slate-400",children:b?"Video":"Image"})]}),n.description&&a.jsx("p",{className:"mt-3 text-sm text-slate-300",children:n.description}),(((v=n.categories)==null?void 0:v.length)??0)>0&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:n.categories.map(j=>a.jsx("span",{className:"rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-300",children:j.name},j.id))}),t&&a.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[s!==null&&a.jsxs("span",{className:"text-xs text-slate-400",children:["Your rating: ",s,""]}),a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-400",children:[a.jsx("span",{children:"Rate:"}),a.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-sm text-slate-50",value:s??"",onChange:j=>{const h=Number(j.target.value);h>=1&&h<=5&&g(h)},children:[a.jsx("option",{value:"",children:"--"}),a.jsx("option",{value:"1",children:"1"}),a.jsx("option",{value:"2",children:"2"}),a.jsx("option",{value:"3",children:"3"}),a.jsx("option",{value:"4",children:"4"}),a.jsx("option",{value:"5",children:"5"})]})]})]})]}),a.jsx("div",{className:"p-4 sm:p-6 bg-slate-900/40 flex justify-center items-center min-h-[200px]",children:n.mediaUrl?b?a.jsx("video",{src:n.mediaUrl,controls:!0,className:"max-w-full max-h-[70vh] rounded-lg border border-slate-700",playsInline:!0}):a.jsx("img",{src:n.mediaUrl,alt:y,className:"max-w-full max-h-[70vh] w-auto h-auto object-contain rounded-lg border border-slate-700"}):a.jsx("p",{className:"text-sm text-slate-500",children:"No media URL available."})})]})]})},Qm="funkedupshift_internet_dashboard",Lv=5*60*1e3;function Av(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function Rv(){try{const e=localStorage.getItem(Qm);if(!e)return null;const t=JSON.parse(e);return!(t!=null&&t.sites)||!(t!=null&&t.lastFetchTime)||Date.now()-new Date(t.lastFetchTime).getTime()>=Lv?null:t.sites}catch{return null}}function $v(e){try{localStorage.setItem(Qm,JSON.stringify({sites:e,lastFetchTime:new Date().toISOString()}))}catch{}}const Iv=()=>{const[e,t]=c.useState([]),[n,r]=c.useState(!0),[s,l]=c.useState(null),o=c.useCallback(async()=>{const i=Av(),u=Rv();if(u&&u.length>0){t(u),r(!1),l(null);return}if(!i){l("API URL not set."),r(!1);return}r(!0),l(null);try{const f=await fetch(`${i}/internet-dashboard`);if(!f.ok){const g=await f.text();throw new Error(g||`HTTP ${f.status}`)}const m=await f.json(),p=Array.isArray(m.sites)?m.sites:[];p.length>0?($v(p),t(p)):(l(u!=null&&u.length?void 0:"No data returned."),u!=null&&u.length&&t(u))}catch(f){const m=f instanceof Error?f.message:"Failed to load dashboard.";u&&u.length>0?(t(u),l(null)):(l(m),t([]))}finally{r(!1)}},[]);return c.useEffect(()=>{o()},[o]),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Internet dashboard"}),a.jsxs("div",{className:"rounded-xl border border-teal-800/60 bg-gradient-to-br from-teal-900/40 to-teal-950/60 p-4 shadow-lg",children:[a.jsx("p",{className:"text-sm font-medium text-teal-100",children:"Live status of popular sites"}),a.jsx("p",{className:"mt-1 text-xs text-teal-200/80",children:"Refreshes when data is older than 5 minutes"})]}),n&&a.jsx("p",{className:"text-sm text-slate-400",children:"Loading"}),s&&!e.length&&a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:s}),a.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(140px,1fr))] gap-3",children:e.map(i=>{const u=(i.status||"down").toLowerCase(),f=u==="up"?"border-emerald-500/50 bg-emerald-500/15 text-emerald-200":u==="degraded"?"border-amber-500/50 bg-amber-500/15 text-amber-200":"border-red-500/50 bg-red-500/15 text-red-200",m=i.responseTimeMs!=null?`${i.responseTimeMs} ms`:null;return a.jsxs("div",{className:`rounded-lg border p-3 text-center text-sm ${f}`,children:[a.jsx("div",{className:"font-semibold break-all",children:i.domain}),a.jsx("div",{className:"mt-1 text-xs capitalize opacity-90",children:u}),m&&a.jsx("div",{className:"mt-0.5 text-[11px] opacity-75",children:m})]},i.domain)})})]})};function Uv(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Dv=["image/png","image/jpeg","image/jpg","image/gif","image/webp"],_v=()=>{const{user:e}=it(),{logo:t}=qm(),[n,r]=c.useState(null),[s,l]=c.useState("Funkedupshift"),[o,i]=c.useState(null),[u,f]=c.useState(!1),[m,p]=c.useState(null),[g,y]=c.useState(null);if(!Ot(e??null,"superadmin"))return a.jsxs("div",{className:"space-y-3",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Branding"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Only superadmin users can manage global branding assets."})]});const v=h=>{var x;const d=(x=h.target.files)==null?void 0:x[0];r(d??null),p(null),y(null),o&&(URL.revokeObjectURL(o),i(null)),d&&i(URL.createObjectURL(d))},j=async h=>{if(h.preventDefault(),y(null),p(null),!n){y("Choose an image file first.");return}const d=n.type||"image/png";if(!Dv.includes(d)){y("Logo must be PNG, JPEG, GIF, or WEBP.");return}const x=Uv();if(!x){y("API URL not configured.");return}const w=window;if(!w.auth||typeof w.auth.getAccessToken!="function"){y("Auth not initialized.");return}f(!0);try{const C=await new Promise(I=>{w.auth.getAccessToken(R=>I(R))});if(!C)throw new Error("Missing access token.");const L=await fetch(`${x}/branding/logo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${C}`},body:JSON.stringify({contentType:d,alt:s})});if(!L.ok){const I=await L.text();throw new Error(I||`Metadata request failed with ${L.status}`)}const A=await L.json();if(!A.uploadUrl)throw new Error("uploadUrl missing from response.");const $=await fetch(A.uploadUrl,{method:"PUT",headers:{"Content-Type":d},body:n});if(!$.ok)throw new Error(`Upload failed with ${$.status}`);p("Logo updated. It may take a moment for caches to refresh.")}catch(C){y((C==null?void 0:C.message)??"Failed to update logo.")}finally{f(!1)}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Branding"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Upload a new global logo for Funkedupshift. This logo is used in the navigation bar and other shared surfaces."})]}),a.jsxs("form",{className:"space-y-4 max-w-md",onSubmit:j,children:[a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsx("label",{className:"block text-slate-200",children:"Logo image"}),t&&!o&&a.jsxs("div",{className:"space-y-1 mb-3",children:[a.jsx("p",{className:"text-slate-200",children:"Current logo"}),a.jsx("div",{className:"inline-flex items-center rounded-lg border border-slate-800 bg-slate-950 p-2",children:a.jsx("img",{src:t.url,alt:t.alt,className:"h-12 w-auto rounded-md object-contain"})})]}),a.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",onChange:v,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-slate-100 hover:file:bg-slate-700"}),a.jsx("p",{className:"text-xs text-slate-500",children:"PNG, JPEG, GIF, or WEBP. Recommended square or horizontal layout."})]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsx("label",{className:"block text-slate-200",children:"Alt text"}),a.jsx("input",{type:"text",value:s,onChange:h=>l(h.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),o&&a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsx("p",{className:"text-slate-200",children:"Preview"}),a.jsxs("div",{className:"inline-flex items-center rounded-lg border border-slate-800 bg-slate-950 p-2",children:[a.jsx("img",{src:o,alt:"Preview",className:"h-12 w-auto rounded-md object-contain"}),a.jsx("span",{className:"ml-3 text-xs text-slate-400 truncate max-w-[12rem]",children:n==null?void 0:n.name})]})]}),a.jsx("button",{type:"submit",disabled:u||!n,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:u?"Updating":"Update logo"}),m&&a.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-200",children:m}),g&&a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:g})]})]})},Ov={admin:"SuperAdmin",manager:"Manager",user:"User"},wi=[{value:-8,label:"UTC-8"},{value:-5,label:"UTC-5"},{value:0,label:"UTC+0/GMT"}];function cr(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function Mv(e,t,n){if(!e&&!n)return"";if(!e)return n?`from ${n}`:"";try{const r=new Date(e);if(isNaN(r.getTime()))return e+(n?` from ${n}`:"");const s=r.getTime()+(t||0)*36e5,l=new Date(s),o=v=>v<10?"0"+v:""+v,i=l.getUTCFullYear(),u=o(l.getUTCMonth()+1),f=o(l.getUTCDate()),m=o(l.getUTCHours()),p=o(l.getUTCMinutes()),g=wi.find(v=>v.value===t),y=g?g.label:t<0?"UTC"+t:"UTC+"+t;let b=`${i}-${u}-${f} ${m}:${p} ${y}`;return n&&(b+=` from ${n}`),b}catch{return e+(n?` from ${n}`:"")}}const Fv=()=>{const{user:e}=it(),t=Jt(),[n,r]=jl(),s=n.get("tab"),l=s==="groups"?"groups":"users",[o,i]=c.useState(l);c.useEffect(()=>{i(s==="groups"?"groups":"users")},[s]);const u=U=>{i(U);const D=new URLSearchParams(n);U==="groups"?D.set("tab","groups"):D.delete("tab"),r(D)},[f,m]=c.useState([]),[p,g]=c.useState(!0),[y,b]=c.useState(null),[v,j]=c.useState(""),[h,d]=c.useState(-8),[x,w]=c.useState([]),[C,L]=c.useState(!0),[A,$]=c.useState(null),[I,R]=c.useState(""),[V,J]=c.useState(""),[re,K]=c.useState(""),[de,B]=c.useState(!1),[P,k]=c.useState(null),[E,N]=c.useState(null),[M,_]=c.useState(""),[ae,me]=c.useState(""),[be,ye]=c.useState(!1),[O,T]=c.useState(null),[H,le]=c.useState(null),W=Ot(e??null,"manager"),Q=async U=>{var Y;const D=cr();if(!D){b("API URL not set."),g(!1);return}const X=window;if(!((Y=X.auth)!=null&&Y.getAccessToken)){b("Sign in required."),g(!1);return}g(!0),b(null);try{const te=await new Promise(pe=>X.auth.getAccessToken(pe));let ee=`${D}/admin/users`;U&&(ee+=`?paginationToken=${encodeURIComponent(U)}`);const ie=await fetch(ee,{headers:{Authorization:`Bearer ${te}`}});if(!ie.ok){const pe=await ie.json().catch(()=>({}));throw new Error(pe.error||"Failed to load users")}const fe=await ie.json();m(pe=>U?[...pe,...fe.users??[]]:fe.users??[]),j(fe.paginationToken??"")}catch(te){b((te==null?void 0:te.message)??"Failed to load users")}finally{g(!1)}},oe=async U=>{var Y;const D=cr();if(!D)return{cognitoGroups:[],customGroups:[]};const X=window;if(!((Y=X.auth)!=null&&Y.getAccessToken))return{cognitoGroups:[],customGroups:[]};try{const te=await new Promise(fe=>X.auth.getAccessToken(fe)),ee=await fetch(`${D}/admin/users/${encodeURIComponent(U.username)}/groups`,{headers:{Authorization:`Bearer ${te}`}});if(!ee.ok)return{cognitoGroups:[],customGroups:[]};const ie=await ee.json();return{cognitoGroups:ie.cognitoGroups??[],customGroups:ie.customGroups??[]}}catch{return{cognitoGroups:[],customGroups:[]}}},je=async()=>{var X;const U=cr();if(!U){$("API URL not set."),L(!1);return}const D=window;if(!((X=D.auth)!=null&&X.getAccessToken)){$("Sign in required."),L(!1);return}L(!0),$(null);try{const Y=await new Promise(fe=>D.auth.getAccessToken(fe)),te=await fetch(`${U}/admin/groups`,{headers:{Authorization:`Bearer ${Y}`}});if(!te.ok)throw new Error(await te.text());const ie=((await te.json()).groups??[]).map(fe=>({name:fe.name??(fe.PK??"").replace("GROUP#",""),description:fe.description,permissions:Array.isArray(fe.permissions)?fe.permissions:[]}));ie.sort((fe,pe)=>fe.name.toLowerCase().localeCompare(pe.name.toLowerCase())),w(ie)}catch(Y){$((Y==null?void 0:Y.message)??"Failed to load groups")}finally{L(!1)}};c.useEffect(()=>{const U=parseInt(sessionStorage.getItem("funkedupshift_lastlogin_tz")??"-8",10);!isNaN(U)&&wi.some(D=>D.value===U)&&d(U)},[]),c.useEffect(()=>{W&&o==="users"&&Q()},[W,o]),c.useEffect(()=>{W&&o==="groups"&&je()},[W,o]);const tt=U=>{t(`/admin/users/edit?username=${encodeURIComponent(U.username)}&email=${encodeURIComponent(U.email??"")}&status=${encodeURIComponent(U.status??"")}`)},Ve=(U,D)=>{const X=[];return(U||[]).forEach(Y=>{const te=Ov[Y]||Y,ee=Y==="admin"?"bg-amber-500/20 text-amber-200":Y==="manager"?"bg-blue-500/20 text-blue-200":"bg-slate-600/30 text-slate-300";X.push(a.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs mr-1 ${ee}`,children:te},`c-${Y}`))}),(D||[]).forEach(Y=>{X.push(a.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs mr-1 bg-emerald-500/20 text-emerald-200",children:Y},`x-${Y}`))}),X.length?X:a.jsx("span",{className:"text-slate-500",children:""})},ke=U=>{N(U.name),_(U.description??""),me((U.permissions??[]).join(", ")),T(null)},Ie=()=>{N(null),_(""),me(""),T(null)},Qe=async U=>{var ee;U.preventDefault();const D=I.trim();if(!D)return;const X=cr();if(!X)return;const Y=window;if(!((ee=Y.auth)!=null&&ee.getAccessToken))return;const te=re.split(",").map(ie=>ie.trim()).filter(Boolean);B(!0),k(null),$(null);try{const ie=await new Promise(pe=>Y.auth.getAccessToken(pe)),fe=await fetch(`${X}/admin/groups`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ie}`},body:JSON.stringify({name:D,description:V.trim(),permissions:te})});if(!fe.ok){const pe=await fe.json().catch(()=>({}));throw new Error(pe.error||"Failed to create group")}R(""),J(""),K(""),k("Group created."),je()}catch(ie){$((ie==null?void 0:ie.message)??"Failed to create group")}finally{B(!1)}},Me=async U=>{var te;if(U.preventDefault(),!E)return;const D=cr();if(!D)return;const X=window;if(!((te=X.auth)!=null&&te.getAccessToken))return;const Y=ae.split(",").map(ee=>ee.trim()).filter(Boolean);ye(!0),T(null);try{const ee=await new Promise(fe=>X.auth.getAccessToken(fe)),ie=await fetch(`${D}/admin/groups/${encodeURIComponent(E)}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({description:M,permissions:Y})});if(!ie.ok){const fe=await ie.json().catch(()=>({}));throw new Error(fe.error||"Failed to update group")}w(fe=>fe.map(pe=>pe.name===E?{...pe,description:M,permissions:Y}:pe)),Ie()}catch(ee){T((ee==null?void 0:ee.message)??"Failed to update group")}finally{ye(!1)}},xt=async U=>{var Y;if(!window.confirm(`Delete group "${U}"? Members will lose access.`))return;const D=cr();if(!D)return;const X=window;if((Y=X.auth)!=null&&Y.getAccessToken){le(U);try{const te=await new Promise(ie=>X.auth.getAccessToken(ie)),ee=await fetch(`${D}/admin/groups/${encodeURIComponent(U)}`,{method:"DELETE",headers:{Authorization:`Bearer ${te}`}});if(!ee.ok){const ie=await ee.json().catch(()=>({}));throw new Error(ie.error||"Failed to delete group")}w(ie=>ie.filter(fe=>fe.name!==U)),E===U&&Ie()}catch(te){$((te==null?void 0:te.message)??"Failed to delete group")}finally{le(null)}}},ut=U=>{const D=parseInt(U.target.value,10);d(D),sessionStorage.setItem("funkedupshift_lastlogin_tz",String(D))};return W?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ce,{to:"/",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Home"]}),a.jsxs("header",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Membership"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Manage users and groups."})]}),a.jsxs("div",{className:"flex gap-2 border-b border-slate-800 pb-2",children:[a.jsx("button",{type:"button",onClick:()=>u("users"),className:`px-4 py-2 rounded-md text-sm font-medium ${o==="users"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Users"}),a.jsx("button",{type:"button",onClick:()=>u("groups"),className:`px-4 py-2 rounded-md text-sm font-medium ${o==="groups"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Groups"})]}),o==="users"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("label",{htmlFor:"tz-select",className:"text-slate-500",children:"Last login timezone:"}),a.jsx("select",{id:"tz-select",value:h,onChange:ut,className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 text-sm",children:wi.map(U=>a.jsx("option",{value:U.value,children:U.label},U.value))})]}),y&&a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:y}),a.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-800",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[a.jsx("thead",{className:"bg-slate-900/80",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Email"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Last login"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"System Roles"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Custom Groups"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-800",children:p&&f.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:"Loading"})}):f.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:"No users found."})}):f.map(U=>a.jsx(Bv,{user:U,tzOffset:h,formatLastLogin:Mv,renderGroupBadges:Ve,loadUserGroups:oe,onClick:()=>tt(U)},U.username))})]})}),v&&a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{type:"button",onClick:()=>Q(v),disabled:p,className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-medium text-slate-200 hover:bg-slate-800 disabled:opacity-50",children:p?"Loading":"Load more"})})]}),o==="groups"&&a.jsxs(a.Fragment,{children:[a.jsxs("form",{className:"space-y-3 max-w-md",onSubmit:Qe,children:[a.jsx("h2",{className:"text-sm font-medium text-slate-300",children:"Create group"}),a.jsx("input",{type:"text",value:I,onChange:U=>R(U.target.value),placeholder:"Name (alphanumeric, underscore, hyphen)",required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsx("input",{type:"text",value:V,onChange:U=>J(U.target.value),placeholder:"Description (optional)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsx("input",{type:"text",value:re,onChange:U=>K(U.target.value),placeholder:"Permissions (comma-separated, e.g. media:edit, sites:add)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsx("button",{type:"submit",disabled:de||!I.trim(),className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:de?"Creating":"Create"}),P&&a.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:P}),A&&a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:A})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-sm font-medium text-slate-300 mb-2",children:"Custom groups"}),C?a.jsx("p",{className:"text-sm text-slate-500",children:"Loading"}):x.length===0?a.jsx("p",{className:"text-sm text-slate-500",children:"No custom groups yet. Create one above."}):a.jsx("ul",{className:"space-y-2",children:x.map(U=>a.jsx("li",{className:"rounded-lg border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm",children:E===U.name?a.jsxs("form",{onSubmit:Me,className:"space-y-2",children:[a.jsx("span",{className:"font-medium text-slate-200",children:U.name}),a.jsx("input",{type:"text",value:M,onChange:D=>_(D.target.value),placeholder:"Description (optional)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsx("input",{type:"text",value:ae,onChange:D=>me(D.target.value),placeholder:"Permissions (comma-separated)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{type:"submit",disabled:be,className:"rounded-md bg-brand-orange px-3 py-1.5 text-xs font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:be?"Saving":"Save"}),a.jsx("button",{type:"button",onClick:Ie,className:"rounded-md border border-slate-700 px-3 py-1.5 text-xs font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>xt(U.name),disabled:H===U.name,className:"rounded-md border border-red-500/60 px-3 py-1.5 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:H===U.name?"Deleting":"Delete"})]}),O&&a.jsx("p",{className:"text-xs text-red-400",children:O})]}):a.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:"font-medium text-slate-200",children:U.name}),U.description&&a.jsx("span",{className:"text-slate-500 ml-2",children:U.description}),U.permissions&&U.permissions.length>0&&a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Permissions: ",U.permissions.join(", ")]})]}),a.jsxs("div",{className:"flex gap-2 shrink-0",children:[a.jsx("button",{type:"button",onClick:()=>ke(U),className:"rounded-md border border-slate-700 px-2 py-1 text-xs font-medium text-slate-300 hover:bg-slate-800",children:"Edit"}),a.jsx("button",{type:"button",onClick:()=>xt(U.name),disabled:H===U.name,className:"rounded-md border border-red-500/60 px-2 py-1 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:H===U.name?"Deleting":"Delete"})]})]})},U.name))})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Membership"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})},Bv=({user:e,tzOffset:t,formatLastLogin:n,renderGroupBadges:r,loadUserGroups:s,onClick:l})=>{const[o,i]=c.useState(null);return c.useEffect(()=>{let u=!1;return s(e).then(f=>{u||i(f)}),()=>{u=!0}},[e.username]),a.jsxs("tr",{className:"cursor-pointer hover:bg-slate-800/50 transition-colors",onClick:l,children:[a.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:e.email||e.username||""}),a.jsx("td",{className:"px-4 py-3 text-sm text-slate-400",children:e.status||""}),a.jsx("td",{className:"px-4 py-3 text-sm text-slate-400",children:n(e.lastLoginAt??"",t,e.lastLoginIp)}),a.jsx("td",{className:"px-4 py-3 text-sm",children:o?r(o.cognitoGroups,[]):a.jsx("span",{className:"text-slate-500",children:""})}),a.jsx("td",{className:"px-4 py-3 text-sm",children:o?r([],o.customGroups):a.jsx("span",{className:"text-slate-500",children:""})})]})};function Bn(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Vc=100,zv=5*1024*1024,Gv=()=>{const e=Jt(),{user:t}=it(),[n,r]=jl(),s=n.get("tab"),l=s==="categories"?"categories":"add",[o,i]=c.useState(l);c.useEffect(()=>{i(s==="categories"?"categories":"add")},[s]);const u=G=>{i(G);const ue=new URLSearchParams(n);G==="categories"?ue.set("tab","categories"):ue.delete("tab"),r(ue)},[f,m]=c.useState([]),[p,g]=c.useState(""),[y,b]=c.useState(""),[v,j]=c.useState(""),[h,d]=c.useState(!1),[x,w]=c.useState(null),[C,L]=c.useState(null),[A,$]=c.useState(null),[I,R]=c.useState(""),[V,J]=c.useState([]),[re,K]=c.useState(""),[de,B]=c.useState(!1),[P,k]=c.useState(!1),[E,N]=c.useState(null),[M,_]=c.useState(null),[ae,me]=c.useState(!1),be=c.useRef(null),[ye,O]=c.useState(!0),[T,H]=c.useState(null),[le,W]=c.useState(""),[Q,oe]=c.useState(""),[je,tt]=c.useState(!1),[Ve,ke]=c.useState(null),[Ie,Qe]=c.useState(null),[Me,xt]=c.useState(""),[ut,U]=c.useState(""),[D,X]=c.useState(!1),[Y,te]=c.useState(null),[ee,ie]=c.useState(null),fe=Ot(t??null,"manager");c.useEffect(()=>{var Ce;if(!fe)return;const G=Bn();if(!G)return;const ue=window;(Ce=ue.auth)!=null&&Ce.getAccessToken&&(async()=>{const ge=await new Promise(he=>ue.auth.getAccessToken(he));if(!ge)return;const Ne=await fetch(`${G}/categories`,{headers:{Authorization:`Bearer ${ge}`}});if(!Ne.ok)return;const Be=((await Ne.json()).categories??[]).map(he=>({id:he.PK||he.id||"",name:he.name||he.PK||"",description:he.description}));m(Be)})()},[fe]),c.useEffect(()=>{function G(ue){be.current&&!be.current.contains(ue.target)&&B(!1)}if(de)return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[de]);const pe=f.filter(G=>!V.includes(G.id)&&(!re.trim()||(G.name||"").toLowerCase().includes(re.toLowerCase()))),z=G=>{var ge;const ue=(ge=G.target.files)==null?void 0:ge[0];if(w(ue??null),ue&&R(""),$(null),C&&(URL.revokeObjectURL(C),L(null)),!ue)return;if(ue.size>zv){$("Logo must be 5 MB or smaller.");return}const Ce=new Image;Ce.onload=()=>{if(Ce.naturalWidth<Vc||Ce.naturalHeight<Vc){$("Logo must be at least 100100 pixels.");return}$(null),L(URL.createObjectURL(ue))},Ce.onerror=()=>$("Please choose a valid image file."),Ce.src=URL.createObjectURL(ue)},se=G=>{V.includes(G)||J([...V,G]),K("")},ve=G=>{J(V.filter(ue=>ue!==G))},Te=async()=>{var Ce;const G=Bn();if(!G){H("API URL not set."),O(!1);return}const ue=window;if(!((Ce=ue.auth)!=null&&Ce.getAccessToken)){H("Sign in required."),O(!1);return}O(!0),H(null);try{const ge=await new Promise(he=>ue.auth.getAccessToken(he)),Ne=await fetch(`${G}/categories`,{headers:{Authorization:`Bearer ${ge}`}});if(!Ne.ok)throw new Error(await Ne.text());const Be=((await Ne.json()).categories??[]).map(he=>({id:he.PK||he.id||"",name:he.name||he.PK||"",description:he.description}));m(Be)}catch(ge){H((ge==null?void 0:ge.message)??"Failed to load categories.")}finally{O(!1)}};c.useEffect(()=>{fe&&o==="categories"&&Te()},[fe,o]);const Ae=async()=>{var ge;const G=p.trim();if(!G){_("Enter URL first.");return}const ue=Bn();if(!ue){_("API URL not set.");return}const Ce=window;if(!((ge=Ce.auth)!=null&&ge.getAccessToken)){_("Sign in required.");return}me(!0),_(null);try{const Ne=await new Promise(he=>Ce.auth.getAccessToken(he)),Re=await fetch(`${ue}/sites/generate-description`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ne}`},body:JSON.stringify({url:G})});if(!Re.ok)throw new Error(await Re.text());const Be=await Re.json();j(Be.description??""),d(!0)}catch(Ne){_((Ne==null?void 0:Ne.message)??"Failed to generate description.")}finally{me(!1)}},Fe=async G=>{var Ne;G.preventDefault();const ue=p.trim();if(!ue){_("URL is required.");return}const Ce=Bn();if(!Ce){_("API URL not set.");return}const ge=window;if(!((Ne=ge.auth)!=null&&Ne.getAccessToken)){_("Sign in required.");return}if(!(x&&A)){k(!0),_(null),N(null);try{const Re=await new Promise(ne=>ge.auth.getAccessToken(ne));let Be=null;if(I.trim()){const ne=await fetch(`${Ce}/sites/logo-from-url`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Re}`},body:JSON.stringify({siteId:"new",imageUrl:I.trim()})});if(!ne.ok){const ze=await ne.json().catch(()=>({}));throw new Error(ze.error||await ne.text())}const we=await ne.json();we.key&&(Be=we.key)}else if(x){const ne=await fetch(`${Ce}/sites/logo-upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Re}`},body:JSON.stringify({siteId:"new",contentType:x.type||"image/png"})});if(!ne.ok)throw new Error("Logo upload request failed");const{uploadUrl:we,key:ze}=await ne.json();if(!(await fetch(we,{method:"PUT",headers:{"Content-Type":x.type||"image/png"},body:x})).ok)throw new Error("Logo upload failed");Be=ze}const he={url:ue,title:y.trim()||ue,description:v.trim(),categoryIds:V};h&&(he.descriptionAiGenerated=!0),Be&&(he.logoKey=Be);const S=await fetch(`${Ce}/sites`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Re}`},body:JSON.stringify(he)});if(!S.ok)throw new Error(await S.text());const Z=await S.json();N(`Site added: ${Z.title||Z.url||ue}`),g(""),b(""),j(""),d(!1),w(null),C&&URL.revokeObjectURL(C),L(null),J([]),setTimeout(()=>e("/websites"),1500)}catch(Re){_((Re==null?void 0:Re.message)??"Failed to add site.")}finally{k(!1)}}},Ue=G=>{Qe(G.id),xt(G.name),U(G.description??"")},Ee=()=>{Qe(null),xt(""),U(""),te(null)},Hr=async G=>{var ge;if(G.preventDefault(),!Ie)return;const ue=Bn();if(!ue)return;const Ce=window;if((ge=Ce.auth)!=null&&ge.getAccessToken){X(!0),te(null);try{const Ne=await new Promise(Be=>Ce.auth.getAccessToken(Be)),Re=await fetch(`${ue}/categories`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ne}`},body:JSON.stringify({id:Ie,name:Me.trim(),description:ut.trim()||void 0})});if(!Re.ok)throw new Error(await Re.text());m(Be=>Be.map(he=>he.id===Ie?{...he,name:Me.trim(),description:ut.trim()||void 0}:he)),Ee()}catch(Ne){te((Ne==null?void 0:Ne.message)??"Failed to update category.")}finally{X(!1)}}},or=async G=>{var ge;if(!window.confirm("Delete this category? Sites using it will lose this category."))return;const ue=Bn();if(!ue)return;const Ce=window;if((ge=Ce.auth)!=null&&ge.getAccessToken){ie(G);try{const Ne=await new Promise(Be=>Ce.auth.getAccessToken(Be)),Re=await fetch(`${ue}/categories?id=${encodeURIComponent(G)}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ne}`}});if(!Re.ok)throw new Error(await Re.text());m(Be=>Be.filter(he=>he.id!==G)),Ie===G&&Ee()}catch(Ne){H((Ne==null?void 0:Ne.message)??"Failed to delete category.")}finally{ie(null)}}},Hs=async G=>{var Ne;G.preventDefault();const ue=le.trim();if(!ue)return;const Ce=Bn();if(!Ce)return;const ge=window;if((Ne=ge.auth)!=null&&Ne.getAccessToken){tt(!0),ke(null),H(null);try{const Re=await new Promise(he=>ge.auth.getAccessToken(he)),Be=await fetch(`${Ce}/categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Re}`},body:JSON.stringify({name:ue,description:Q.trim()})});if(!Be.ok)throw new Error(await Be.text());W(""),oe(""),ke("Category created."),Te()}catch(Re){H((Re==null?void 0:Re.message)??"Failed to create category.")}finally{tt(!1)}}};return fe?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ce,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Websites"]}),a.jsxs("header",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Websites"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Add sites and manage website categories."})]}),a.jsxs("div",{className:"flex gap-2 border-b border-slate-800 pb-2",children:[a.jsx("button",{type:"button",onClick:()=>u("add"),className:`px-4 py-2 rounded-md text-sm font-medium ${o==="add"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Add Site"}),a.jsx("button",{type:"button",onClick:()=>u("categories"),className:`px-4 py-2 rounded-md text-sm font-medium ${o==="categories"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Website Categories"})]}),o==="add"&&a.jsxs("form",{className:"space-y-4 max-w-xl",onSubmit:Fe,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"URL *"}),a.jsx("input",{type:"url",value:p,onChange:G=>g(G.target.value),placeholder:"https://example.com",required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Title (optional)"}),a.jsx("input",{type:"text",value:y,onChange:G=>b(G.target.value),placeholder:"Display title",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description (optional)"}),a.jsx("textarea",{value:v,onChange:G=>{j(G.target.value),d(!1)},placeholder:"Short description",rows:4,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsx("button",{type:"button",onClick:Ae,disabled:ae||!p.trim(),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-1.5 text-xs font-medium text-slate-200 hover:bg-slate-700 disabled:opacity-50",children:ae?"Generating":"Generate AI description"}),h&&a.jsx("span",{className:"ml-2 text-xs uppercase tracking-wide text-slate-500",children:"AI summary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Logo (optional, min 100100, max 5 MB)"}),a.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp",onChange:z,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-slate-100"}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Or paste image URL (image will be copied to S3 on save):"}),a.jsx("input",{type:"url",value:I,onChange:G=>{R(G.target.value),G.target.value.trim()&&w(null)},placeholder:"https://example.com/logo.png",className:"mt-1 w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),C&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:C,alt:"Preview",className:"h-16 w-16 rounded-lg border border-slate-700 object-cover"})}),A&&a.jsx("p",{className:"mt-1 text-xs text-red-400",children:A})]}),a.jsxs("div",{ref:be,className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Categories (optional)"}),a.jsx("input",{type:"text",value:re,onChange:G=>K(G.target.value),onFocus:()=>B(!0),placeholder:"Search and select",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),de&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",children:pe.length?pe.map(G=>a.jsx("button",{type:"button",onClick:()=>se(G.id),className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:G.name},G.id)):a.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches"})}),f.length===0&&a.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["No categories."," ",a.jsx("button",{type:"button",onClick:()=>u("categories"),className:"text-brand-orange hover:underline",children:"Create categories"})]})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:V.map(G=>{const ue=f.find(Ce=>Ce.id===G);return a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(ue==null?void 0:ue.name)??G,a.jsx("button",{type:"button",onClick:()=>ve(G),className:"hover:text-red-400","aria-label":"Remove",children:""})]},G)})})]}),a.jsx("button",{type:"submit",disabled:P,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:P?"Adding":"Add Site"}),E&&a.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:E}),M&&a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:M})]}),o==="categories"&&a.jsxs(a.Fragment,{children:[a.jsxs("form",{className:"space-y-3 max-w-md",onSubmit:Hs,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"New category name"}),a.jsx("input",{type:"text",value:le,onChange:G=>W(G.target.value),placeholder:"e.g. Developer tools",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description (optional)"}),a.jsx("input",{type:"text",value:Q,onChange:G=>oe(G.target.value),placeholder:"Optional description",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsx("button",{type:"submit",disabled:je||!le.trim(),className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:je?"Creating":"Create category"}),Ve&&a.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:Ve}),T&&a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:T})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-sm font-medium text-slate-300 mb-2",children:"Existing categories"}),ye?a.jsx("p",{className:"text-sm text-slate-500",children:"Loading"}):f.length===0?a.jsx("p",{className:"text-sm text-slate-500",children:"No categories yet. Create one above."}):a.jsx("ul",{className:"space-y-2",children:f.map(G=>a.jsx("li",{className:"rounded-lg border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm",children:Ie===G.id?a.jsxs("form",{onSubmit:Hr,className:"space-y-2",children:[a.jsx("input",{type:"text",value:Me,onChange:ue=>xt(ue.target.value),placeholder:"Name",required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",autoFocus:!0}),a.jsx("input",{type:"text",value:ut,onChange:ue=>U(ue.target.value),placeholder:"Description (optional)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{type:"submit",disabled:D||!Me.trim(),className:"rounded-md bg-brand-orange px-3 py-1.5 text-xs font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:D?"Saving":"Save"}),a.jsx("button",{type:"button",onClick:Ee,className:"rounded-md border border-slate-700 px-3 py-1.5 text-xs font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>or(G.id),disabled:ee===G.id,className:"rounded-md border border-red-500/60 px-3 py-1.5 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:ee===G.id?"Deleting":"Delete"})]}),Y&&a.jsx("p",{className:"text-xs text-red-400",children:Y})]}):a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>Ue(G),className:"flex-1 min-w-0 text-left hover:bg-slate-800/50 rounded px-1 -mx-1 py-1 -my-1 transition-colors",children:[a.jsx("span",{className:"font-medium text-slate-200",children:G.name}),G.description&&a.jsx("span",{className:"text-slate-500 truncate max-w-xs ml-2",children:G.description})]}),a.jsx("button",{type:"button",onClick:()=>or(G.id),disabled:ee===G.id,className:"rounded px-2 py-1 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50 shrink-0","aria-label":"Delete category",children:ee===G.id?"":"Delete"})]})},G.id))})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Websites"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})};function dr(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function Wv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}const Hv=()=>{const e=Jt(),{user:t}=it(),[n,r]=jl(),s=n.get("tab"),l=s==="categories"?"categories":"add",[o,i]=c.useState(l);c.useEffect(()=>{i(s==="categories"?"categories":"add")},[s]);const u=z=>{i(z);const se=new URLSearchParams(n);z==="categories"?se.set("tab","categories"):se.delete("tab"),r(se)},[f,m]=c.useState([]),[p,g]=c.useState(""),[y,b]=c.useState(""),[v,j]=c.useState(null),[h,d]=c.useState(null),[x,w]=c.useState([]),[C,L]=c.useState(""),[A,$]=c.useState(!1),[I,R]=c.useState(!1),[V,J]=c.useState(null),[re,K]=c.useState(null),de=c.useRef(null),[B,P]=c.useState(!0),[k,E]=c.useState(null),[N,M]=c.useState(""),[_,ae]=c.useState(""),[me,be]=c.useState(!1),[ye,O]=c.useState(null),[T,H]=c.useState(null),[le,W]=c.useState(""),[Q,oe]=c.useState(""),[je,tt]=c.useState(!1),[Ve,ke]=c.useState(null),[Ie,Qe]=c.useState(null),Me=Ot(t??null,"manager");c.useEffect(()=>{var ve;if(!Me)return;const z=dr();if(!z)return;const se=window;(ve=se.auth)!=null&&ve.getAccessToken&&(async()=>{const Te=await new Promise(Ee=>se.auth.getAccessToken(Ee));if(!Te)return;const Ae=await fetch(`${z}/media-categories`,{headers:{Authorization:`Bearer ${Te}`}});if(!Ae.ok)return;const Ue=((await Ae.json()).categories??[]).map(Ee=>({id:Ee.PK||Ee.id||"",name:Ee.name||Ee.PK||"",description:Ee.description}));m(Ue)})()},[Me]),c.useEffect(()=>{function z(se){de.current&&!de.current.contains(se.target)&&$(!1)}if(A)return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[A]);const xt=f.filter(z=>!x.includes(z.id)&&(!C.trim()||(z.name||"").toLowerCase().includes(C.toLowerCase()))),ut=z=>{var ve;const se=(ve=z.target.files)==null?void 0:ve[0];j(se??null),K(null),h&&(URL.revokeObjectURL(h),d(null)),se&&d(URL.createObjectURL(se))},U=z=>{x.includes(z)||w([...x,z]),L("")},D=z=>{w(x.filter(se=>se!==z))},X=async()=>{var ve;const z=dr();if(!z){E("API URL not set."),P(!1);return}const se=window;if(!((ve=se.auth)!=null&&ve.getAccessToken)){E("Sign in required."),P(!1);return}P(!0),E(null);try{const Te=await new Promise(Ee=>se.auth.getAccessToken(Ee)),Ae=await fetch(`${z}/media-categories`,{headers:{Authorization:`Bearer ${Te}`}});if(!Ae.ok)throw new Error(await Ae.text());const Ue=((await Ae.json()).categories??[]).map(Ee=>({id:Ee.PK||Ee.id||"",name:Ee.name||Ee.PK||"",description:Ee.description}));m(Ue)}catch(Te){E((Te==null?void 0:Te.message)??"Failed to load media categories.")}finally{P(!1)}};c.useEffect(()=>{Me&&o==="categories"&&X()},[Me,o]);const Y=async z=>{var Fe;if(z.preventDefault(),!v){K("Please select an image or video file.");return}const se=dr();if(!se){K("API URL not set.");return}const ve=window;if(!((Fe=ve.auth)!=null&&Fe.getAccessToken)){K("Sign in required.");return}const Te=v.type.startsWith("video/")?"video":"image",Ae=`MEDIA#${Wv()}`;R(!0),K(null),J(null);try{const Ue=await new Promise(ue=>ve.auth.getAccessToken(ue)),Ee=await fetch(`${se}/media/upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ue}`},body:JSON.stringify({mediaId:Ae,mediaType:Te,contentType:v.type||(Te==="image"?"image/png":"video/mp4")})});if(!Ee.ok)throw new Error("Upload request failed");const{uploadUrl:Hr,key:or}=await Ee.json();if(!(await fetch(Hr,{method:"PUT",headers:{"Content-Type":v.type||(Te==="image"?"image/png":"video/mp4")},body:v})).ok)throw new Error("File upload failed");const G=await fetch(`${se}/media`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ue}`},body:JSON.stringify({id:Ae,mediaKey:or,title:p.trim()||"Untitled",description:y.trim(),mediaType:Te,categoryIds:x})});if(!G.ok)throw new Error(await G.text());J("Media added."),g(""),b(""),j(null),h&&URL.revokeObjectURL(h),d(null),w([]),setTimeout(()=>e("/media"),1500)}catch(Ue){K((Ue==null?void 0:Ue.message)??"Failed to add media.")}finally{R(!1)}},te=z=>{H(z.id),W(z.name),oe(z.description??"")},ee=()=>{H(null),W(""),oe(""),ke(null)},ie=async z=>{var Te;if(z.preventDefault(),!T)return;const se=dr();if(!se)return;const ve=window;if((Te=ve.auth)!=null&&Te.getAccessToken){tt(!0),ke(null);try{const Ae=await new Promise(Ue=>ve.auth.getAccessToken(Ue)),Fe=await fetch(`${se}/media-categories`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ae}`},body:JSON.stringify({id:T,name:le.trim(),description:Q.trim()||void 0})});if(!Fe.ok)throw new Error(await Fe.text());m(Ue=>Ue.map(Ee=>Ee.id===T?{...Ee,name:le.trim(),description:Q.trim()||void 0}:Ee)),ee()}catch(Ae){ke((Ae==null?void 0:Ae.message)??"Failed to update media category.")}finally{tt(!1)}}},fe=async z=>{var Te;if(!window.confirm("Delete this media category? Media using it will lose this category."))return;const se=dr();if(!se)return;const ve=window;if((Te=ve.auth)!=null&&Te.getAccessToken){Qe(z);try{const Ae=await new Promise(Ue=>ve.auth.getAccessToken(Ue)),Fe=await fetch(`${se}/media-categories?id=${encodeURIComponent(z)}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ae}`}});if(!Fe.ok)throw new Error(await Fe.text());m(Ue=>Ue.filter(Ee=>Ee.id!==z)),T===z&&ee()}catch(Ae){E((Ae==null?void 0:Ae.message)??"Failed to delete media category.")}finally{Qe(null)}}},pe=async z=>{var Ae;z.preventDefault();const se=N.trim();if(!se)return;const ve=dr();if(!ve)return;const Te=window;if((Ae=Te.auth)!=null&&Ae.getAccessToken){be(!0),O(null),E(null);try{const Fe=await new Promise(Ee=>Te.auth.getAccessToken(Ee)),Ue=await fetch(`${ve}/media-categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Fe}`},body:JSON.stringify({name:se,description:_.trim()})});if(!Ue.ok)throw new Error(await Ue.text());M(""),ae(""),O("Media category created."),X()}catch(Fe){E((Fe==null?void 0:Fe.message)??"Failed to create media category.")}finally{be(!1)}}};return Me?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ce,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Media"]}),a.jsxs("header",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Media"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Add media and manage media categories."})]}),a.jsxs("div",{className:"flex gap-2 border-b border-slate-800 pb-2",children:[a.jsx("button",{type:"button",onClick:()=>u("add"),className:`px-4 py-2 rounded-md text-sm font-medium ${o==="add"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Add Media"}),a.jsx("button",{type:"button",onClick:()=>u("categories"),className:`px-4 py-2 rounded-md text-sm font-medium ${o==="categories"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Media Categories"})]}),o==="add"&&a.jsxs("form",{className:"space-y-4 max-w-xl",onSubmit:Y,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Title (optional)"}),a.jsx("input",{type:"text",value:p,onChange:z=>g(z.target.value),placeholder:"Untitled",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description (optional)"}),a.jsx("textarea",{value:y,onChange:z=>b(z.target.value),placeholder:"Description",rows:3,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Image or video *"}),a.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp,video/mp4,video/webm",onChange:ut,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-slate-100"}),h&&a.jsx("div",{className:"mt-2",children:v!=null&&v.type.startsWith("video/")?a.jsx("video",{src:h,muted:!0,controls:!0,className:"max-h-32 rounded-lg border border-slate-700"}):a.jsx("img",{src:h,alt:"Preview",className:"h-24 w-auto rounded-lg border border-slate-700 object-cover"})})]}),a.jsxs("div",{ref:de,className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Media categories (optional)"}),a.jsx("input",{type:"text",value:C,onChange:z=>L(z.target.value),onFocus:()=>$(!0),placeholder:"Search and select",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),A&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",children:xt.length?xt.map(z=>a.jsx("button",{type:"button",onClick:()=>U(z.id),className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:z.name},z.id)):a.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches"})}),f.length===0&&a.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["No categories."," ",a.jsx("button",{type:"button",onClick:()=>u("categories"),className:"text-brand-orange hover:underline",children:"Create media categories"})]})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:x.map(z=>{const se=f.find(ve=>ve.id===z);return a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(se==null?void 0:se.name)??z,a.jsx("button",{type:"button",onClick:()=>D(z),className:"hover:text-red-400","aria-label":"Remove",children:""})]},z)})})]}),a.jsx("button",{type:"submit",disabled:I||!v,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:I?"Uploading":"Add Media"}),V&&a.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:V}),re&&a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:re})]}),o==="categories"&&a.jsxs(a.Fragment,{children:[a.jsxs("form",{className:"space-y-3 max-w-md",onSubmit:pe,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"New category name"}),a.jsx("input",{type:"text",value:N,onChange:z=>M(z.target.value),placeholder:"e.g. Tutorials",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description (optional)"}),a.jsx("input",{type:"text",value:_,onChange:z=>ae(z.target.value),placeholder:"Optional description",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsx("button",{type:"submit",disabled:me||!N.trim(),className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:me?"Creating":"Create media category"}),ye&&a.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:ye}),k&&a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:k})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-sm font-medium text-slate-300 mb-2",children:"Existing media categories"}),B?a.jsx("p",{className:"text-sm text-slate-500",children:"Loading"}):f.length===0?a.jsx("p",{className:"text-sm text-slate-500",children:"No media categories yet. Create one above."}):a.jsx("ul",{className:"space-y-2",children:f.map(z=>a.jsx("li",{className:"rounded-lg border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm",children:T===z.id?a.jsxs("form",{onSubmit:ie,className:"space-y-2",children:[a.jsx("input",{type:"text",value:le,onChange:se=>W(se.target.value),placeholder:"Name",required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",autoFocus:!0}),a.jsx("input",{type:"text",value:Q,onChange:se=>oe(se.target.value),placeholder:"Description (optional)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{type:"submit",disabled:je||!le.trim(),className:"rounded-md bg-brand-orange px-3 py-1.5 text-xs font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:je?"Saving":"Save"}),a.jsx("button",{type:"button",onClick:ee,className:"rounded-md border border-slate-700 px-3 py-1.5 text-xs font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"}),a.jsx("button",{type:"button",onClick:()=>fe(z.id),disabled:Ie===z.id,className:"rounded-md border border-red-500/60 px-3 py-1.5 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:Ie===z.id?"Deleting":"Delete"})]}),Ve&&a.jsx("p",{className:"text-xs text-red-400",children:Ve})]}):a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>te(z),className:"flex-1 min-w-0 text-left hover:bg-slate-800/50 rounded px-1 -mx-1 py-1 -my-1 transition-colors",children:[a.jsx("span",{className:"font-medium text-slate-200",children:z.name}),z.description&&a.jsx("span",{className:"text-slate-500 truncate max-w-xs ml-2",children:z.description})]}),a.jsx("button",{type:"button",onClick:()=>fe(z.id),disabled:Ie===z.id,className:"rounded px-2 py-1 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50 shrink-0","aria-label":"Delete category",children:Ie===z.id?"":"Delete"})]})},z.id))})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Media"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})};function da(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Kc=100,Vv=5*1024*1024,Kv=()=>{const{id:e}=wl(),t=Jt(),{user:n}=it(),[r,s]=c.useState(!0),[l,o]=c.useState(""),[i,u]=c.useState(""),[f,m]=c.useState(""),[p,g]=c.useState(!1),[y,b]=c.useState([]),[v,j]=c.useState(""),[h,d]=c.useState(""),[x,w]=c.useState(null),[C,L]=c.useState(!1),[A,$]=c.useState(null),[I,R]=c.useState(""),[V,J]=c.useState(null),[re,K]=c.useState(null),[de,B]=c.useState([]),[P,k]=c.useState([]),[E,N]=c.useState(""),[M,_]=c.useState(!1),[ae,me]=c.useState(!1),[be,ye]=c.useState(!1),[O,T]=c.useState(!1),[H,le]=c.useState(null),[W,Q]=c.useState(null),oe=Ot(n??null,"manager"),je=e?decodeURIComponent(e):"";c.useEffect(()=>{var te;if(!oe||!je){s(!1);return}const D=da();if(!D){Q("API URL not set."),s(!1);return}const X=window;if(!((te=X.auth)!=null&&te.getAccessToken)){Q("Sign in required."),s(!1);return}let Y=!1;return(async()=>{const ee=await new Promise(se=>X.auth.getAccessToken(se));if(!ee||Y)return;const ie=await fetch(`${D}/sites?id=${encodeURIComponent(je)}`);if(ie.status===404||!ie.ok){Y||Q("Site not found."),s(!1);return}const pe=(await ie.json()).site;if(Y||!pe){s(!1);return}o(pe.url??""),u(pe.title??""),m(pe.description??""),g(!!pe.descriptionAiGenerated),b(Array.isArray(pe.tags)?pe.tags:[]),j(""),d(pe.scrapedContent??""),w(pe.logoUrl||null),k(Array.isArray(pe.categoryIds)?pe.categoryIds:[]);const z=await fetch(`${D}/categories`,{headers:{Authorization:`Bearer ${ee}`}});if(z.ok&&!Y){const se=await z.json();B((se.categories??[]).map(ve=>({id:ve.PK||ve.id||"",name:ve.name||ve.PK||""})))}Y||s(!1)})(),()=>{Y=!0}},[oe,je]);const tt=D=>{var te;const X=(te=D.target.files)==null?void 0:te[0];if($(X??null),R(""),K(null),L(!1),V&&(URL.revokeObjectURL(V),J(null)),!X)return;if(X.size>Vv){K("Logo must be 5 MB or smaller.");return}const Y=new Image;Y.onload=()=>{if(Y.naturalWidth<Kc||Y.naturalHeight<Kc){K("Logo must be at least 100100 pixels.");return}K(null),J(URL.createObjectURL(X))},Y.onerror=()=>K("Please choose a valid image file."),Y.src=URL.createObjectURL(X)},Ve=D=>{P.includes(D)||k([...P,D]),N(""),_(!1)},ke=D=>{k(P.filter(X=>X!==D))},Ie=()=>{const D=v.trim();D&&!y.includes(D)&&b([...y,D]),j("")},Qe=D=>b(y.filter(X=>X!==D)),Me=de.filter(D=>!P.includes(D.id)&&(!E.trim()||(D.name||"").toLowerCase().includes(E.toLowerCase()))),xt=async()=>{var te;const D=l.trim();if(!D){Q("Enter URL first.");return}const X=da();if(!X){Q("API URL not set.");return}const Y=window;if(!((te=Y.auth)!=null&&te.getAccessToken)){Q("Sign in required.");return}T(!0),Q(null);try{const ee=await new Promise(pe=>Y.auth.getAccessToken(pe)),ie=await fetch(`${X}/sites/generate-description`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({url:D})});if(!ie.ok)throw new Error(await ie.text());const fe=await ie.json();m(fe.description??""),g(!0)}catch(ee){Q((ee==null?void 0:ee.message)??"Failed to generate description.")}finally{T(!1)}},ut=async D=>{var te;if(D.preventDefault(),!je)return;const X=da();if(!X){Q("API URL not set.");return}const Y=window;if(!((te=Y.auth)!=null&&te.getAccessToken)){Q("Sign in required.");return}if(!(A&&re)){me(!0),Q(null),le(null);try{const ee=await new Promise(z=>Y.auth.getAccessToken(z));let ie=null;if(A){const z=await fetch(`${X}/sites/logo-upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({siteId:je,contentType:A.type||"image/png"})});if(!z.ok)throw new Error("Logo upload request failed");const{uploadUrl:se,key:ve}=await z.json();if(!(await fetch(se,{method:"PUT",headers:{"Content-Type":A.type||"image/png"},body:A})).ok)throw new Error("Logo upload failed");ie=ve}else if(I.trim()){const z=await fetch(`${X}/sites/logo-from-url`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({siteId:je,imageUrl:I.trim()})});if(!z.ok){const ve=await z.json().catch(()=>({}));throw new Error(ve.error||await z.text())}const se=await z.json();se.key&&(ie=se.key)}const fe={id:je,url:l.trim(),title:i.trim()||l.trim(),description:f.trim(),descriptionAiGenerated:p,categoryIds:P,tags:y,scrapedContent:h.trim()||void 0};C?fe.deleteLogo=!0:ie&&(fe.logoKey=ie);const pe=await fetch(`${X}/sites`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify(fe)});if(!pe.ok)throw new Error(await pe.text());le("Site updated."),V&&URL.revokeObjectURL(V),$(null),J(null),R(""),setTimeout(()=>t(`/websites/${encodeURIComponent(je)}`),1200)}catch(ee){Q((ee==null?void 0:ee.message)??"Failed to update site.")}finally{me(!1)}}},U=async()=>{var Y;if(!je||!window.confirm("Delete this site? This cannot be undone."))return;const D=da();if(!D)return;const X=window;if((Y=X.auth)!=null&&Y.getAccessToken){ye(!0),Q(null);try{const te=await new Promise(ie=>X.auth.getAccessToken(ie)),ee=await fetch(`${D}/sites`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`},body:JSON.stringify({id:je})});if(!ee.ok)throw new Error(await ee.text());t("/websites")}catch(te){Q((te==null?void 0:te.message)??"Failed to delete site.")}finally{ye(!1)}}};return oe?r?a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ce,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Websites"]}),a.jsx("p",{className:"text-sm text-slate-400",children:"Loading"})]}):W&&!l&&!i?a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ce,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Websites"]}),a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:W})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ce,{to:`/websites/${encodeURIComponent(je)}`,className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to site"]}),a.jsxs("header",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit Site"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Update URL, title, description, logo, categories, and scraped content."})]}),a.jsxs("form",{className:"space-y-4 max-w-xl",onSubmit:ut,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"URL *"}),a.jsx("input",{type:"url",value:l,onChange:D=>o(D.target.value),required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Title"}),a.jsx("input",{type:"text",value:i,onChange:D=>u(D.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description"}),a.jsx("textarea",{value:f,onChange:D=>{m(D.target.value),g(!1)},placeholder:"Short description",rows:4,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsx("button",{type:"button",onClick:xt,disabled:O||!l.trim(),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-1.5 text-xs font-medium text-slate-200 hover:bg-slate-700 disabled:opacity-50",children:O?"Generating":"Generate AI description"}),p&&a.jsx("span",{className:"ml-2 text-xs uppercase tracking-wide text-slate-500",children:"AI summary"}),a.jsxs("label",{className:"mt-2 block inline-flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:D=>g(D.target.checked)}),"AI-generated summary"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Logo"}),x&&!C&&!V&&a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a.jsx("img",{src:x,alt:"Current logo",className:"h-12 w-12 rounded-lg border border-slate-700 object-cover"}),a.jsxs("label",{className:"text-xs text-slate-400",children:[a.jsx("input",{type:"checkbox",checked:C,onChange:D=>L(D.target.checked)}),a.jsx("span",{className:"ml-1",children:"Remove logo"})]})]}),a.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp",onChange:tt,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-slate-100"}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Or paste image URL (image will be copied to S3 on save):"}),a.jsx("input",{type:"url",value:I,onChange:D=>{R(D.target.value),D.target.value.trim()&&$(null)},placeholder:"https://example.com/logo.png",className:"mt-1 w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),V&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:V,alt:"New logo",className:"h-16 w-16 rounded-lg border border-slate-700 object-cover"})}),re&&a.jsx("p",{className:"mt-1 text-xs text-red-400",children:re})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Categories"}),a.jsx("input",{type:"text",value:E,onChange:D=>N(D.target.value),onFocus:()=>_(!0),placeholder:"Search and select",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),M&&a.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",children:Me.length?Me.map(D=>a.jsx("button",{type:"button",onClick:()=>Ve(D.id),className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:D.name},D.id)):a.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches"})}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:P.map(D=>{const X=de.find(Y=>Y.id===D);return a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(X==null?void 0:X.name)??D,a.jsx("button",{type:"button",onClick:()=>ke(D),className:"hover:text-red-400","aria-label":"Remove",children:""})]},D)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:y.map(D=>a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[D,a.jsx("button",{type:"button",onClick:()=>Qe(D),className:"hover:text-red-400","aria-label":"Remove",children:""})]},D))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:v,onChange:D=>j(D.target.value),onKeyDown:D=>D.key==="Enter"&&(D.preventDefault(),Ie()),placeholder:"Add tag",className:"flex-1 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsx("button",{type:"button",onClick:Ie,className:"rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-sm text-slate-200 hover:bg-slate-700",children:"Add"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Scraped content (optional)"}),a.jsx("textarea",{value:h,onChange:D=>d(D.target.value),rows:6,placeholder:"Paste or edit scraped content (e.g. README, about page)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm font-mono text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx("button",{type:"submit",disabled:ae,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:ae?"Saving":"Save changes"}),a.jsx("button",{type:"button",onClick:U,disabled:be||ae,className:"rounded-md border border-red-500/60 px-4 py-2 text-sm font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:be?"Deleting":"Delete entry"})]}),H&&a.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:H}),W&&a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:W})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit Site"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})};function co(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const qv=()=>{const{id:e}=wl(),t=Jt(),{user:n}=it(),[r,s]=c.useState(!0),[l,o]=c.useState(""),[i,u]=c.useState(""),[f,m]=c.useState(null),[p,g]=c.useState("image"),[y,b]=c.useState([]),[v,j]=c.useState([]),[h,d]=c.useState(""),[x,w]=c.useState(!1),[C,L]=c.useState(!1),[A,$]=c.useState(!1),[I,R]=c.useState(null),[V,J]=c.useState(null),re=Ot(n??null,"manager"),K=e?decodeURIComponent(e):"";c.useEffect(()=>{var ae;if(!re||!K){s(!1);return}const N=co();if(!N){J("API URL not set."),s(!1);return}const M=window;if(!((ae=M.auth)!=null&&ae.getAccessToken)){J("Sign in required."),s(!1);return}let _=!1;return(async()=>{const me=await new Promise(le=>M.auth.getAccessToken(le));if(!me||_)return;const be=await fetch(`${N}/media?id=${encodeURIComponent(K)}`);if(be.status===404||!be.ok){_||J("Media not found."),s(!1);return}const ye=await be.json(),O=Array.isArray(ye.media)?ye.media[0]:ye.media;if(_||!O){s(!1);return}const T=O;o(T.title??""),u(T.description??""),m(T.mediaUrl||null),g(T.mediaType||"image"),j(Array.isArray(T.categoryIds)?T.categoryIds:[]);const H=await fetch(`${N}/media-categories`,{headers:{Authorization:`Bearer ${me}`}});if(H.ok&&!_){const le=await H.json();b((le.categories??[]).map(W=>({id:W.PK||W.id||"",name:W.name||W.PK||""})))}_||s(!1)})(),()=>{_=!0}},[re,K]);const de=N=>{v.includes(N)||j([...v,N]),d(""),w(!1)},B=N=>{j(v.filter(M=>M!==N))},P=y.filter(N=>!v.includes(N.id)&&(!h.trim()||(N.name||"").toLowerCase().includes(h.toLowerCase()))),k=async N=>{var ae;if(N.preventDefault(),!K)return;const M=co();if(!M){J("API URL not set.");return}const _=window;if(!((ae=_.auth)!=null&&ae.getAccessToken)){J("Sign in required.");return}L(!0),J(null),R(null);try{const me=await new Promise(ye=>_.auth.getAccessToken(ye)),be=await fetch(`${M}/media`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${me}`},body:JSON.stringify({id:K,title:l.trim()||"Untitled",description:i.trim(),categoryIds:v})});if(!be.ok)throw new Error(await be.text());R("Media updated."),setTimeout(()=>t("/media"),1200)}catch(me){J((me==null?void 0:me.message)??"Failed to update media.")}finally{L(!1)}},E=async()=>{var _;if(!K||!window.confirm("Delete this media item? This cannot be undone."))return;const N=co();if(!N)return;const M=window;if((_=M.auth)!=null&&_.getAccessToken){$(!0),J(null);try{const ae=await new Promise(be=>M.auth.getAccessToken(be)),me=await fetch(`${N}/media?id=${encodeURIComponent(K)}`,{method:"DELETE",headers:{Authorization:`Bearer ${ae}`}});if(!me.ok)throw new Error(await me.text());t("/media")}catch(ae){J((ae==null?void 0:ae.message)??"Failed to delete media.")}finally{$(!1)}}};return re?r?a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ce,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Media"]}),a.jsx("p",{className:"text-sm text-slate-400",children:"Loading"})]}):V&&!l&&!i?a.jsxs("div",{className:"space-y-4",children:[a.jsxs(ce,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Media"]}),a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:V})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ce,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to Media"]}),a.jsxs("header",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit Media"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Update title, description, and categories. The file itself cannot be changed here."})]}),f&&a.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 overflow-hidden max-w-2xl",children:[a.jsx("p",{className:"px-4 py-2 text-xs font-medium text-slate-400 border-b border-slate-800",children:"Current media"}),a.jsx("div",{className:"p-4 flex justify-center items-center bg-slate-900/40 min-h-[160px]",children:p==="video"?a.jsx("video",{src:f,controls:!0,className:"max-w-full max-h-[50vh] rounded-lg border border-slate-700",playsInline:!0}):a.jsx("img",{src:f,alt:l||"Media",className:"max-w-full max-h-[50vh] w-auto h-auto object-contain rounded-lg border border-slate-700"})})]}),a.jsxs("form",{className:"space-y-4 max-w-xl",onSubmit:k,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Title"}),a.jsx("input",{type:"text",value:l,onChange:N=>o(N.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description"}),a.jsx("textarea",{value:i,onChange:N=>u(N.target.value),rows:4,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Media categories"}),a.jsx("input",{type:"text",value:h,onChange:N=>d(N.target.value),onFocus:()=>w(!0),placeholder:"Search and select",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),x&&a.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",children:P.length?P.map(N=>a.jsx("button",{type:"button",onClick:()=>de(N.id),className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:N.name},N.id)):a.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches"})}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:v.map(N=>{const M=y.find(_=>_.id===N);return a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(M==null?void 0:M.name)??N,a.jsx("button",{type:"button",onClick:()=>B(N),className:"hover:text-red-400","aria-label":"Remove",children:""})]},N)})})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx("button",{type:"submit",disabled:C,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:C?"Saving":"Save changes"}),a.jsx("button",{type:"button",onClick:E,disabled:A||C,className:"rounded-md border border-red-500/60 px-4 py-2 text-sm font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:A?"Deleting":"Delete entry"})]}),I&&a.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:I}),V&&a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:V})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit Media"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})},qc={admin:"SuperAdmin",manager:"Manager",user:"User"},bi=[{value:-8,label:"UTC-8"},{value:-5,label:"UTC-5"},{value:0,label:"UTC+0/GMT"}];function fo(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function Qv(e,t,n){if(!e&&!n)return"";if(!e)return n?`from ${n}`:"";try{const r=new Date(e);if(isNaN(r.getTime()))return e+(n?` from ${n}`:"");const s=r.getTime()+(t||0)*36e5,l=new Date(s),o=v=>v<10?"0"+v:""+v,i=l.getUTCFullYear(),u=o(l.getUTCMonth()+1),f=o(l.getUTCDate()),m=o(l.getUTCHours()),p=o(l.getUTCMinutes()),g=bi.find(v=>v.value===t),y=g?g.label:t<0?"UTC"+t:"UTC+"+t;let b=`${i}-${u}-${f} ${m}:${p} ${y}`;return n&&(b+=` from ${n}`),b}catch{return e+(n?` from ${n}`:"")}}const Yv=e=>e==="admin"?"bg-amber-500/20 text-amber-200":e==="manager"?"bg-blue-500/20 text-blue-200":e==="user"?"bg-slate-600/30 text-slate-300":"bg-emerald-500/20 text-emerald-200",Jv=()=>{var ye;const e=Jt(),[t]=jl(),n=t.get("username")??"",r=t.get("email")??"",s=t.get("status")??"",{user:l}=it(),[o,i]=c.useState(!0),[u,f]=c.useState(null),[m,p]=c.useState(null),[g,y]=c.useState([]),[b,v]=c.useState([]),[j,h]=c.useState([]),[d,x]=c.useState(""),[w,C]=c.useState(!1),[L,A]=c.useState(!1),[$,I]=c.useState(null),[R,V]=c.useState(!1),[J,re]=c.useState(-8),K=Ot(l??null,"manager"),de=((ye=l==null?void 0:l.groups)==null?void 0:ye.includes("admin"))??!1,B=de?["admin","manager","user"]:["user"],P=async()=>{var H;if(!n)return;const O=fo();if(!O){f("API URL not set."),i(!1);return}const T=window;if(!((H=T.auth)!=null&&H.getAccessToken)){f("Sign in required."),i(!1);return}i(!0),f(null);try{const le=await new Promise(Ve=>T.auth.getAccessToken(Ve)),[W,Q]=await Promise.all([fetch(`${O}/admin/users/${encodeURIComponent(n)}/groups`,{headers:{Authorization:`Bearer ${le}`}}),fetch(`${O}/admin/groups`,{headers:{Authorization:`Bearer ${le}`}})]);if(!W.ok){const Ve=await W.json().catch(()=>({}));throw new Error(Ve.error||"Failed to load user")}const oe=await W.json(),tt=((await Q.json()).groups??[]).map(Ve=>Ve.name??(Ve.PK??"").replace("GROUP#","")).filter(Boolean);p({email:oe.username??n,status:s,lastLoginAt:oe.lastLoginAt??"",lastLoginIp:oe.lastLoginIp??"",cognitoGroups:oe.cognitoGroups??[],customGroups:oe.customGroups??[]}),v([...oe.cognitoGroups??[]]),h([...oe.customGroups??[]]),y(tt)}catch(le){f((le==null?void 0:le.message)??"Failed to load user")}finally{i(!1)}};c.useEffect(()=>{const O=parseInt(sessionStorage.getItem("funkedupshift_lastlogin_tz")??"-8",10);!isNaN(O)&&bi.some(T=>T.value===O)&&re(O)},[]),c.useEffect(()=>{K&&n&&P()},[K,n]);const k=O=>{O&&!b.includes(O)&&v(T=>[...T,O])},E=O=>{v(T=>T.filter(H=>H!==O))},N=O=>{O&&!j.includes(O)&&(h(T=>[...T,O]),x(""),C(!1))},M=O=>{h(T=>T.filter(H=>H!==O))},_=g.filter(O=>j.includes(O)?!1:d.trim()?O.toLowerCase().includes(d.toLowerCase().trim()):!0),ae=async O=>{var Ve;if(O.preventDefault(),!n)return;const T=fo();if(!T)return;const H=window;if(!((Ve=H.auth)!=null&&Ve.getAccessToken))return;const le=(m==null?void 0:m.cognitoGroups)??[],W=(m==null?void 0:m.customGroups)??[];let Q=b.filter(ke=>!le.includes(ke)),oe=le.filter(ke=>!b.includes(ke));de||(Q=Q.filter(ke=>ke==="user"),oe=oe.filter(ke=>ke==="user"));const je=j.filter(ke=>!W.includes(ke)),tt=W.filter(ke=>!j.includes(ke));A(!0),I(null);try{const Ie={headers:{"Content-Type":"application/json",Authorization:`Bearer ${await new Promise(U=>H.auth.getAccessToken(U))}`}},Qe=encodeURIComponent,Me=[];Q.forEach(U=>Me.push(fetch(`${T}/admin/users/${Qe(n)}/groups`,{method:"POST",...Ie,body:JSON.stringify({groupName:U})}))),oe.forEach(U=>Me.push(fetch(`${T}/admin/users/${Qe(n)}/groups/${Qe(U)}`,{method:"DELETE",headers:Ie.headers}))),je.forEach(U=>Me.push(fetch(`${T}/admin/users/${Qe(n)}/groups`,{method:"POST",...Ie,body:JSON.stringify({groupName:U})}))),tt.forEach(U=>Me.push(fetch(`${T}/admin/users/${Qe(n)}/groups/${Qe(U)}`,{method:"DELETE",headers:Ie.headers})));const ut=(await Promise.all(Me)).find(U=>!U.ok);if(ut){const U=await ut.json().catch(()=>({}));throw new Error(U.error||"Failed to save")}window.alert("Changes saved"),e("/admin/membership")}catch(ke){I((ke==null?void 0:ke.message)??"Failed to save")}finally{A(!1)}},me=O=>{const T=parseInt(O.target.value,10);re(T),sessionStorage.setItem("funkedupshift_lastlogin_tz",String(T))},be=async()=>{var le;const O=r||(m==null?void 0:m.email)||n;if(!window.confirm(`Delete user "${O}"? This cannot be undone.`))return;const T=fo();if(!T)return;const H=window;if((le=H.auth)!=null&&le.getAccessToken){V(!0);try{const W=await new Promise(oe=>H.auth.getAccessToken(oe)),Q=await fetch(`${T}/admin/users/${encodeURIComponent(n)}`,{method:"DELETE",headers:{Authorization:`Bearer ${W}`}});if(!Q.ok){const oe=await Q.json().catch(()=>({}));throw new Error(oe.error||"Failed to delete user")}e("/admin/membership")}catch(W){I((W==null?void 0:W.message)??"Failed to delete user")}finally{V(!1)}}};return K?n?o?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Loading"})]}):u||!m?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),a.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:u??"Failed to load user"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ce,{to:"/admin/membership",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[a.jsx(mt,{className:"h-4 w-4"}),"Back to users"]}),a.jsxs("header",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Adjust system roles and custom groups."}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("label",{htmlFor:"tz-select",className:"text-slate-500",children:"Last login timezone:"}),a.jsx("select",{id:"tz-select",value:J,onChange:me,className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 text-sm",children:bi.map(O=>a.jsx("option",{value:O.value,children:O.label},O.value))})]})]}),a.jsxs("form",{onSubmit:ae,className:"space-y-6 max-w-2xl",children:[a.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[a.jsx("h2",{className:"text-sm font-medium text-slate-300 mb-3",children:"User info"}),a.jsx("table",{className:"text-sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"py-1 pr-4 font-medium text-slate-400 w-28",children:"Email"}),a.jsx("td",{className:"py-1 text-slate-200",children:r||m.email})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1 pr-4 font-medium text-slate-400",children:"Status"}),a.jsx("td",{className:"py-1 text-slate-200",children:s||m.status||""})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1 pr-4 font-medium text-slate-400",children:"Last login"}),a.jsx("td",{className:"py-1 text-slate-200",children:Qv(m.lastLoginAt,J,m.lastLoginIp)})]})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200",children:"System roles"}),a.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-200 w-full max-w-xs",onChange:O=>{const T=O.target.value;T&&k(T),O.target.value=""},children:[a.jsx("option",{value:"",children:"Select role to add"}),B.filter(O=>!b.includes(O)).map(O=>a.jsx("option",{value:O,children:qc[O]??O},O))]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:b.map(O=>{const T=de||O==="user";return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm ${Yv(O)}`,children:[qc[O]??O,T&&a.jsx("button",{type:"button",onClick:()=>E(O),className:"ml-0.5 hover:text-red-300","aria-label":"Remove",children:""})]},O)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-200",children:"Custom groups"}),g.length===0?a.jsxs("p",{className:"text-sm text-slate-500",children:["No custom groups. ",a.jsx(ce,{to:"/admin/membership?tab=groups",className:"text-brand-orange hover:underline",children:"Create groups"}),"."]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative max-w-xs",children:[a.jsx("input",{type:"text",value:d,onChange:O=>{x(O.target.value),C(!0)},onFocus:()=>C(!0),placeholder:"Search or select groups",className:"w-full rounded border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-200 placeholder:text-slate-500"}),w&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>C(!1),"aria-hidden":"true"}),a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 max-h-48 overflow-y-auto rounded border border-slate-700 bg-slate-900 shadow-lg z-20",children:_.length===0?a.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No matches"}):_.map(O=>a.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",onClick:()=>N(O),children:O},O))})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:j.map(O=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm bg-emerald-500/20 text-emerald-200",children:[O,a.jsx("button",{type:"button",onClick:()=>M(O),className:"ml-0.5 hover:text-red-300","aria-label":"Remove",children:""})]},O))})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsx("button",{type:"submit",disabled:L,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:L?"Saving":"Save"}),a.jsx(ce,{to:"/admin/membership",className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"}),de&&a.jsx("button",{type:"button",onClick:be,disabled:R||L,className:"rounded-md border border-red-500/60 bg-red-500/10 px-4 py-2 text-sm font-medium text-red-200 hover:bg-red-500/20 disabled:opacity-50",children:R?"Deleting":"Delete user"})]}),$&&a.jsx("p",{className:"text-sm text-red-400",children:$})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Missing username in URL."})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})},Zv=()=>{const{user:e,refreshAuth:t}=it(),n=Jt(),[r,s]=c.useState("signin"),[l,o]=c.useState(""),[i,u]=c.useState(""),[f,m]=c.useState(!1),[p,g]=c.useState(null),[y,b]=c.useState(null),v=h=>{s(h),g(null),b(null)},j=async h=>{h.preventDefault(),g(null),b(null);const d=l.trim(),x=i.trim();if(!d||!x){g("Email and password are required.");return}const w=window;if(!w.auth){g("Auth is not configured. Check Cognito frontend setup.");return}m(!0);try{r==="signin"?(await new Promise((C,L)=>{w.auth.signIn(d,x,A=>{A?L(A):C()})}),b("Signed in successfully. Redirecting"),await t()):(await new Promise((C,L)=>{w.auth.signUp(d,x,A=>{A?L(A):C()})}),b("Account created successfully. You can now sign in."),s("signin")),r==="signin"&&setTimeout(()=>n("/"),800)}catch(C){const L=(C==null?void 0:C.message)||"Authentication failed. Please try again.";g(L)}finally{m(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Sign in / Sign up"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Use your Funkedupshift account to rate sites, add notes, and manage curated content (based on your role)."})]}),e&&a.jsxs("div",{className:"rounded-xl border border-emerald-600/60 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100",children:["You're currently signed in as"," ",a.jsx("span",{className:"font-semibold text-emerald-200",children:e.email})," (",e.role==="superadmin"?"SuperAdmin":e.role,"). You can safely close this page or continue browsing websites and media."]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-[minmax(0,1.3fr)_minmax(0,1fr)] items-start",children:[a.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-950/70 p-5 shadow-lg shadow-slate-950/40",children:[a.jsxs("div",{className:"mb-4 flex gap-2 rounded-full bg-slate-900/70 p-1 text-xs font-medium text-slate-300",children:[a.jsx("button",{type:"button",onClick:()=>v("signin"),className:["flex-1 rounded-full px-3 py-1.5 transition-colors",r==="signin"?"bg-slate-50 text-slate-950":"hover:bg-slate-800/80"].join(" "),children:"Sign in"}),a.jsx("button",{type:"button",onClick:()=>v("signup"),className:["flex-1 rounded-full px-3 py-1.5 transition-colors",r==="signup"?"bg-slate-50 text-slate-950":"hover:bg-slate-800/80"].join(" "),children:"Sign up"})]}),a.jsxs("form",{className:"space-y-4",onSubmit:j,children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"authEmail",className:"text-xs font-medium uppercase tracking-[0.18em] text-slate-400",children:"Email"}),a.jsx("input",{id:"authEmail",type:"email",autoComplete:"email",value:l,onChange:h=>o(h.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",placeholder:"you@example.com",required:!0})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{htmlFor:"authPassword",className:"text-xs font-medium uppercase tracking-[0.18em] text-slate-400",children:"Password"}),a.jsx("input",{id:"authPassword",type:"password",autoComplete:r==="signin"?"current-password":"new-password",value:i,onChange:h=>u(h.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",placeholder:r==="signup"?"At least 8 characters":"Your password",minLength:8,required:!0})]}),p&&a.jsx("div",{className:"rounded-md border border-red-500/70 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:p}),y&&!p&&a.jsx("div",{className:"rounded-md border border-emerald-500/70 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100",children:y}),a.jsx("button",{type:"submit",disabled:f,className:"inline-flex w-full items-center justify-center rounded-full bg-brand-orange px-4 py-2.5 text-sm font-semibold text-slate-950 shadow-md shadow-orange-500/40 transition hover:bg-orange-500 disabled:cursor-not-allowed disabled:opacity-70",children:f?r==="signin"?"Signing in":"Creating account":r==="signin"?"Sign in":"Create account"})]})]}),a.jsxs("aside",{className:"space-y-3 rounded-2xl border border-slate-800 bg-slate-950/40 p-4 text-xs text-slate-300",children:[a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-slate-500",children:"How access works"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{children:[a.jsx("span",{className:"font-semibold text-slate-100",children:"Guests"})," can browse all websites and media without signing in."]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-semibold text-slate-100",children:"Signed-in users"})," can star sites and media, and later add their own metadata and comments."]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-semibold text-slate-100",children:"Managers & admins"})," can curate sites, media, and categories, with extra tooling in the admin area."]})]}),a.jsx("p",{className:"text-slate-500",children:"If you don't see expected admin controls after signing in, confirm your Cognito group membership in the AWS Console."})]})]})]})},Xv={admin:"SuperAdmin",manager:"Manager",user:"User"},wu=[{value:-8,label:"UTC-8"},{value:-5,label:"UTC-5"},{value:0,label:"UTC+0/GMT"}],Ym="funkedupshift_lastlogin_tz";function ey(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function ty(){try{const e=parseInt(sessionStorage.getItem(Ym)??"",10);if(!isNaN(e)&&wu.some(t=>t.value===e))return e}catch{}return-8}function ny(e){try{sessionStorage.setItem(Ym,String(e))}catch{}}function ry(e,t,n){if(!e)return n?`from ${n}`:"";try{const r=new Date(e);if(isNaN(r.getTime()))return e;const s=r.getTime()+t*36e5,l=new Date(s),o=v=>v<10?"0"+v:""+v,i=l.getUTCFullYear(),u=o(l.getUTCMonth()+1),f=o(l.getUTCDate()),m=o(l.getUTCHours()),p=o(l.getUTCMinutes()),g=wu.find(v=>v.value===t),y=g?g.label:t<0?`UTC${t}`:`UTC+${t}`;let b=`${i}-${u}-${f} ${m}:${p} ${y}`;return n&&(b+=` from ${n}`),b}catch{return e}}const sy=()=>{var C,L,A,$;const{user:e}=it(),[t,n]=c.useState(null),[r,s]=c.useState(""),[l,o]=c.useState(ty),[i,u]=c.useState(!0),[f,m]=c.useState(!1),[p,g]=c.useState(null),[y,b]=c.useState(null),v=ey(),j=async(I,R)=>{var K;const V=window;if(!((K=V.auth)!=null&&K.getAccessToken))throw new Error("Not signed in");const J=await new Promise(de=>V.auth.getAccessToken(de)),re={...R==null?void 0:R.headers,Authorization:`Bearer ${J}`};return fetch(I,{...R,headers:re})};c.useEffect(()=>{if(!e||!v){u(!1);return}let I=!1;return j(`${v}/profile`).then(R=>R.ok?R.json():R.json().then(V=>Promise.reject(new Error(V.error||"Failed")))).then(R=>{var V;I||(n(R),s(((V=R.profile)==null?void 0:V.description)??""))}).catch(R=>{I||b({text:`Failed to load profile: ${(R==null?void 0:R.message)??"Unknown"}`,error:!0})}).finally(()=>{I||u(!1)}),()=>{I=!0}},[e,v]);const h=async()=>{if(v){m(!0),b(null);try{const I=await j(`${v}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:r.trim().slice(0,100)})});if(!I.ok){const R=await I.json();throw new Error(R.error||"Failed")}b({text:"Saved.",error:!1})}catch(I){b({text:`Error: ${(I==null?void 0:I.message)??"Unknown"}`,error:!0})}finally{m(!1)}}},d=async I=>{var J,re;const R=(J=I.target.files)==null?void 0:J[0];if(I.target.value="",!R||!v)return;if(g(null),!((re=R.type)!=null&&re.match(/^image\/(png|jpeg|jpg|gif|webp)$/))){g("Please choose PNG, JPEG, GIF, or WebP.");return}const V=R.type||"image/png";try{const K=await j(`${v}/profile/avatar-upload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contentType:V})});if(!K.ok){const N=await K.json();throw new Error(N.error||"Upload failed")}const{uploadUrl:de,key:B}=await K.json();if(!(await fetch(de,{method:"PUT",body:R,headers:{"Content-Type":V}})).ok)throw new Error("Upload failed");const k=await j(`${v}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({avatarKey:B})});if(!k.ok){const N=await k.json();throw new Error(N.error||"Failed")}const E=await j(`${v}/profile`).then(N=>N.json());n(E)}catch(K){g(`Error: ${(K==null?void 0:K.message)??"Unknown"}`)}},x=async()=>{if(v){g(null);try{const I=await j(`${v}/profile/avatar`,{method:"DELETE"});if(!I.ok){const R=await I.json();throw new Error(R.error||"Failed")}n(R=>R?{...R,profile:{...R.profile,avatarUrl:void 0,avatarKey:void 0}}:null)}catch(I){g(`Error: ${(I==null?void 0:I.message)??"Unknown"}`)}}};if(!e)return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"My Profile"}),a.jsxs("p",{className:"text-sm text-slate-400",children:[a.jsx(ce,{to:"/auth",className:"text-brand-orange hover:underline",children:"Sign in"})," ","to view and edit your profile."]})]});if(!v)return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"My Profile"}),a.jsx("p",{className:"text-sm text-red-400",children:"API URL not set."})]});if(i)return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"My Profile"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Loading profile"})]});const w=t!=null&&t.profile?ry(t.profile.lastLoginAt,l,t.profile.lastLoginIp):"";return a.jsxs("div",{className:"space-y-6 max-w-2xl",children:[a.jsx(ce,{to:"/",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:" Back to Home"}),a.jsx("header",{children:a.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"My Profile"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs font-medium text-slate-400",children:"Last login timezone"}),a.jsx("select",{value:l,onChange:I=>{const R=parseInt(I.target.value,10);ny(R),o(R)},className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",children:wu.map(I=>a.jsx("option",{value:I.value,children:I.label},I.value))})]}),y&&a.jsx("div",{className:`rounded-md px-3 py-2 text-sm ${y.error?"border-red-500/60 bg-red-500/10 text-red-200":"border-green-500/40 bg-green-500/10 text-green-200"}`,children:y.text}),t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[a.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"User info"}),a.jsx("table",{className:"w-full text-sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"py-1 pr-4 font-medium text-slate-300 w-28",children:"Email"}),a.jsx("td",{className:"text-slate-400",children:t.email??""})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1 pr-4 font-medium text-slate-300",children:"Status"}),a.jsx("td",{className:"text-slate-400",children:t.status??""})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"py-1 pr-4 font-medium text-slate-300",children:"Last login"}),a.jsx("td",{className:"text-slate-400",children:w})]})]})})]}),a.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[a.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"System role"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(((C=t.cognitoGroups)==null?void 0:C.length)??0)>0?t.cognitoGroups.map(I=>{const R=Xv[I]??I,V=I==="admin"?"bg-amber-500/20 text-amber-300":I==="manager"?"bg-blue-500/20 text-blue-300":"bg-slate-700 text-slate-200";return a.jsx("span",{className:`rounded-md px-2 py-0.5 text-xs font-medium ${V}`,children:R},I)}):a.jsx("span",{className:"rounded-md px-2 py-0.5 text-xs font-medium bg-slate-700 text-slate-200",children:"User"})})]}),a.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[a.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Custom groups"}),(((L=t.customGroups)==null?void 0:L.length)??0)>0?a.jsx("div",{className:"flex flex-wrap gap-2",children:t.customGroups.map(I=>a.jsx("span",{className:"rounded-md px-2 py-0.5 text-xs font-medium bg-emerald-500/20 text-emerald-300",children:I},I))}):a.jsx("p",{className:"text-sm text-slate-500",children:"Not in any custom groups."})]}),a.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[a.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Edit profile"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Profile icon"}),a.jsxs("div",{className:"flex items-start gap-4",children:[(A=t.profile)!=null&&A.avatarUrl?a.jsx("img",{src:t.profile.avatarUrl,alt:"Profile",className:"h-24 w-24 rounded-full border-2 border-slate-700 object-cover"}):a.jsx("div",{className:"h-24 w-24 rounded-full border-2 border-slate-700 bg-slate-800 flex items-center justify-center text-2xl text-slate-500",children:"?"}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp",onChange:d,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-slate-100"}),(($=t.profile)==null?void 0:$.avatarUrl)&&a.jsx("button",{type:"button",onClick:x,className:"self-start rounded-md border border-red-500/60 bg-red-500/10 px-2 py-1 text-xs font-medium text-red-300 hover:bg-red-500/20",children:"Remove icon"})]})]}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"PNG, JPEG, GIF, or WebP. Same constraints as thumbnail uploads."}),p&&a.jsx("p",{className:"mt-1 text-xs text-red-400",children:p})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"profile-description",className:"block text-xs font-medium text-slate-400 mb-1",children:"Description"}),a.jsx("textarea",{id:"profile-description",value:r,onChange:I=>s(I.target.value),maxLength:100,placeholder:"About you (max 100 characters)",rows:4,className:"w-full max-w-md rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),a.jsxs("div",{className:`mt-1 text-xs ${r.length>=100?"text-red-400":"text-slate-500"}`,children:[r.length," / 100"]})]}),a.jsx("button",{type:"button",onClick:h,disabled:f,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:f?"Saving":"Save"})]})]})]})]})},ay=/^\d{4}-\d{2}-\d{2}$/;function Qc(e){if(!ay.test(e))return!1;const t=new Date(e);return!isNaN(t.getTime())}const Yn=({id:e,value:t,onChange:n,label:r,required:s,className:l="",inputClassName:o=""})=>{const i=c.useRef(null),u=c.useRef(null),f=v=>{const h=v.target.value.replace(/[^\d-]/g,"");n(h)},m=()=>{const v=t.trim();v&&!Qc(v)&&n("")},p=v=>{const j=v.target.value;j&&n(j)},g=()=>{const v=i.current;v&&(v.focus(),typeof v.showPicker=="function"&&v.showPicker())},y="rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",b=t&&Qc(t);return a.jsxs("div",{className:l,children:[a.jsxs("label",{htmlFor:`${e}-text`,className:"block text-xs font-semibold text-slate-400 mb-1",children:[r,a.jsx("span",{className:"block font-normal text-slate-500 mt-0.5",children:"yyyy-MM-DD or use calendar"})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("input",{ref:u,type:"text",id:`${e}-text`,value:t,onChange:f,onBlur:m,placeholder:"yyyy-MM-DD",required:s,pattern:s?"[0-9]{4}-[0-9]{2}-[0-9]{2}":void 0,title:s?"Enter date as yyyy-MM-DD":void 0,className:`${y} flex-1 min-w-0 ${o}`,inputMode:"numeric",autoComplete:"off"}),a.jsx("input",{ref:i,type:"date",id:e,value:b?t:"",onChange:p,required:s,className:"sr-only","aria-hidden":!0}),a.jsx("button",{type:"button",onClick:g,title:"Open calendar","aria-label":"Open calendar",className:"rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-slate-400 hover:bg-slate-800 hover:text-slate-200 focus:border-brand-orange focus:outline-none shrink-0",children:a.jsx(Ix,{className:"h-5 w-5"})})]})]})};function Yc(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const mo=10,ly=()=>{const{user:e}=it(),[t,n]=c.useState([]),[r,s]=c.useState([]),[l,o]=c.useState([]),[i,u]=c.useState(1),[f,m]=c.useState(!1),[p,g]=c.useState(""),[y,b]=c.useState(""),[v,j]=c.useState(""),[h,d]=c.useState(""),[x,w]=c.useState(!1),[C,L]=c.useState(null),[A,$]=c.useState(null),[I,R]=c.useState(!1),V=c.useRef(null),J=el(e),re=tl(e),K=T=>{const H=t.find(le=>le.id===T||le.PK===T);return H&&(H.name||H.id)||T},de=async(T,H={})=>{var oe;const le=window;if(!((oe=le.auth)!=null&&oe.getAccessToken))throw new Error("Not signed in");const W=await new Promise(je=>le.auth.getAccessToken(je));if(!W)throw new Error("Not signed in");const Q={...H.headers,Authorization:`Bearer ${W}`};return fetch(T,{...H,headers:Q})},B=async()=>{const T=Yc();if(T)try{const H=await de(`${T}/squash/players`);if(!H.ok){const Q=await H.json().catch(()=>({}));throw new Error(Q.error||"Failed")}const W=((await H.json()).players??[]).map(Q=>({...Q,id:Q.id||Q.PK||""}));n(W)}catch(H){$((H==null?void 0:H.message)??"Failed to load players")}},P=async()=>{const T=Yc();if(!T)return;const H=new URLSearchParams;p&&H.set("date",p),y&&H.set("dateFrom",y),v&&H.set("dateTo",v),r.length&&H.set("playerIds",r.join(","));const le=H.toString()?`?${H.toString()}`:"";R(!0),$(null);try{const W=await de(`${T}/squash/matches${le}`);if(!W.ok){const oe=await W.json().catch(()=>({}));throw new Error(oe.error||"Failed")}const Q=await W.json();o(Q.matches??[]),m(!0),u(1)}catch(W){$((W==null?void 0:W.message)??"Failed to search matches")}finally{R(!1)}},k=()=>{g(""),b(""),j(""),s([]),d(""),m(!1),o([]),u(1)},E=T=>{r.includes(T)||s([...r,T]),d("")},N=T=>{s(r.filter(H=>H!==T))},M=t.filter(T=>!r.includes(T.id)&&(!h.trim()||(T.name||"").toLowerCase().includes(h.toLowerCase())));c.useEffect(()=>{J&&B()},[J]),c.useEffect(()=>{function T(H){V.current&&!V.current.contains(H.target)&&w(!1)}if(x)return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[x]);const _=Math.max(1,Math.ceil(l.length/mo)),ae=(i-1)*mo,me=l.slice(ae,ae+mo),be=T=>{const H=T.teamAGames??0,le=T.teamBGames??0,W=T.winningTeam==="B"?le:H,Q=T.winningTeam==="B"?H:le;return`${W}-${Q}`},ye=T=>{const H=[K(T.teamAPlayer1Id||""),K(T.teamAPlayer2Id||"")].filter(Boolean).join(" & "),le=[K(T.teamBPlayer1Id||""),K(T.teamBPlayer2Id||"")].filter(Boolean).join(" & "),W=T.winningTeam==="B"?le:H,Q=T.winningTeam==="B"?H:le;return a.jsxs("li",{className:"flex items-center gap-2 flex-wrap py-2 border-b border-slate-800 last:border-0",children:[a.jsx("span",{className:"font-semibold text-slate-200",children:T.date||""}),a.jsxs("span",{className:"text-slate-300",children:[W," vs ",Q]}),a.jsx("span",{className:"italic text-slate-400",children:be(T)})]},T.id||T.date+W)},O=[];if(_<=7)for(let T=1;T<=_;T++)O.push(T);else{const T=i;O.push(1),T>3&&O.push("");for(let H=Math.max(2,T-1);H<=Math.min(_-1,T+1);H++)O.includes(H)||O.push(H);T<_-2&&O.push(""),_>1&&O.push(_)}return e?J?a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Doubles"}),re&&a.jsx("p",{className:"text-sm text-slate-400",children:a.jsx(ce,{to:"/squash-admin",className:"text-brand-orange hover:text-orange-400",children:"Squash Admin"})}),(C||A)&&a.jsx("div",{className:`rounded-md px-4 py-3 text-sm ${A?"bg-red-900/30 border border-red-800/50 text-red-200":"bg-emerald-900/30 border border-emerald-800/50 text-emerald-200"}`,children:A||C}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Search matches"}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsx(Yn,{id:"searchDate",value:p,onChange:g,label:"Date (exact)",className:"max-w-[12rem]"}),a.jsx(Yn,{id:"searchDateFrom",value:y,onChange:b,label:"Date from",className:"max-w-[12rem]"}),a.jsx(Yn,{id:"searchDateTo",value:v,onChange:j,label:"Date to",className:"max-w-[12rem]"}),a.jsxs("div",{className:"relative max-w-[14rem] min-w-[12rem]",ref:V,children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1",children:"Filter by players"}),a.jsx("input",{type:"text",value:h,onChange:T=>d(T.target.value),onFocus:()=>w(!0),placeholder:"Search players...",autoComplete:"off",className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none"}),x&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-900 border border-slate-700 rounded-md max-h-48 overflow-y-auto z-10",children:M.length?M.map(T=>a.jsx("button",{type:"button",onClick:()=>E(T.id),className:"w-full text-left px-3 py-2 text-sm text-slate-200 hover:bg-slate-800",children:T.name||T.id},T.id)):a.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No matches"})}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:r.map(T=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-slate-700 text-slate-200 text-xs",children:[K(T),a.jsx("button",{type:"button",onClick:()=>N(T),className:"text-slate-400 hover:text-slate-100","aria-label":"Remove",children:""})]},T))})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:P,disabled:I,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:I?"Searching":"Search"}),a.jsx("button",{type:"button",onClick:k,className:"rounded-md border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Clear"})]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Results"}),f?me.length===0?a.jsx("ul",{className:"list-none p-0",children:a.jsx("li",{className:"py-2 text-slate-400",children:"No matches found."})}):a.jsxs(a.Fragment,{children:[a.jsx("ul",{className:"list-none p-0",children:me.map(ye)}),_>1&&a.jsxs("div",{className:"flex items-center gap-2 mt-4 flex-wrap",children:[a.jsx("button",{type:"button",disabled:i<=1,onClick:()=>u(T=>Math.max(1,T-1)),className:"rounded-md border border-slate-600 px-3 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 hover:bg-slate-800",children:"Prev"}),a.jsx("span",{className:"flex items-center gap-1",children:O.map((T,H)=>T===""?a.jsx("span",{className:"px-1 text-slate-500",children:""},`ellipsis-${H}`):T===i?a.jsx("span",{className:"min-w-[2rem] px-2 py-1 text-center font-semibold text-slate-200",children:T},T):a.jsx("button",{type:"button",onClick:()=>u(T),className:"min-w-[2rem] rounded px-2 py-1 text-sm text-slate-300 hover:bg-slate-800 border border-slate-600",children:T},T))}),a.jsx("button",{type:"button",disabled:i>=_,onClick:()=>u(T=>Math.min(_,T+1)),className:"rounded-md border border-slate-600 px-3 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 hover:bg-slate-800",children:"Next"})]})]}):a.jsx("p",{className:"text-sm text-slate-500",children:"Enter search criteria and click Search to find matches."})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Doubles"}),a.jsx("div",{className:"rounded-md bg-amber-900/30 border border-amber-800/50 px-4 py-3 text-sm text-amber-200",children:"You do not have access to the Squash section. Join the Squash group or contact an admin."})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Doubles"}),a.jsxs("div",{className:"rounded-md bg-red-900/30 border border-red-800/50 px-4 py-3 text-sm text-red-200",children:["Sign in required. ",a.jsx(ce,{to:"/auth",className:"underline hover:text-red-100",children:"Sign in"})]})]})};function zn(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const po=10,oy=()=>{const{user:e}=it(),[t,n]=c.useState("matches"),[r,s]=c.useState([]),[l,o]=c.useState([]),[i,u]=c.useState([]),[f,m]=c.useState(1),[p,g]=c.useState(!1),[y,b]=c.useState(""),[v,j]=c.useState(""),[h,d]=c.useState(""),[x,w]=c.useState(""),[C,L]=c.useState(!1),[A,$]=c.useState(null),[I,R]=c.useState(""),[V,J]=c.useState(""),[re,K]=c.useState(""),[de,B]=c.useState(""),[P,k]=c.useState(""),[E,N]=c.useState("A"),[M,_]=c.useState(0),[ae,me]=c.useState(!1),[be,ye]=c.useState(!1),O=c.useRef(null),[T,H]=c.useState([]),[le,W]=c.useState([]),[Q,oe]=c.useState(null),[je,tt]=c.useState(""),[Ve,ke]=c.useState(""),[Ie,Qe]=c.useState(""),[Me,xt]=c.useState(!1),[ut,U]=c.useState(null),[D,X]=c.useState(null),Y=tl(e),te=async(S,Z={})=>{var nt;const ne=window;if(!((nt=ne.auth)!=null&&nt.getAccessToken))throw new Error("Not signed in");const we=await new Promise(Vr=>ne.auth.getAccessToken(Vr));if(!we)throw new Error("Not signed in");const ze={...Z.headers,Authorization:`Bearer ${we}`};return fetch(S,{...Z,headers:ze})},ee=S=>{const Z=r.find(ne=>ne.id===S||ne.PK===S);return Z&&(Z.name||Z.id)||S},ie=async()=>{const S=zn();if(S)try{const Z=await te(`${S}/squash/players`);if(!Z.ok){const ze=await Z.json().catch(()=>({}));throw new Error(ze.error||"Failed")}const we=((await Z.json()).players??[]).map(ze=>({...ze,id:ze.id||ze.PK||""}));s(we),H(we)}catch(Z){U((Z==null?void 0:Z.message)??"Failed to load players")}},fe=async()=>{const S=zn();if(S)try{const Z=await te(`${S}/admin/users?limit=60`);if(!Z.ok)return;const ne=await Z.json();W(ne.users??[])}catch{W([])}},pe=async()=>{const S=zn();if(!S)return;const Z=new URLSearchParams;y&&Z.set("date",y),v&&Z.set("dateFrom",v),h&&Z.set("dateTo",h),l.length&&Z.set("playerIds",l.join(","));const ne=Z.toString()?`?${Z.toString()}`:"";ye(!0),U(null);try{const we=await te(`${S}/squash/matches${ne}`);if(!we.ok){const nt=await we.json().catch(()=>({}));throw new Error(nt.error||"Failed")}const ze=await we.json();u(ze.matches??[]),g(!0),m(1)}catch(we){U((we==null?void 0:we.message)??"Failed to search matches")}finally{ye(!1)}},z=()=>{b(""),j(""),d(""),o([]),w(""),g(!1),u([]),m(1)},se=S=>{l.includes(S)||o([...l,S]),w("")},ve=S=>{o(l.filter(Z=>Z!==S))},Te=r.filter(S=>!l.includes(S.id)&&(!x.trim()||(S.name||"").toLowerCase().includes(x.toLowerCase()))),Ae=[V,re,de,P],Fe=S=>{const Z=S==="p1"?0:S==="p2"?1:S==="p3"?2:3,ne=Ae.filter((we,ze)=>ze!==Z);return r.filter(we=>!ne.includes(we.id))},Ue=async S=>{if(S.preventDefault(),!I||!V||!re||!de||!P){U("All fields are required.");return}const Z=[V,re,de,P];if(new Set(Z).size!==4){U("Each player can only be on one team.");return}const ne=zn();if(!ne)return;const nt={date:I,teamAPlayer1Id:V,teamAPlayer2Id:re,teamBPlayer1Id:de,teamBPlayer2Id:P,winningTeam:E,teamAGames:E==="A"?3:M,teamBGames:E==="B"?3:M},Vr=A?"PUT":"POST";A&&(nt.id=A),me(!0),U(null);try{const ir=await te(`${ne}/squash/matches`,{method:Vr,headers:{"Content-Type":"application/json"},body:JSON.stringify(nt)});if(!ir.ok){const Zm=await ir.json().catch(()=>({}));throw new Error(Zm.error||"Failed")}$(null),R(""),J(""),K(""),B(""),k(""),N("A"),_(0),pe()}catch(ir){U((ir==null?void 0:ir.message)??"Failed")}finally{me(!1)}},Ee=()=>{$(null),R(""),J(""),K(""),B(""),k(""),N("A"),_(0)},Hr=S=>{var ne,we;const Z=S.id||((we=(ne=S.PK)==null?void 0:ne.replace)==null?void 0:we.call(ne,"SQUASH#MATCH#",""))||"";$(Z),R(S.date||""),J(S.teamAPlayer1Id||""),K(S.teamAPlayer2Id||""),B(S.teamBPlayer1Id||""),k(S.teamBPlayer2Id||""),N(S.winningTeam||"A"),_(S.winningTeam==="A"?S.teamBGames??0:S.teamAGames??0)},or=async S=>{if(!confirm("Delete this match?"))return;const Z=zn();if(Z)try{const ne=await te(`${Z}/squash/matches?id=${encodeURIComponent(S)}`,{method:"DELETE"});if(!ne.ok){const we=await ne.json().catch(()=>({}));throw new Error(we.error||"Failed")}pe()}catch(ne){U((ne==null?void 0:ne.message)??"Delete failed")}},Hs=async S=>{S.preventDefault();const Z=je.trim();if(!Z){U("Name is required.");return}const ne=zn();if(!ne)return;const we={name:Z,email:Ve.trim()||void 0,userId:Ie||void 0},ze=Q?"PUT":"POST";Q&&(we.id=Q),xt(!0),U(null);try{const nt=await te(`${ne}/squash/players`,{method:ze,headers:{"Content-Type":"application/json"},body:JSON.stringify(we)});if(!nt.ok){const Vr=await nt.json().catch(()=>({}));throw new Error(Vr.error||"Failed")}oe(null),tt(""),ke(""),Qe(""),ie()}catch(nt){U((nt==null?void 0:nt.message)??"Failed")}finally{xt(!1)}},G=()=>{oe(null),tt(""),ke(""),Qe("")},ue=S=>{oe(S.id),tt(S.name||""),ke(S.email||""),Qe(S.userId||"")},Ce=async S=>{if(!confirm("Delete this player?"))return;const Z=zn();if(Z)try{const ne=await te(`${Z}/squash/players?id=${encodeURIComponent(S)}`,{method:"DELETE"});if(!ne.ok){const we=await ne.json().catch(()=>({}));throw new Error(we.error||"Failed")}ie()}catch(ne){U((ne==null?void 0:ne.message)??"Delete failed")}};c.useEffect(()=>{Y&&(ie(),t==="players"&&fe())},[Y,t]),c.useEffect(()=>{function S(Z){O.current&&!O.current.contains(Z.target)&&L(!1)}if(C)return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[C]);const ge=Math.max(1,Math.ceil(i.length/po)),Ne=(f-1)*po,Re=i.slice(Ne,Ne+po),Be=S=>{const Z=S.teamAGames??0,ne=S.teamBGames??0;return S.winningTeam==="A"?`${Z}-${ne}`:`${ne}-${Z}`},he=[];if(ge<=7)for(let S=1;S<=ge;S++)he.push(S);else{const S=f;he.push(1),S>3&&he.push("");for(let Z=Math.max(2,S-1);Z<=Math.min(ge-1,S+1);Z++)he.includes(Z)||he.push(Z);S<ge-2&&he.push(""),ge>1&&he.push(ge)}return e?Y?a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Admin"}),a.jsx("p",{className:"text-sm text-slate-400",children:a.jsx(ce,{to:"/squash",className:"text-brand-orange hover:text-orange-400",children:"Squash"})}),(D||ut)&&a.jsx("div",{className:`rounded-md px-4 py-3 text-sm ${ut?"bg-red-900/30 border border-red-800/50 text-red-200":"bg-emerald-900/30 border border-emerald-800/50 text-emerald-200"}`,children:ut||D}),a.jsxs("div",{className:"flex gap-2 border-b border-slate-800 pb-2",children:[a.jsx("button",{type:"button",onClick:()=>n("matches"),className:`px-4 py-2 rounded-md text-sm font-medium ${t==="matches"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Matches"}),a.jsx("button",{type:"button",onClick:()=>n("players"),className:`px-4 py-2 rounded-md text-sm font-medium ${t==="players"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Players"})]}),t==="matches"&&a.jsxs(a.Fragment,{children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Add match"}),a.jsxs("form",{onSubmit:Ue,className:"grid grid-cols-2 gap-4 max-w-2xl",children:[a.jsx("div",{className:"col-span-2",children:a.jsx(Yn,{id:"matchDate",value:I,onChange:R,label:"Date",required:!0})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"matchTeamAP1",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Team A  Player 1"}),a.jsxs("select",{id:"matchTeamAP1",value:V,onChange:S=>J(S.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[a.jsx("option",{value:"",children:" Select "}),Fe("p1").map(S=>a.jsx("option",{value:S.id,children:S.name||S.id},S.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"matchTeamAP2",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Team A  Player 2"}),a.jsxs("select",{id:"matchTeamAP2",value:re,onChange:S=>K(S.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[a.jsx("option",{value:"",children:" Select "}),Fe("p2").map(S=>a.jsx("option",{value:S.id,children:S.name||S.id},S.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"matchTeamBP1",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Team B  Player 1"}),a.jsxs("select",{id:"matchTeamBP1",value:de,onChange:S=>B(S.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[a.jsx("option",{value:"",children:" Select "}),Fe("p3").map(S=>a.jsx("option",{value:S.id,children:S.name||S.id},S.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"matchTeamBP2",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Team B  Player 2"}),a.jsxs("select",{id:"matchTeamBP2",value:P,onChange:S=>k(S.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[a.jsx("option",{value:"",children:" Select "}),Fe("p4").map(S=>a.jsx("option",{value:S.id,children:S.name||S.id},S.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"matchWinningTeam",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Winning team"}),a.jsxs("select",{id:"matchWinningTeam",value:E,onChange:S=>N(S.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[a.jsx("option",{value:"A",children:"Team A"}),a.jsx("option",{value:"B",children:"Team B"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"matchLoserGames",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Games won by losing team"}),a.jsxs("select",{id:"matchLoserGames",value:M,onChange:S=>_(parseInt(S.target.value,10)),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[a.jsx("option",{value:0,children:"0"}),a.jsx("option",{value:1,children:"1"}),a.jsx("option",{value:2,children:"2"})]})]}),a.jsxs("div",{className:"col-span-2 flex gap-2",children:[a.jsx("button",{type:"submit",disabled:ae,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:A?"Update match":"Add match"}),a.jsx("button",{type:"button",onClick:Ee,className:"rounded-md border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"})]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Search matches"}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsx(Yn,{id:"searchDate",value:y,onChange:b,label:"Date (exact)",className:"max-w-[12rem]"}),a.jsx(Yn,{id:"searchDateFrom",value:v,onChange:j,label:"Date from",className:"max-w-[12rem]"}),a.jsx(Yn,{id:"searchDateTo",value:h,onChange:d,label:"Date to",className:"max-w-[12rem]"}),a.jsxs("div",{className:"relative max-w-[14rem] min-w-[12rem]",ref:O,children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1",children:"Filter by players"}),a.jsx("input",{type:"text",value:x,onChange:S=>w(S.target.value),onFocus:()=>L(!0),placeholder:"Search players...",autoComplete:"off",className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none"}),C&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-900 border border-slate-700 rounded-md max-h-48 overflow-y-auto z-10",children:Te.length?Te.map(S=>a.jsx("button",{type:"button",onClick:()=>se(S.id),className:"w-full text-left px-3 py-2 text-sm text-slate-200 hover:bg-slate-800",children:S.name||S.id},S.id)):a.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No matches"})}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.map(S=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-slate-700 text-slate-200 text-xs",children:[ee(S),a.jsx("button",{type:"button",onClick:()=>ve(S),className:"text-slate-400 hover:text-slate-100","aria-label":"Remove",children:""})]},S))})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:pe,disabled:be,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:be?"Searching":"Search"}),a.jsx("button",{type:"button",onClick:z,className:"rounded-md border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Clear"})]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Search results"}),p?Re.length===0?a.jsx("ul",{className:"list-none p-0",children:a.jsx("li",{className:"py-2 text-slate-400",children:"No matches found."})}):a.jsxs(a.Fragment,{children:[a.jsx("ul",{className:"list-none p-0",children:Re.map(S=>{var ze,nt;const Z=S.id||((nt=(ze=S.PK)==null?void 0:ze.replace)==null?void 0:nt.call(ze,"SQUASH#MATCH#",""))||"",ne=[ee(S.teamAPlayer1Id||""),ee(S.teamAPlayer2Id||"")].filter(Boolean).join(" & "),we=[ee(S.teamBPlayer1Id||""),ee(S.teamBPlayer2Id||"")].filter(Boolean).join(" & ");return a.jsxs("li",{className:"flex items-center gap-2 flex-wrap py-2 border-b border-slate-800 last:border-0",children:[a.jsx("span",{className:"font-semibold text-slate-200",children:S.date||""}),a.jsxs("span",{className:"text-slate-300",children:[ne," vs ",we]}),a.jsx("span",{className:"italic text-slate-400",children:Be(S)}),a.jsx("button",{type:"button",onClick:()=>Hr(S),className:"rounded-md border border-slate-600 px-2 py-1 text-xs text-slate-300 hover:bg-slate-800",children:"Edit"}),a.jsx("button",{type:"button",onClick:()=>or(Z),className:"rounded-md border border-red-800/50 px-2 py-1 text-xs text-red-300 hover:bg-red-900/30",children:"Delete"})]},Z)})}),ge>1&&a.jsxs("div",{className:"flex items-center gap-2 mt-4 flex-wrap",children:[a.jsx("button",{type:"button",disabled:f<=1,onClick:()=>m(S=>Math.max(1,S-1)),className:"rounded-md border border-slate-600 px-3 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 hover:bg-slate-800",children:"Prev"}),a.jsx("span",{className:"flex items-center gap-1",children:he.map((S,Z)=>S===""?a.jsx("span",{className:"px-1 text-slate-500",children:""},`ellipsis-${Z}`):S===f?a.jsx("span",{className:"min-w-[2rem] px-2 py-1 text-center font-semibold text-slate-200",children:S},S):a.jsx("button",{type:"button",onClick:()=>m(S),className:"min-w-[2rem] rounded px-2 py-1 text-sm text-slate-300 hover:bg-slate-800 border border-slate-600",children:S},S))}),a.jsx("button",{type:"button",disabled:f>=ge,onClick:()=>m(S=>Math.min(ge,S+1)),className:"rounded-md border border-slate-600 px-3 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 hover:bg-slate-800",children:"Next"})]})]}):a.jsx("p",{className:"text-sm text-slate-500",children:"Enter search criteria and click Search to find matches."})]})]}),t==="players"&&a.jsxs(a.Fragment,{children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Players"}),a.jsxs("form",{onSubmit:Hs,className:"space-y-4 max-w-md",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"playerName",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Name"}),a.jsx("input",{type:"text",id:"playerName",value:je,onChange:S=>tt(S.target.value),required:!0,placeholder:"Player name",className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"playerEmail",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Email (optional)"}),a.jsx("input",{type:"email",id:"playerEmail",value:Ve,onChange:S=>ke(S.target.value),placeholder:"player@example.com",className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"playerUserId",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Link to user (optional)"}),a.jsxs("select",{id:"playerUserId",value:Ie,onChange:S=>Qe(S.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[a.jsx("option",{value:"",children:" None "}),le.map(S=>a.jsx("option",{value:S.sub||"",children:S.email||S.username||S.sub},S.sub||S.username))]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"submit",disabled:Me,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:Q?"Update player":"Add player"}),a.jsx("button",{type:"button",onClick:G,className:"rounded-md border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"})]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Player list"}),T.length===0?a.jsx("p",{className:"text-sm text-slate-500",children:"No players yet. Add players above."}):a.jsx("ul",{className:"list-none p-0",children:T.map(S=>a.jsxs("li",{className:"flex items-center gap-2 flex-wrap py-2 border-b border-slate-800 last:border-0",children:[a.jsx("span",{className:"font-semibold text-slate-200",children:S.name||S.id}),S.email&&a.jsxs("span",{className:"text-slate-500 text-sm",children:["(",S.email,")"]}),a.jsx("button",{type:"button",onClick:()=>ue(S),className:"rounded-md border border-slate-600 px-2 py-1 text-xs text-slate-300 hover:bg-slate-800",children:"Edit"}),a.jsx("button",{type:"button",onClick:()=>Ce(S.id),className:"rounded-md border border-red-800/50 px-2 py-1 text-xs text-red-300 hover:bg-red-900/30",children:"Delete"})]},S.id))})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Admin"}),a.jsx("div",{className:"rounded-md bg-amber-900/30 border border-amber-800/50 px-4 py-3 text-sm text-amber-200",children:"Squash Admin requires manager (in Squash group) or SuperAdmin access."})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Admin"}),a.jsxs("div",{className:"rounded-md bg-red-900/30 border border-red-800/50 px-4 py-3 text-sm text-red-200",children:["Sign in required. ",a.jsx(ce,{to:"/auth",className:"underline hover:text-red-100",children:"Sign in"})]})]})},Jc=[{label:"Websites",to:"/websites",section:"discover",minRole:"guest"},{label:"Media",to:"/media",section:"discover",minRole:"guest"},{label:"Internet Dashboard",to:"/internet-dashboard",section:"discover",minRole:"guest"},{label:"Profile",to:"/profile",section:"discover",minRole:"user"},{label:"Squash",to:"/squash",section:"squash",minRole:"user"},{label:"Squash Admin",to:"/squash-admin",section:"squash",minRole:"manager"},{label:"Membership",to:"/admin/membership",section:"admin",minRole:"manager",adminGroup:"membership"},{label:"Websites",to:"/admin/websites",section:"admin",minRole:"manager",adminGroup:"websites"},{label:"Media",to:"/admin/media",section:"admin",minRole:"manager",adminGroup:"media"},{label:"Branding",to:"/admin/branding",section:"admin",minRole:"superadmin"}],Zc={membership:"Membership",websites:"Websites",media:"Media"},Xc=["membership","websites","media"],Jm="funkedupshift_adminGroupOpen",fa={membership:!1,websites:!1,media:!1};function iy(){try{const e=sessionStorage.getItem(Jm);if(!e)return{...fa};const t=JSON.parse(e);return typeof t!="object"||t===null?{...fa}:{...fa,...t}}catch{return{...fa}}}function uy(e){try{sessionStorage.setItem(Jm,JSON.stringify(e))}catch{}}const cy=()=>{const{user:e,isLoading:t,signOut:n}=it(),{logo:r}=qm(),s=Jt(),[l,o]=Pe.useState(!1),[i,u]=Pe.useState(iy),f=d=>{u(x=>{const w={...x,[d]:!x[d]};return uy(w),w})},m=()=>{n(),o(!1),s("/")};e==null||e.role;const p=Jc.filter(d=>Ot(e??null,d.minRole)),g=p.filter(d=>d.section==="discover"),y=Jc.filter(d=>d.section==="squash").filter(d=>d.to==="/squash"?el(e):tl(e)),b=p.filter(d=>d.section==="admin"),v=b.filter(d=>!d.adminGroup),j=d=>b.filter(x=>x.adminGroup===d),h=({isActive:d})=>["flex items-center rounded-md px-3 py-2 text-sm font-medium",d?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800/70 hover:text-white"].join(" ");return a.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-50 flex flex-col",children:[a.jsx("header",{className:"border-b border-slate-800 bg-slate-950/80 backdrop-blur z-20 sticky top-0",children:a.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-3 flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md p-2 text-slate-200 hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-brand-orange lg:hidden",onClick:()=>o(!0),"aria-label":"Open main navigation",children:a.jsx(Rx,{className:"h-6 w-6"})}),a.jsxs(ce,{to:"/",className:"flex items-center gap-2",children:[r?a.jsx("img",{src:r.url,alt:r.alt,className:"h-8 w-auto rounded-md border border-slate-700 object-contain"}):a.jsx("div",{className:"h-8 w-8 rounded-md border border-slate-700 bg-gradient-to-br from-brand-orange to-brand-navy"}),a.jsx("span",{className:"text-sm font-semibold tracking-[0.2em] uppercase text-slate-100",children:"Funked Up Shift"})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:e?a.jsxs(a.Fragment,{children:[a.jsxs("span",{className:"hidden sm:inline text-xs text-slate-300",children:[e.email," ",a.jsxs("span",{className:"text-slate-500",children:["(",e.role==="superadmin"?"SuperAdmin":e.role,")"]})]}),a.jsx("button",{type:"button",onClick:m,className:"rounded-full border border-slate-700 px-3 py-1 text-xs font-medium text-slate-200 hover:bg-slate-800",children:"Sign out"})]}):t?a.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."}):a.jsx(ce,{to:"/auth",className:"rounded-full bg-brand-orange px-3 py-1 text-xs font-semibold text-slate-950 hover:bg-orange-500",children:"Sign in"})})]})}),a.jsxs("div",{className:"flex-1 flex",children:[a.jsx("aside",{className:"hidden lg:block w-64 border-r border-slate-800 bg-slate-950/80",children:a.jsxs("nav",{className:"h-full overflow-y-auto px-4 py-6 space-y-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Discover"}),a.jsx("div",{className:"space-y-1",children:g.map(d=>a.jsx(hn,{to:d.to,className:h,children:d.label},d.to))})]}),y.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Squash"}),a.jsx("div",{className:"space-y-1",children:y.map(d=>a.jsx(hn,{to:d.to,className:h,children:d.label},d.to))})]}),b.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Admin"}),a.jsxs("div",{className:"space-y-1",children:[Xc.map(d=>{const x=j(d);if(x.length===0)return null;const w=i[d]??!1,C=Zc[d];return a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:()=>f(d),className:"flex w-full items-center justify-between rounded-md px-3 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800/70 hover:text-white",children:[C,w?a.jsx(Oc,{className:"h-4 w-4 shrink-0"}):a.jsx(Mc,{className:"h-4 w-4 shrink-0"})]}),w&&a.jsx("div",{className:"ml-2 mt-1 space-y-1 border-l border-slate-800 pl-2",children:x.map(L=>a.jsx(hn,{to:L.to,className:h,children:L.label},L.to))})]},d)}),v.map(d=>a.jsx(hn,{to:d.to,className:h,children:d.label},d.to))]})]})]})}),a.jsxs(so,{open:l,onClose:o,className:"lg:hidden",children:[a.jsx("div",{className:"fixed inset-0 bg-black/40","aria-hidden":"true"}),a.jsxs(so.Panel,{className:"fixed inset-y-0 left-0 w-72 bg-slate-950 border-r border-slate-800 p-4 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx(so.Title,{className:"text-sm font-semibold tracking-[0.15em] uppercase text-slate-100",children:"Funked Up Shift"}),a.jsx("button",{type:"button",className:"rounded-md p-1 text-slate-200 hover:bg-slate-800",onClick:()=>o(!1),"aria-label":"Close main navigation",children:a.jsx(Mx,{className:"h-5 w-5"})})]}),a.jsxs("nav",{className:"flex-1 overflow-y-auto space-y-6 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Discover"}),a.jsx("div",{className:"space-y-1",children:g.map(d=>a.jsx(hn,{to:d.to,className:h,onClick:()=>o(!1),children:d.label},d.to))})]}),y.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Squash"}),a.jsx("div",{className:"space-y-1",children:y.map(d=>a.jsx(hn,{to:d.to,className:h,onClick:()=>o(!1),children:d.label},d.to))})]}),b.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Admin"}),a.jsxs("div",{className:"space-y-1",children:[Xc.map(d=>{const x=j(d);if(x.length===0)return null;const w=i[d]??!1,C=Zc[d];return a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:()=>f(d),className:"flex w-full items-center justify-between rounded-md px-3 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800/70 hover:text-white",children:[C,w?a.jsx(Oc,{className:"h-4 w-4 shrink-0"}):a.jsx(Mc,{className:"h-4 w-4 shrink-0"})]}),w&&a.jsx("div",{className:"ml-2 mt-1 space-y-1 border-l border-slate-800 pl-2",children:x.map(L=>a.jsx(hn,{to:L.to,className:h,onClick:()=>o(!1),children:L.label},L.to))})]},d)}),v.map(d=>a.jsx(hn,{to:d.to,className:h,onClick:()=>o(!1),children:d.label},d.to))]})]})]})]})]}),a.jsx("main",{className:"flex-1 min-w-0",children:a.jsx("div",{className:"mx-auto max-w-6xl px-4 py-6",children:a.jsxs(hx,{children:[a.jsx(Je,{path:"/",element:a.jsx(kv,{})}),a.jsx(Je,{path:"/websites",element:a.jsx(Ev,{})}),a.jsx(Je,{path:"/websites/:id",element:a.jsx(Cv,{})}),a.jsx(Je,{path:"/media",element:a.jsx(Pv,{})}),a.jsx(Je,{path:"/media/:id",element:a.jsx(Tv,{})}),a.jsx(Je,{path:"/internet-dashboard",element:a.jsx(Iv,{})}),a.jsx(Je,{path:"/squash",element:a.jsx(ly,{})}),a.jsx(Je,{path:"/squash-admin",element:a.jsx(oy,{})}),a.jsx(Je,{path:"/admin/branding",element:a.jsx(_v,{})}),a.jsx(Je,{path:"/admin/membership",element:a.jsx(Fv,{})}),a.jsx(Je,{path:"/admin/users/edit",element:a.jsx(Jv,{})}),a.jsx(Je,{path:"/admin/websites",element:a.jsx(Gv,{})}),a.jsx(Je,{path:"/admin/sites/edit/:id",element:a.jsx(Kv,{})}),a.jsx(Je,{path:"/admin/media",element:a.jsx(Hv,{})}),a.jsx(Je,{path:"/admin/media/edit/:id",element:a.jsx(qv,{})}),a.jsx(Je,{path:"/admin/*",element:a.jsx("div",{children:"Admin area"})}),a.jsx(Je,{path:"/profile",element:a.jsx(sy,{})}),a.jsx(Je,{path:"/auth",element:a.jsx(Zv,{})}),a.jsx(Je,{path:"*",element:a.jsx("div",{children:"Not found"})})]})})})]}),a.jsx("footer",{className:"border-t border-slate-800 bg-slate-950",children:a.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-4 flex flex-col sm:flex-row items-center justify-between gap-3 text-xs text-slate-500",children:[a.jsxs("nav",{className:"flex flex-wrap gap-3 justify-center sm:justify-start",children:[a.jsx(ce,{to:"/",className:"hover:text-slate-300",children:"Home"}),a.jsx(ce,{to:"/websites",className:"hover:text-slate-300",children:"Websites"}),a.jsx(ce,{to:"/media",className:"hover:text-slate-300",children:"Media"}),a.jsx(ce,{to:"/internet-dashboard",className:"hover:text-slate-300",children:"Internet dashboard"}),e&&a.jsx(ce,{to:"/profile",className:"hover:text-slate-300",children:"Profile"}),Ot(e??null,"superadmin")&&a.jsx(ce,{to:"/admin/branding",className:"hover:text-slate-300",children:"Branding"}),el(e)&&a.jsx(ce,{to:"/squash",className:"hover:text-slate-300",children:"Squash"}),tl(e)&&a.jsx(ce,{to:"/squash-admin",className:"hover:text-slate-300",children:"Squash Admin"})]}),a.jsxs("div",{className:"text-slate-600",children:[a.jsx("span",{className:"font-mono text-[11px]",children:"funkedupshift"})," ",a.jsx("span",{className:"text-slate-700",children:""})," ",a.jsx("span",{children:"All data public, admin-managed curation"})]})]})})]})},ed=document.getElementById("root");ed&&ho.createRoot(ed).render(a.jsx(Pe.StrictMode,{children:a.jsx(Sx,{children:a.jsx(jv,{children:a.jsx(Sv,{children:a.jsx(cy,{})})})})}));
