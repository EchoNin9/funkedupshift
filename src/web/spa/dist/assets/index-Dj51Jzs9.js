function tp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function np(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kc={exports:{}},zl={},qc={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=Symbol.for("react.element"),rp=Symbol.for("react.portal"),sp=Symbol.for("react.fragment"),lp=Symbol.for("react.strict_mode"),ap=Symbol.for("react.profiler"),op=Symbol.for("react.provider"),ip=Symbol.for("react.context"),up=Symbol.for("react.forward_ref"),cp=Symbol.for("react.suspense"),dp=Symbol.for("react.memo"),fp=Symbol.for("react.lazy"),du=Symbol.iterator;function mp(e){return e===null||typeof e!="object"?null:(e=du&&e[du]||e["@@iterator"],typeof e=="function"?e:null)}var Qc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yc=Object.assign,Jc={};function Nr(e,t,n){this.props=e,this.context=t,this.refs=Jc,this.updater=n||Qc}Nr.prototype.isReactComponent={};Nr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zc(){}Zc.prototype=Nr.prototype;function ci(e,t,n){this.props=e,this.context=t,this.refs=Jc,this.updater=n||Qc}var di=ci.prototype=new Zc;di.constructor=ci;Yc(di,Nr.prototype);di.isPureReactComponent=!0;var fu=Array.isArray,Xc=Object.prototype.hasOwnProperty,fi={current:null},ed={key:!0,ref:!0,__self:!0,__source:!0};function td(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Xc.call(t,r)&&!ed.hasOwnProperty(r)&&(s[r]=t[r]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var u=Array(i),f=0;f<i;f++)u[f]=arguments[f+2];s.children=u}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)s[r]===void 0&&(s[r]=i[r]);return{$$typeof:bs,type:e,key:a,ref:o,props:s,_owner:fi.current}}function pp(e,t){return{$$typeof:bs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mi(e){return typeof e=="object"&&e!==null&&e.$$typeof===bs}function hp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mu=/\/+/g;function ma(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hp(""+e.key):t.toString(36)}function el(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bs:case rp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ma(o,0):r,fu(s)?(n="",e!=null&&(n=e.replace(mu,"$&/")+"/"),el(s,t,n,"",function(f){return f})):s!=null&&(mi(s)&&(s=pp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",fu(e))for(var i=0;i<e.length;i++){a=e[i];var u=r+ma(a,i);o+=el(a,t,n,u,s)}else if(u=mp(e),typeof u=="function")for(e=u.call(e),i=0;!(a=e.next()).done;)a=a.value,u=r+ma(a,i++),o+=el(a,t,n,u,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ls(e,t,n){if(e==null)return e;var r=[],s=0;return el(e,r,"","",function(a){return t.call(n,a,s++)}),r}function xp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},tl={transition:null},gp={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:tl,ReactCurrentOwner:fi};function nd(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ls,forEach:function(e,t,n){Ls(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ls(e,function(){t++}),t},toArray:function(e){return Ls(e,function(t){return t})||[]},only:function(e){if(!mi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Nr;le.Fragment=sp;le.Profiler=ap;le.PureComponent=ci;le.StrictMode=lp;le.Suspense=cp;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gp;le.act=nd;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yc({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=fi.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)Xc.call(t,u)&&!ed.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){i=Array(u);for(var f=0;f<u;f++)i[f]=arguments[f+2];r.children=i}return{$$typeof:bs,type:e.type,key:s,ref:a,props:r,_owner:o}};le.createContext=function(e){return e={$$typeof:ip,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:op,_context:e},e.Consumer=e};le.createElement=td;le.createFactory=function(e){var t=td.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:up,render:e}};le.isValidElement=mi;le.lazy=function(e){return{$$typeof:fp,_payload:{_status:-1,_result:e},_init:xp}};le.memo=function(e,t){return{$$typeof:dp,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=tl.transition;tl.transition={};try{e()}finally{tl.transition=t}};le.unstable_act=nd;le.useCallback=function(e,t){return Je.current.useCallback(e,t)};le.useContext=function(e){return Je.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};le.useEffect=function(e,t){return Je.current.useEffect(e,t)};le.useId=function(){return Je.current.useId()};le.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Je.current.useMemo(e,t)};le.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};le.useRef=function(e){return Je.current.useRef(e)};le.useState=function(e){return Je.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return Je.current.useTransition()};le.version="18.3.1";qc.exports=le;var c=qc.exports;const oe=np(c),pr=tp({__proto__:null,default:oe},[c]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=c,yp=Symbol.for("react.element"),wp=Symbol.for("react.fragment"),bp=Object.prototype.hasOwnProperty,jp=vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Np={key:!0,ref:!0,__self:!0,__source:!0};function rd(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)bp.call(t,r)&&!Np.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:yp,type:e,key:a,ref:o,props:s,_owner:jp.current}}zl.Fragment=wp;zl.jsx=rd;zl.jsxs=rd;Kc.exports=zl;var l=Kc.exports,to={},sd={exports:{}},ft={},ld={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(y,k){var w=y.length;y.push(k);e:for(;0<w;){var R=w-1>>>1,T=y[R];if(0<s(T,k))y[R]=k,y[w]=T,w=R;else break e}}function n(y){return y.length===0?null:y[0]}function r(y){if(y.length===0)return null;var k=y[0],w=y.pop();if(w!==k){y[0]=w;e:for(var R=0,T=y.length,z=T>>>1;R<z;){var W=2*(R+1)-1,K=y[W],F=W+1,I=y[F];if(0>s(K,w))F<T&&0>s(I,K)?(y[R]=I,y[F]=w,R=F):(y[R]=K,y[W]=w,R=W);else if(F<T&&0>s(I,w))y[R]=I,y[F]=w,R=F;else break e}}return k}function s(y,k){var w=y.sortIndex-k.sortIndex;return w!==0?w:y.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var u=[],f=[],p=1,h=null,g=3,j=!1,N=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(y){for(var k=n(f);k!==null;){if(k.callback===null)r(f);else if(k.startTime<=y)r(f),k.sortIndex=k.expirationTime,t(u,k);else break;k=n(f)}}function b(y){if(v=!1,m(y),!N)if(n(u)!==null)N=!0,O(E);else{var k=n(f);k!==null&&P(b,k.startTime-y)}}function E(y,k){N=!1,v&&(v=!1,x(_),_=-1),j=!0;var w=g;try{for(m(k),h=n(u);h!==null&&(!(h.expirationTime>k)||y&&!B());){var R=h.callback;if(typeof R=="function"){h.callback=null,g=h.priorityLevel;var T=R(h.expirationTime<=k);k=e.unstable_now(),typeof T=="function"?h.callback=T:h===n(u)&&r(u),m(k)}else r(u);h=n(u)}if(h!==null)var z=!0;else{var W=n(f);W!==null&&P(b,W.startTime-k),z=!1}return z}finally{h=null,g=w,j=!1}}var A=!1,$=null,_=-1,D=5,U=-1;function B(){return!(e.unstable_now()-U<D)}function J(){if($!==null){var y=e.unstable_now();U=y;var k=!0;try{k=$(!0,y)}finally{k?ee():(A=!1,$=null)}}else A=!1}var ee;if(typeof d=="function")ee=function(){d(J)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,H=q.port2;q.port1.onmessage=J,ee=function(){H.postMessage(null)}}else ee=function(){S(J,0)};function O(y){$=y,A||(A=!0,ee())}function P(y,k){_=S(function(){y(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(y){y.callback=null},e.unstable_continueExecution=function(){N||j||(N=!0,O(E))},e.unstable_forceFrameRate=function(y){0>y||125<y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<y?Math.floor(1e3/y):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(y){switch(g){case 1:case 2:case 3:var k=3;break;default:k=g}var w=g;g=k;try{return y()}finally{g=w}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(y,k){switch(y){case 1:case 2:case 3:case 4:case 5:break;default:y=3}var w=g;g=y;try{return k()}finally{g=w}},e.unstable_scheduleCallback=function(y,k,w){var R=e.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?R+w:R):w=R,y){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=w+T,y={id:p++,callback:k,priorityLevel:y,startTime:w,expirationTime:T,sortIndex:-1},w>R?(y.sortIndex=w,t(f,y),n(u)===null&&y===n(f)&&(v?(x(_),_=-1):v=!0,P(b,w-R))):(y.sortIndex=T,t(u,y),N||j||(N=!0,O(E))),y},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(y){var k=g;return function(){var w=g;g=k;try{return y.apply(this,arguments)}finally{g=w}}}})(ad);ld.exports=ad;var Sp=ld.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=c,dt=Sp;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var od=new Set,ns={};function Vn(e,t){hr(e,t),hr(e+"Capture",t)}function hr(e,t){for(ns[e]=t,e=0;e<t.length;e++)od.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=Object.prototype.hasOwnProperty,Ep=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pu={},hu={};function Cp(e){return no.call(hu,e)?!0:no.call(pu,e)?!1:Ep.test(e)?hu[e]=!0:(pu[e]=!0,!1)}function Pp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tp(e,t,n,r){if(t===null||typeof t>"u"||Pp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var pi=/[\-:]([a-z])/g;function hi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pi,hi);ze[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pi,hi);ze[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pi,hi);ze[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function xi(e,t,n,r){var s=ze.hasOwnProperty(t)?ze[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tp(t,n,s,r)&&(n=null),r||s===null?Cp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yt=kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,As=Symbol.for("react.element"),Yn=Symbol.for("react.portal"),Jn=Symbol.for("react.fragment"),gi=Symbol.for("react.strict_mode"),ro=Symbol.for("react.profiler"),id=Symbol.for("react.provider"),ud=Symbol.for("react.context"),vi=Symbol.for("react.forward_ref"),so=Symbol.for("react.suspense"),lo=Symbol.for("react.suspense_list"),yi=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),cd=Symbol.for("react.offscreen"),xu=Symbol.iterator;function Ar(e){return e===null||typeof e!="object"?null:(e=xu&&e[xu]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,pa;function Br(e){if(pa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pa=t&&t[1]||""}return`
`+pa+e}var ha=!1;function xa(e,t){if(!e||ha)return"";ha=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,i=a.length-1;1<=o&&0<=i&&s[o]!==a[i];)i--;for(;1<=o&&0<=i;o--,i--)if(s[o]!==a[i]){if(o!==1||i!==1)do if(o--,i--,0>i||s[o]!==a[i]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=i);break}}}finally{ha=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Br(e):""}function Lp(e){switch(e.tag){case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 2:case 15:return e=xa(e.type,!1),e;case 11:return e=xa(e.type.render,!1),e;case 1:return e=xa(e.type,!0),e;default:return""}}function ao(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jn:return"Fragment";case Yn:return"Portal";case ro:return"Profiler";case gi:return"StrictMode";case so:return"Suspense";case lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ud:return(e.displayName||"Context")+".Consumer";case id:return(e._context.displayName||"Context")+".Provider";case vi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yi:return t=e.displayName||null,t!==null?t:ao(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return ao(e(t))}catch{}}return null}function Ap(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ao(t);case 8:return t===gi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rp(e){var t=dd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rs(e){e._valueTracker||(e._valueTracker=Rp(e))}function fd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oo(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function md(e,t){t=t.checked,t!=null&&xi(e,"checked",t,!1)}function io(e,t){md(e,t);var n=bn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uo(e,t.type,n):t.hasOwnProperty("defaultValue")&&uo(e,t.type,bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function uo(e,t,n){(t!=="number"||ml(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zr=Array.isArray;function ir(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function co(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(zr(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bn(n)}}function pd(e,t){var n=bn(t.value),r=bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $s,xd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$p=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(e){$p.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kr[t]=Kr[e]})});function gd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Kr.hasOwnProperty(e)&&Kr[e]?(""+t).trim():t+"px"}function vd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ip=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mo(e,t){if(t){if(Ip[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function po(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=null;function wi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xo=null,ur=null,cr=null;function bu(e){if(e=Ss(e)){if(typeof xo!="function")throw Error(M(280));var t=e.stateNode;t&&(t=Kl(t),xo(e.stateNode,e.type,t))}}function yd(e){ur?cr?cr.push(e):cr=[e]:ur=e}function wd(){if(ur){var e=ur,t=cr;if(cr=ur=null,bu(e),t)for(e=0;e<t.length;e++)bu(t[e])}}function bd(e,t){return e(t)}function jd(){}var ga=!1;function Nd(e,t,n){if(ga)return e(t,n);ga=!0;try{return bd(e,t,n)}finally{ga=!1,(ur!==null||cr!==null)&&(jd(),wd())}}function ss(e,t){var n=e.stateNode;if(n===null)return null;var r=Kl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var go=!1;if(Ht)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){go=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{go=!1}function Up(e,t,n,r,s,a,o,i,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var qr=!1,pl=null,hl=!1,vo=null,Dp={onError:function(e){qr=!0,pl=e}};function _p(e,t,n,r,s,a,o,i,u){qr=!1,pl=null,Up.apply(Dp,arguments)}function Op(e,t,n,r,s,a,o,i,u){if(_p.apply(this,arguments),qr){if(qr){var f=pl;qr=!1,pl=null}else throw Error(M(198));hl||(hl=!0,vo=f)}}function Kn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ju(e){if(Kn(e)!==e)throw Error(M(188))}function Mp(e){var t=e.alternate;if(!t){if(t=Kn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return ju(s),e;if(a===r)return ju(s),t;a=a.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,i=s.child;i;){if(i===n){o=!0,n=s,r=a;break}if(i===r){o=!0,r=s,n=a;break}i=i.sibling}if(!o){for(i=a.child;i;){if(i===n){o=!0,n=a,r=s;break}if(i===r){o=!0,r=a,n=s;break}i=i.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function kd(e){return e=Mp(e),e!==null?Ed(e):null}function Ed(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ed(e);if(t!==null)return t;e=e.sibling}return null}var Cd=dt.unstable_scheduleCallback,Nu=dt.unstable_cancelCallback,Fp=dt.unstable_shouldYield,Bp=dt.unstable_requestPaint,Pe=dt.unstable_now,zp=dt.unstable_getCurrentPriorityLevel,bi=dt.unstable_ImmediatePriority,Pd=dt.unstable_UserBlockingPriority,xl=dt.unstable_NormalPriority,Gp=dt.unstable_LowPriority,Td=dt.unstable_IdlePriority,Gl=null,$t=null;function Wp(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Gl,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Kp,Hp=Math.log,Vp=Math.LN2;function Kp(e){return e>>>=0,e===0?32:31-(Hp(e)/Vp|0)|0}var Is=64,Us=4194304;function Gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var i=o&~s;i!==0?r=Gr(i):(a&=o,a!==0&&(r=Gr(a)))}else o=n&~s,o!==0?r=Gr(o):a!==0&&(r=Gr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),s=1<<n,r|=e[n],t&=~s;return r}function qp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-St(a),i=1<<o,u=s[o];u===-1?(!(i&n)||i&r)&&(s[o]=qp(i,t)):u<=t&&(e.expiredLanes|=i),a&=~i}}function yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ld(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function va(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function js(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function Yp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-St(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function ji(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ue=0;function Ad(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rd,Ni,$d,Id,Ud,wo=!1,Ds=[],fn=null,mn=null,pn=null,ls=new Map,as=new Map,ln=[],Jp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Su(e,t){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":ls.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":as.delete(t.pointerId)}}function $r(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ss(t),t!==null&&Ni(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zp(e,t,n,r,s){switch(t){case"focusin":return fn=$r(fn,e,t,n,r,s),!0;case"dragenter":return mn=$r(mn,e,t,n,r,s),!0;case"mouseover":return pn=$r(pn,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return ls.set(a,$r(ls.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,as.set(a,$r(as.get(a)||null,e,t,n,r,s)),!0}return!1}function Dd(e){var t=$n(e.target);if(t!==null){var n=Kn(t);if(n!==null){if(t=n.tag,t===13){if(t=Sd(n),t!==null){e.blockedOn=t,Ud(e.priority,function(){$d(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ho=r,n.target.dispatchEvent(r),ho=null}else return t=Ss(n),t!==null&&Ni(t),e.blockedOn=n,!1;t.shift()}return!0}function ku(e,t,n){nl(e)&&n.delete(t)}function Xp(){wo=!1,fn!==null&&nl(fn)&&(fn=null),mn!==null&&nl(mn)&&(mn=null),pn!==null&&nl(pn)&&(pn=null),ls.forEach(ku),as.forEach(ku)}function Ir(e,t){e.blockedOn===t&&(e.blockedOn=null,wo||(wo=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Xp)))}function os(e){function t(s){return Ir(s,e)}if(0<Ds.length){Ir(Ds[0],e);for(var n=1;n<Ds.length;n++){var r=Ds[n];r.blockedOn===e&&(r.blockedOn=null)}}for(fn!==null&&Ir(fn,e),mn!==null&&Ir(mn,e),pn!==null&&Ir(pn,e),ls.forEach(t),as.forEach(t),n=0;n<ln.length;n++)r=ln[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ln.length&&(n=ln[0],n.blockedOn===null);)Dd(n),n.blockedOn===null&&ln.shift()}var dr=Yt.ReactCurrentBatchConfig,vl=!0;function eh(e,t,n,r){var s=ue,a=dr.transition;dr.transition=null;try{ue=1,Si(e,t,n,r)}finally{ue=s,dr.transition=a}}function th(e,t,n,r){var s=ue,a=dr.transition;dr.transition=null;try{ue=4,Si(e,t,n,r)}finally{ue=s,dr.transition=a}}function Si(e,t,n,r){if(vl){var s=bo(e,t,n,r);if(s===null)Pa(e,t,r,yl,n),Su(e,r);else if(Zp(s,e,t,n,r))r.stopPropagation();else if(Su(e,r),t&4&&-1<Jp.indexOf(e)){for(;s!==null;){var a=Ss(s);if(a!==null&&Rd(a),a=bo(e,t,n,r),a===null&&Pa(e,t,r,yl,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Pa(e,t,r,null,n)}}var yl=null;function bo(e,t,n,r){if(yl=null,e=wi(r),e=$n(e),e!==null)if(t=Kn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yl=e,null}function _d(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zp()){case bi:return 1;case Pd:return 4;case xl:case Gp:return 16;case Td:return 536870912;default:return 16}default:return 16}}var un=null,ki=null,rl=null;function Od(){if(rl)return rl;var e,t=ki,n=t.length,r,s="value"in un?un.value:un.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return rl=s.slice(e,1<r?1-r:void 0)}function sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function Eu(){return!1}function mt(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?_s:Eu,this.isPropagationStopped=Eu,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),t}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=mt(Sr),Ns=ke({},Sr,{view:0,detail:0}),nh=mt(Ns),ya,wa,Ur,Wl=ke({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ci,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(ya=e.screenX-Ur.screenX,wa=e.screenY-Ur.screenY):wa=ya=0,Ur=e),ya)},movementY:function(e){return"movementY"in e?e.movementY:wa}}),Cu=mt(Wl),rh=ke({},Wl,{dataTransfer:0}),sh=mt(rh),lh=ke({},Ns,{relatedTarget:0}),ba=mt(lh),ah=ke({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=mt(ah),ih=ke({},Sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uh=mt(ih),ch=ke({},Sr,{data:0}),Pu=mt(ch),dh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ph(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mh[e])?!!t[e]:!1}function Ci(){return ph}var hh=ke({},Ns,{key:function(e){if(e.key){var t=dh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ci,charCode:function(e){return e.type==="keypress"?sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xh=mt(hh),gh=ke({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tu=mt(gh),vh=ke({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ci}),yh=mt(vh),wh=ke({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bh=mt(wh),jh=ke({},Wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nh=mt(jh),Sh=[9,13,27,32],Pi=Ht&&"CompositionEvent"in window,Qr=null;Ht&&"documentMode"in document&&(Qr=document.documentMode);var kh=Ht&&"TextEvent"in window&&!Qr,Md=Ht&&(!Pi||Qr&&8<Qr&&11>=Qr),Lu=" ",Au=!1;function Fd(e,t){switch(e){case"keyup":return Sh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function Eh(e,t){switch(e){case"compositionend":return Bd(t);case"keypress":return t.which!==32?null:(Au=!0,Lu);case"textInput":return e=t.data,e===Lu&&Au?null:e;default:return null}}function Ch(e,t){if(Zn)return e==="compositionend"||!Pi&&Fd(e,t)?(e=Od(),rl=ki=un=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Md&&t.locale!=="ko"?null:t.data;default:return null}}var Ph={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ph[e.type]:t==="textarea"}function zd(e,t,n,r){yd(r),t=wl(t,"onChange"),0<t.length&&(n=new Ei("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yr=null,is=null;function Th(e){Xd(e,0)}function Hl(e){var t=tr(e);if(fd(t))return e}function Lh(e,t){if(e==="change")return t}var Gd=!1;if(Ht){var ja;if(Ht){var Na="oninput"in document;if(!Na){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Na=typeof $u.oninput=="function"}ja=Na}else ja=!1;Gd=ja&&(!document.documentMode||9<document.documentMode)}function Iu(){Yr&&(Yr.detachEvent("onpropertychange",Wd),is=Yr=null)}function Wd(e){if(e.propertyName==="value"&&Hl(is)){var t=[];zd(t,is,e,wi(e)),Nd(Th,t)}}function Ah(e,t,n){e==="focusin"?(Iu(),Yr=t,is=n,Yr.attachEvent("onpropertychange",Wd)):e==="focusout"&&Iu()}function Rh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hl(is)}function $h(e,t){if(e==="click")return Hl(t)}function Ih(e,t){if(e==="input"||e==="change")return Hl(t)}function Uh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Uh;function us(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!no.call(t,s)||!Et(e[s],t[s]))return!1}return!0}function Uu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Du(e,t){var n=Uu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uu(n)}}function Hd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vd(){for(var e=window,t=ml();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ml(e.document)}return t}function Ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Dh(e){var t=Vd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Hd(n.ownerDocument.documentElement,n)){if(r!==null&&Ti(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Du(n,a);var o=Du(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _h=Ht&&"documentMode"in document&&11>=document.documentMode,Xn=null,jo=null,Jr=null,No=!1;function _u(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;No||Xn==null||Xn!==ml(r)||(r=Xn,"selectionStart"in r&&Ti(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jr&&us(Jr,r)||(Jr=r,r=wl(jo,"onSelect"),0<r.length&&(t=new Ei("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Xn)))}function Os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var er={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionend:Os("Transition","TransitionEnd")},Sa={},Kd={};Ht&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function Vl(e){if(Sa[e])return Sa[e];if(!er[e])return e;var t=er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kd)return Sa[e]=t[n];return e}var qd=Vl("animationend"),Qd=Vl("animationiteration"),Yd=Vl("animationstart"),Jd=Vl("transitionend"),Zd=new Map,Ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){Zd.set(e,t),Vn(t,[e])}for(var ka=0;ka<Ou.length;ka++){var Ea=Ou[ka],Oh=Ea.toLowerCase(),Mh=Ea[0].toUpperCase()+Ea.slice(1);Sn(Oh,"on"+Mh)}Sn(qd,"onAnimationEnd");Sn(Qd,"onAnimationIteration");Sn(Yd,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(Jd,"onTransitionEnd");hr("onMouseEnter",["mouseout","mouseover"]);hr("onMouseLeave",["mouseout","mouseover"]);hr("onPointerEnter",["pointerout","pointerover"]);hr("onPointerLeave",["pointerout","pointerover"]);Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wr));function Mu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Op(r,t,void 0,e),e.currentTarget=null}function Xd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var i=r[o],u=i.instance,f=i.currentTarget;if(i=i.listener,u!==a&&s.isPropagationStopped())break e;Mu(s,i,f),a=u}else for(o=0;o<r.length;o++){if(i=r[o],u=i.instance,f=i.currentTarget,i=i.listener,u!==a&&s.isPropagationStopped())break e;Mu(s,i,f),a=u}}}if(hl)throw e=vo,hl=!1,vo=null,e}function ve(e,t){var n=t[Po];n===void 0&&(n=t[Po]=new Set);var r=e+"__bubble";n.has(r)||(ef(t,e,2,!1),n.add(r))}function Ca(e,t,n){var r=0;t&&(r|=4),ef(n,e,r,t)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function cs(e){if(!e[Ms]){e[Ms]=!0,od.forEach(function(n){n!=="selectionchange"&&(Fh.has(n)||Ca(n,!1,e),Ca(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ms]||(t[Ms]=!0,Ca("selectionchange",!1,t))}}function ef(e,t,n,r){switch(_d(t)){case 1:var s=eh;break;case 4:s=th;break;default:s=Si}n=s.bind(null,t,n,e),s=void 0,!go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Pa(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var i=r.stateNode.containerInfo;if(i===s||i.nodeType===8&&i.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;i!==null;){if(o=$n(i),o===null)return;if(u=o.tag,u===5||u===6){r=a=o;continue e}i=i.parentNode}}r=r.return}Nd(function(){var f=a,p=wi(n),h=[];e:{var g=Zd.get(e);if(g!==void 0){var j=Ei,N=e;switch(e){case"keypress":if(sl(n)===0)break e;case"keydown":case"keyup":j=xh;break;case"focusin":N="focus",j=ba;break;case"focusout":N="blur",j=ba;break;case"beforeblur":case"afterblur":j=ba;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=yh;break;case qd:case Qd:case Yd:j=oh;break;case Jd:j=bh;break;case"scroll":j=nh;break;case"wheel":j=Nh;break;case"copy":case"cut":case"paste":j=uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Tu}var v=(t&4)!==0,S=!v&&e==="scroll",x=v?g!==null?g+"Capture":null:g;v=[];for(var d=f,m;d!==null;){m=d;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,x!==null&&(b=ss(d,x),b!=null&&v.push(ds(d,b,m)))),S)break;d=d.return}0<v.length&&(g=new j(g,N,null,n,p),h.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",g&&n!==ho&&(N=n.relatedTarget||n.fromElement)&&($n(N)||N[Vt]))break e;if((j||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,j?(N=n.relatedTarget||n.toElement,j=f,N=N?$n(N):null,N!==null&&(S=Kn(N),N!==S||N.tag!==5&&N.tag!==6)&&(N=null)):(j=null,N=f),j!==N)){if(v=Cu,b="onMouseLeave",x="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=Tu,b="onPointerLeave",x="onPointerEnter",d="pointer"),S=j==null?g:tr(j),m=N==null?g:tr(N),g=new v(b,d+"leave",j,n,p),g.target=S,g.relatedTarget=m,b=null,$n(p)===f&&(v=new v(x,d+"enter",N,n,p),v.target=m,v.relatedTarget=S,b=v),S=b,j&&N)t:{for(v=j,x=N,d=0,m=v;m;m=Qn(m))d++;for(m=0,b=x;b;b=Qn(b))m++;for(;0<d-m;)v=Qn(v),d--;for(;0<m-d;)x=Qn(x),m--;for(;d--;){if(v===x||x!==null&&v===x.alternate)break t;v=Qn(v),x=Qn(x)}v=null}else v=null;j!==null&&Fu(h,g,j,v,!1),N!==null&&S!==null&&Fu(h,S,N,v,!0)}}e:{if(g=f?tr(f):window,j=g.nodeName&&g.nodeName.toLowerCase(),j==="select"||j==="input"&&g.type==="file")var E=Lh;else if(Ru(g))if(Gd)E=Ih;else{E=Rh;var A=Ah}else(j=g.nodeName)&&j.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(E=$h);if(E&&(E=E(e,f))){zd(h,E,n,p);break e}A&&A(e,g,f),e==="focusout"&&(A=g._wrapperState)&&A.controlled&&g.type==="number"&&uo(g,"number",g.value)}switch(A=f?tr(f):window,e){case"focusin":(Ru(A)||A.contentEditable==="true")&&(Xn=A,jo=f,Jr=null);break;case"focusout":Jr=jo=Xn=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,_u(h,n,p);break;case"selectionchange":if(_h)break;case"keydown":case"keyup":_u(h,n,p)}var $;if(Pi)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Zn?Fd(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Md&&n.locale!=="ko"&&(Zn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Zn&&($=Od()):(un=p,ki="value"in un?un.value:un.textContent,Zn=!0)),A=wl(f,_),0<A.length&&(_=new Pu(_,e,null,n,p),h.push({event:_,listeners:A}),$?_.data=$:($=Bd(n),$!==null&&(_.data=$)))),($=kh?Eh(e,n):Ch(e,n))&&(f=wl(f,"onBeforeInput"),0<f.length&&(p=new Pu("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:f}),p.data=$))}Xd(h,t)})}function ds(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ss(e,n),a!=null&&r.unshift(ds(e,a,s)),a=ss(e,t),a!=null&&r.push(ds(e,a,s))),e=e.return}return r}function Qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fu(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var i=n,u=i.alternate,f=i.stateNode;if(u!==null&&u===r)break;i.tag===5&&f!==null&&(i=f,s?(u=ss(n,a),u!=null&&o.unshift(ds(n,u,i))):s||(u=ss(n,a),u!=null&&o.push(ds(n,u,i)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Bh=/\r\n?/g,zh=/\u0000|\uFFFD/g;function Bu(e){return(typeof e=="string"?e:""+e).replace(Bh,`
`).replace(zh,"")}function Fs(e,t,n){if(t=Bu(t),Bu(e)!==t&&n)throw Error(M(425))}function bl(){}var So=null,ko=null;function Eo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Co=typeof setTimeout=="function"?setTimeout:void 0,Gh=typeof clearTimeout=="function"?clearTimeout:void 0,zu=typeof Promise=="function"?Promise:void 0,Wh=typeof queueMicrotask=="function"?queueMicrotask:typeof zu<"u"?function(e){return zu.resolve(null).then(e).catch(Hh)}:Co;function Hh(e){setTimeout(function(){throw e})}function Ta(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),os(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);os(t)}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var kr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+kr,fs="__reactProps$"+kr,Vt="__reactContainer$"+kr,Po="__reactEvents$"+kr,Vh="__reactListeners$"+kr,Kh="__reactHandles$"+kr;function $n(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gu(e);e!==null;){if(n=e[Rt])return n;e=Gu(e)}return t}e=n,n=e.parentNode}return null}function Ss(e){return e=e[Rt]||e[Vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function Kl(e){return e[fs]||null}var To=[],nr=-1;function kn(e){return{current:e}}function ye(e){0>nr||(e.current=To[nr],To[nr]=null,nr--)}function he(e,t){nr++,To[nr]=e.current,e.current=t}var jn={},Ke=kn(jn),st=kn(!1),Bn=jn;function xr(e,t){var n=e.type.contextTypes;if(!n)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function jl(){ye(st),ye(Ke)}function Wu(e,t,n){if(Ke.current!==jn)throw Error(M(168));he(Ke,t),he(st,n)}function tf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(M(108,Ap(e)||"Unknown",s));return ke({},n,r)}function Nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,Bn=Ke.current,he(Ke,e),he(st,st.current),!0}function Hu(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=tf(e,t,Bn),r.__reactInternalMemoizedMergedChildContext=e,ye(st),ye(Ke),he(Ke,e)):ye(st),he(st,n)}var Ft=null,ql=!1,La=!1;function nf(e){Ft===null?Ft=[e]:Ft.push(e)}function qh(e){ql=!0,nf(e)}function En(){if(!La&&Ft!==null){La=!0;var e=0,t=ue;try{var n=Ft;for(ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ft=null,ql=!1}catch(s){throw Ft!==null&&(Ft=Ft.slice(e+1)),Cd(bi,En),s}finally{ue=t,La=!1}}return null}var rr=[],sr=0,Sl=null,kl=0,pt=[],ht=0,zn=null,Bt=1,zt="";function Ln(e,t){rr[sr++]=kl,rr[sr++]=Sl,Sl=e,kl=t}function rf(e,t,n){pt[ht++]=Bt,pt[ht++]=zt,pt[ht++]=zn,zn=e;var r=Bt;e=zt;var s=32-St(r)-1;r&=~(1<<s),n+=1;var a=32-St(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Bt=1<<32-St(t)+s|n<<s|r,zt=a+e}else Bt=1<<a|n<<s|r,zt=e}function Li(e){e.return!==null&&(Ln(e,1),rf(e,1,0))}function Ai(e){for(;e===Sl;)Sl=rr[--sr],rr[sr]=null,kl=rr[--sr],rr[sr]=null;for(;e===zn;)zn=pt[--ht],pt[ht]=null,zt=pt[--ht],pt[ht]=null,Bt=pt[--ht],pt[ht]=null}var ct=null,ut=null,be=!1,Nt=null;function sf(e,t){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,ut=hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zn!==null?{id:Bt,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,ut=null,!0):!1;default:return!1}}function Lo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ao(e){if(be){var t=ut;if(t){var n=t;if(!Vu(e,t)){if(Lo(e))throw Error(M(418));t=hn(n.nextSibling);var r=ct;t&&Vu(e,t)?sf(r,n):(e.flags=e.flags&-4097|2,be=!1,ct=e)}}else{if(Lo(e))throw Error(M(418));e.flags=e.flags&-4097|2,be=!1,ct=e}}}function Ku(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Bs(e){if(e!==ct)return!1;if(!be)return Ku(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Eo(e.type,e.memoizedProps)),t&&(t=ut)){if(Lo(e))throw lf(),Error(M(418));for(;t;)sf(e,t),t=hn(t.nextSibling)}if(Ku(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ut=hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=ct?hn(e.stateNode.nextSibling):null;return!0}function lf(){for(var e=ut;e;)e=hn(e.nextSibling)}function gr(){ut=ct=null,be=!1}function Ri(e){Nt===null?Nt=[e]:Nt.push(e)}var Qh=Yt.ReactCurrentBatchConfig;function Dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var i=s.refs;o===null?delete i[a]:i[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function zs(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qu(e){var t=e._init;return t(e._payload)}function af(e){function t(x,d){if(e){var m=x.deletions;m===null?(x.deletions=[d],x.flags|=16):m.push(d)}}function n(x,d){if(!e)return null;for(;d!==null;)t(x,d),d=d.sibling;return null}function r(x,d){for(x=new Map;d!==null;)d.key!==null?x.set(d.key,d):x.set(d.index,d),d=d.sibling;return x}function s(x,d){return x=yn(x,d),x.index=0,x.sibling=null,x}function a(x,d,m){return x.index=m,e?(m=x.alternate,m!==null?(m=m.index,m<d?(x.flags|=2,d):m):(x.flags|=2,d)):(x.flags|=1048576,d)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function i(x,d,m,b){return d===null||d.tag!==6?(d=_a(m,x.mode,b),d.return=x,d):(d=s(d,m),d.return=x,d)}function u(x,d,m,b){var E=m.type;return E===Jn?p(x,d,m.props.children,b,m.key):d!==null&&(d.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rn&&qu(E)===d.type)?(b=s(d,m.props),b.ref=Dr(x,d,m),b.return=x,b):(b=dl(m.type,m.key,m.props,null,x.mode,b),b.ref=Dr(x,d,m),b.return=x,b)}function f(x,d,m,b){return d===null||d.tag!==4||d.stateNode.containerInfo!==m.containerInfo||d.stateNode.implementation!==m.implementation?(d=Oa(m,x.mode,b),d.return=x,d):(d=s(d,m.children||[]),d.return=x,d)}function p(x,d,m,b,E){return d===null||d.tag!==7?(d=Mn(m,x.mode,b,E),d.return=x,d):(d=s(d,m),d.return=x,d)}function h(x,d,m){if(typeof d=="string"&&d!==""||typeof d=="number")return d=_a(""+d,x.mode,m),d.return=x,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case As:return m=dl(d.type,d.key,d.props,null,x.mode,m),m.ref=Dr(x,null,d),m.return=x,m;case Yn:return d=Oa(d,x.mode,m),d.return=x,d;case rn:var b=d._init;return h(x,b(d._payload),m)}if(zr(d)||Ar(d))return d=Mn(d,x.mode,m,null),d.return=x,d;zs(x,d)}return null}function g(x,d,m,b){var E=d!==null?d.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:i(x,d,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case As:return m.key===E?u(x,d,m,b):null;case Yn:return m.key===E?f(x,d,m,b):null;case rn:return E=m._init,g(x,d,E(m._payload),b)}if(zr(m)||Ar(m))return E!==null?null:p(x,d,m,b,null);zs(x,m)}return null}function j(x,d,m,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(m)||null,i(d,x,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case As:return x=x.get(b.key===null?m:b.key)||null,u(d,x,b,E);case Yn:return x=x.get(b.key===null?m:b.key)||null,f(d,x,b,E);case rn:var A=b._init;return j(x,d,m,A(b._payload),E)}if(zr(b)||Ar(b))return x=x.get(m)||null,p(d,x,b,E,null);zs(d,b)}return null}function N(x,d,m,b){for(var E=null,A=null,$=d,_=d=0,D=null;$!==null&&_<m.length;_++){$.index>_?(D=$,$=null):D=$.sibling;var U=g(x,$,m[_],b);if(U===null){$===null&&($=D);break}e&&$&&U.alternate===null&&t(x,$),d=a(U,d,_),A===null?E=U:A.sibling=U,A=U,$=D}if(_===m.length)return n(x,$),be&&Ln(x,_),E;if($===null){for(;_<m.length;_++)$=h(x,m[_],b),$!==null&&(d=a($,d,_),A===null?E=$:A.sibling=$,A=$);return be&&Ln(x,_),E}for($=r(x,$);_<m.length;_++)D=j($,x,_,m[_],b),D!==null&&(e&&D.alternate!==null&&$.delete(D.key===null?_:D.key),d=a(D,d,_),A===null?E=D:A.sibling=D,A=D);return e&&$.forEach(function(B){return t(x,B)}),be&&Ln(x,_),E}function v(x,d,m,b){var E=Ar(m);if(typeof E!="function")throw Error(M(150));if(m=E.call(m),m==null)throw Error(M(151));for(var A=E=null,$=d,_=d=0,D=null,U=m.next();$!==null&&!U.done;_++,U=m.next()){$.index>_?(D=$,$=null):D=$.sibling;var B=g(x,$,U.value,b);if(B===null){$===null&&($=D);break}e&&$&&B.alternate===null&&t(x,$),d=a(B,d,_),A===null?E=B:A.sibling=B,A=B,$=D}if(U.done)return n(x,$),be&&Ln(x,_),E;if($===null){for(;!U.done;_++,U=m.next())U=h(x,U.value,b),U!==null&&(d=a(U,d,_),A===null?E=U:A.sibling=U,A=U);return be&&Ln(x,_),E}for($=r(x,$);!U.done;_++,U=m.next())U=j($,x,_,U.value,b),U!==null&&(e&&U.alternate!==null&&$.delete(U.key===null?_:U.key),d=a(U,d,_),A===null?E=U:A.sibling=U,A=U);return e&&$.forEach(function(J){return t(x,J)}),be&&Ln(x,_),E}function S(x,d,m,b){if(typeof m=="object"&&m!==null&&m.type===Jn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case As:e:{for(var E=m.key,A=d;A!==null;){if(A.key===E){if(E=m.type,E===Jn){if(A.tag===7){n(x,A.sibling),d=s(A,m.props.children),d.return=x,x=d;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===rn&&qu(E)===A.type){n(x,A.sibling),d=s(A,m.props),d.ref=Dr(x,A,m),d.return=x,x=d;break e}n(x,A);break}else t(x,A);A=A.sibling}m.type===Jn?(d=Mn(m.props.children,x.mode,b,m.key),d.return=x,x=d):(b=dl(m.type,m.key,m.props,null,x.mode,b),b.ref=Dr(x,d,m),b.return=x,x=b)}return o(x);case Yn:e:{for(A=m.key;d!==null;){if(d.key===A)if(d.tag===4&&d.stateNode.containerInfo===m.containerInfo&&d.stateNode.implementation===m.implementation){n(x,d.sibling),d=s(d,m.children||[]),d.return=x,x=d;break e}else{n(x,d);break}else t(x,d);d=d.sibling}d=Oa(m,x.mode,b),d.return=x,x=d}return o(x);case rn:return A=m._init,S(x,d,A(m._payload),b)}if(zr(m))return N(x,d,m,b);if(Ar(m))return v(x,d,m,b);zs(x,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,d!==null&&d.tag===6?(n(x,d.sibling),d=s(d,m),d.return=x,x=d):(n(x,d),d=_a(m,x.mode,b),d.return=x,x=d),o(x)):n(x,d)}return S}var vr=af(!0),of=af(!1),El=kn(null),Cl=null,lr=null,$i=null;function Ii(){$i=lr=Cl=null}function Ui(e){var t=El.current;ye(El),e._currentValue=t}function Ro(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fr(e,t){Cl=e,$i=lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rt=!0),e.firstContext=null)}function vt(e){var t=e._currentValue;if($i!==e)if(e={context:e,memoizedValue:t,next:null},lr===null){if(Cl===null)throw Error(M(308));lr=e,Cl.dependencies={lanes:0,firstContext:e}}else lr=lr.next=e;return t}var In=null;function Di(e){In===null?In=[e]:In.push(e)}function uf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Di(t)):(n.next=s.next,s.next=n),t.interleaved=n,Kt(e,r)}function Kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function _i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Kt(e,n)}return s=r.interleaved,s===null?(t.next=t,Di(r)):(t.next=s.next,s.next=t),r.interleaved=t,Kt(e,n)}function ll(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ji(e,n)}}function Qu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pl(e,t,n,r){var s=e.updateQueue;sn=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,i=s.shared.pending;if(i!==null){s.shared.pending=null;var u=i,f=u.next;u.next=null,o===null?a=f:o.next=f,o=u;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==o&&(i===null?p.firstBaseUpdate=f:i.next=f,p.lastBaseUpdate=u))}if(a!==null){var h=s.baseState;o=0,p=f=u=null,i=a;do{var g=i.lane,j=i.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:j,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var N=e,v=i;switch(g=t,j=n,v.tag){case 1:if(N=v.payload,typeof N=="function"){h=N.call(j,h,g);break e}h=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=v.payload,g=typeof N=="function"?N.call(j,h,g):N,g==null)break e;h=ke({},h,g);break e;case 2:sn=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[i]:g.push(i))}else j={eventTime:j,lane:g,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(f=p=j,u=h):p=p.next=j,o|=g;if(i=i.next,i===null){if(i=s.shared.pending,i===null)break;g=i,i=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(p===null&&(u=h),s.baseState=u,s.firstBaseUpdate=f,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Wn|=o,e.lanes=o,e.memoizedState=h}}function Yu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var ks={},It=kn(ks),ms=kn(ks),ps=kn(ks);function Un(e){if(e===ks)throw Error(M(174));return e}function Oi(e,t){switch(he(ps,t),he(ms,e),he(It,ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fo(t,e)}ye(It),he(It,t)}function yr(){ye(It),ye(ms),ye(ps)}function df(e){Un(ps.current);var t=Un(It.current),n=fo(t,e.type);t!==n&&(he(ms,e),he(It,n))}function Mi(e){ms.current===e&&(ye(It),ye(ms))}var Ne=kn(0);function Tl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Aa=[];function Fi(){for(var e=0;e<Aa.length;e++)Aa[e]._workInProgressVersionPrimary=null;Aa.length=0}var al=Yt.ReactCurrentDispatcher,Ra=Yt.ReactCurrentBatchConfig,Gn=0,Se=null,Re=null,_e=null,Ll=!1,Zr=!1,hs=0,Yh=0;function Ge(){throw Error(M(321))}function Bi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function zi(e,t,n,r,s,a){if(Gn=a,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=e===null||e.memoizedState===null?e0:t0,e=n(r,s),Zr){a=0;do{if(Zr=!1,hs=0,25<=a)throw Error(M(301));a+=1,_e=Re=null,t.updateQueue=null,al.current=n0,e=n(r,s)}while(Zr)}if(al.current=Al,t=Re!==null&&Re.next!==null,Gn=0,_e=Re=Se=null,Ll=!1,t)throw Error(M(300));return e}function Gi(){var e=hs!==0;return hs=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Se.memoizedState=_e=e:_e=_e.next=e,_e}function yt(){if(Re===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=_e===null?Se.memoizedState:_e.next;if(t!==null)_e=t,Re=e;else{if(e===null)throw Error(M(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},_e===null?Se.memoizedState=_e=e:_e=_e.next=e}return _e}function xs(e,t){return typeof t=="function"?t(e):t}function $a(e){var t=yt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Re,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var i=o=null,u=null,f=a;do{var p=f.lane;if((Gn&p)===p)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var h={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(i=u=h,o=r):u=u.next=h,Se.lanes|=p,Wn|=p}f=f.next}while(f!==null&&f!==a);u===null?o=r:u.next=i,Et(r,t.memoizedState)||(rt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,Se.lanes|=a,Wn|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ia(e){var t=yt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Et(a,t.memoizedState)||(rt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ff(){}function mf(e,t){var n=Se,r=yt(),s=t(),a=!Et(r.memoizedState,s);if(a&&(r.memoizedState=s,rt=!0),r=r.queue,Wi(xf.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,gs(9,hf.bind(null,n,r,s,t),void 0,null),Oe===null)throw Error(M(349));Gn&30||pf(n,t,s)}return s}function pf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hf(e,t,n,r){t.value=n,t.getSnapshot=r,gf(t)&&vf(e)}function xf(e,t,n){return n(function(){gf(t)&&vf(e)})}function gf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function vf(e){var t=Kt(e,1);t!==null&&kt(t,e,1,-1)}function Ju(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Xh.bind(null,Se,e),[t.memoizedState,e]}function gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yf(){return yt().memoizedState}function ol(e,t,n,r){var s=At();Se.flags|=e,s.memoizedState=gs(1|t,n,void 0,r===void 0?null:r)}function Ql(e,t,n,r){var s=yt();r=r===void 0?null:r;var a=void 0;if(Re!==null){var o=Re.memoizedState;if(a=o.destroy,r!==null&&Bi(r,o.deps)){s.memoizedState=gs(t,n,a,r);return}}Se.flags|=e,s.memoizedState=gs(1|t,n,a,r)}function Zu(e,t){return ol(8390656,8,e,t)}function Wi(e,t){return Ql(2048,8,e,t)}function wf(e,t){return Ql(4,2,e,t)}function bf(e,t){return Ql(4,4,e,t)}function jf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nf(e,t,n){return n=n!=null?n.concat([e]):null,Ql(4,4,jf.bind(null,t,e),n)}function Hi(){}function Sf(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kf(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Bi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ef(e,t,n){return Gn&21?(Et(n,t)||(n=Ld(),Se.lanes|=n,Wn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rt=!0),e.memoizedState=n)}function Jh(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var r=Ra.transition;Ra.transition={};try{e(!1),t()}finally{ue=n,Ra.transition=r}}function Cf(){return yt().memoizedState}function Zh(e,t,n){var r=vn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pf(e))Tf(t,n);else if(n=uf(e,t,n,r),n!==null){var s=Qe();kt(n,e,r,s),Lf(n,t,r)}}function Xh(e,t,n){var r=vn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pf(e))Tf(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,i=a(o,n);if(s.hasEagerState=!0,s.eagerState=i,Et(i,o)){var u=t.interleaved;u===null?(s.next=s,Di(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=uf(e,t,s,r),n!==null&&(s=Qe(),kt(n,e,r,s),Lf(n,t,r))}}function Pf(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function Tf(e,t){Zr=Ll=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Lf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ji(e,n)}}var Al={readContext:vt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},e0={readContext:vt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Zu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ol(4194308,4,jf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ol(4194308,4,e,t)},useInsertionEffect:function(e,t){return ol(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=At();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zh.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:Ju,useDebugValue:Hi,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=Ju(!1),t=e[0];return e=Jh.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,s=At();if(be){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),Oe===null)throw Error(M(349));Gn&30||pf(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Zu(xf.bind(null,r,a,e),[e]),r.flags|=2048,gs(9,hf.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=At(),t=Oe.identifierPrefix;if(be){var n=zt,r=Bt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t0={readContext:vt,useCallback:Sf,useContext:vt,useEffect:Wi,useImperativeHandle:Nf,useInsertionEffect:wf,useLayoutEffect:bf,useMemo:kf,useReducer:$a,useRef:yf,useState:function(){return $a(xs)},useDebugValue:Hi,useDeferredValue:function(e){var t=yt();return Ef(t,Re.memoizedState,e)},useTransition:function(){var e=$a(xs)[0],t=yt().memoizedState;return[e,t]},useMutableSource:ff,useSyncExternalStore:mf,useId:Cf,unstable_isNewReconciler:!1},n0={readContext:vt,useCallback:Sf,useContext:vt,useEffect:Wi,useImperativeHandle:Nf,useInsertionEffect:wf,useLayoutEffect:bf,useMemo:kf,useReducer:Ia,useRef:yf,useState:function(){return Ia(xs)},useDebugValue:Hi,useDeferredValue:function(e){var t=yt();return Re===null?t.memoizedState=e:Ef(t,Re.memoizedState,e)},useTransition:function(){var e=Ia(xs)[0],t=yt().memoizedState;return[e,t]},useMutableSource:ff,useSyncExternalStore:mf,useId:Cf,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $o(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yl={isMounted:function(e){return(e=e._reactInternals)?Kn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qe(),s=vn(e),a=Gt(r,s);a.payload=t,n!=null&&(a.callback=n),t=xn(e,a,s),t!==null&&(kt(t,e,s,r),ll(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qe(),s=vn(e),a=Gt(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=xn(e,a,s),t!==null&&(kt(t,e,s,r),ll(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qe(),r=vn(e),s=Gt(n,r);s.tag=2,t!=null&&(s.callback=t),t=xn(e,s,r),t!==null&&(kt(t,e,r,n),ll(t,e,r))}};function Xu(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!us(n,r)||!us(s,a):!0}function Af(e,t,n){var r=!1,s=jn,a=t.contextType;return typeof a=="object"&&a!==null?a=vt(a):(s=lt(t)?Bn:Ke.current,r=t.contextTypes,a=(r=r!=null)?xr(e,s):jn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ec(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yl.enqueueReplaceState(t,t.state,null)}function Io(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_i(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=vt(a):(a=lt(t)?Bn:Ke.current,s.context=xr(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($o(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yl.enqueueReplaceState(s,s.state,null),Pl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function wr(e,t){try{var n="",r=t;do n+=Lp(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ua(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var r0=typeof WeakMap=="function"?WeakMap:Map;function Rf(e,t,n){n=Gt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Ho=r),Uo(e,t)},n}function $f(e,t,n){n=Gt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Uo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Uo(e,t),typeof r!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function tc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new r0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=g0.bind(null,e,t,n),t.then(e,e))}function nc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gt(-1,1),t.tag=2,xn(n,t,1))),n.lanes|=1),e)}var s0=Yt.ReactCurrentOwner,rt=!1;function qe(e,t,n,r){t.child=e===null?of(t,null,n,r):vr(t,e.child,n,r)}function sc(e,t,n,r,s){n=n.render;var a=t.ref;return fr(t,s),r=zi(e,t,n,r,a,s),n=Gi(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qt(e,t,s)):(be&&n&&Li(t),t.flags|=1,qe(e,t,r,s),t.child)}function lc(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Xi(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,If(e,t,a,r,s)):(e=dl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:us,n(o,r)&&e.ref===t.ref)return qt(e,t,s)}return t.flags|=1,e=yn(a,r),e.ref=t.ref,e.return=t,t.child=e}function If(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(us(a,r)&&e.ref===t.ref)if(rt=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(rt=!0);else return t.lanes=e.lanes,qt(e,t,s)}return Do(e,t,n,r,s)}function Uf(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(or,it),it|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(or,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,he(or,it),it|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,he(or,it),it|=r;return qe(e,t,s,n),t.child}function Df(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Do(e,t,n,r,s){var a=lt(n)?Bn:Ke.current;return a=xr(t,a),fr(t,s),n=zi(e,t,n,r,a,s),r=Gi(),e!==null&&!rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qt(e,t,s)):(be&&r&&Li(t),t.flags|=1,qe(e,t,n,s),t.child)}function ac(e,t,n,r,s){if(lt(n)){var a=!0;Nl(t)}else a=!1;if(fr(t,s),t.stateNode===null)il(e,t),Af(t,n,r),Io(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var u=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=vt(f):(f=lt(n)?Bn:Ke.current,f=xr(t,f));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==r||u!==f)&&ec(t,o,r,f),sn=!1;var g=t.memoizedState;o.state=g,Pl(t,r,o,s),u=t.memoizedState,i!==r||g!==u||st.current||sn?(typeof p=="function"&&($o(t,n,p,r),u=t.memoizedState),(i=sn||Xu(t,n,i,r,g,u,f))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=f,r=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,cf(e,t),i=t.memoizedProps,f=t.type===t.elementType?i:bt(t.type,i),o.props=f,h=t.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=vt(u):(u=lt(n)?Bn:Ke.current,u=xr(t,u));var j=n.getDerivedStateFromProps;(p=typeof j=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==h||g!==u)&&ec(t,o,r,u),sn=!1,g=t.memoizedState,o.state=g,Pl(t,r,o,s);var N=t.memoizedState;i!==h||g!==N||st.current||sn?(typeof j=="function"&&($o(t,n,j,r),N=t.memoizedState),(f=sn||Xu(t,n,f,r,g,N,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),o.props=r,o.state=N,o.context=u,r=f):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return _o(e,t,n,r,a,s)}function _o(e,t,n,r,s,a){Df(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Hu(t,n,!1),qt(e,t,a);r=t.stateNode,s0.current=t;var i=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=vr(t,e.child,null,a),t.child=vr(t,null,i,a)):qe(e,t,i,a),t.memoizedState=r.state,s&&Hu(t,n,!0),t.child}function _f(e){var t=e.stateNode;t.pendingContext?Wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wu(e,t.context,!1),Oi(e,t.containerInfo)}function oc(e,t,n,r,s){return gr(),Ri(s),t.flags|=256,qe(e,t,n,r),t.child}var Oo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Of(e,t,n){var r=t.pendingProps,s=Ne.current,a=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(s&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),he(Ne,s&1),e===null)return Ao(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Xl(o,r,0,null),e=Mn(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Mo(n),t.memoizedState=Oo,e):Vi(t,o));if(s=e.memoizedState,s!==null&&(i=s.dehydrated,i!==null))return l0(e,t,o,r,i,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,i=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=yn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),i!==null?a=yn(i,a):(a=Mn(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Mo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Oo,r}return a=e.child,e=a.sibling,r=yn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vi(e,t){return t=Xl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gs(e,t,n,r){return r!==null&&Ri(r),vr(t,e.child,null,n),e=Vi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function l0(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Ua(Error(M(422))),Gs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Xl({mode:"visible",children:r.children},s,0,null),a=Mn(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&vr(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Oo,a);if(!(t.mode&1))return Gs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var i=r.dgst;return r=i,a=Error(M(419)),r=Ua(a,r,void 0),Gs(e,t,o,r)}if(i=(o&e.childLanes)!==0,rt||i){if(r=Oe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Kt(e,s),kt(r,e,s,-1))}return Zi(),r=Ua(Error(M(421))),Gs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=v0.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ut=hn(s.nextSibling),ct=t,be=!0,Nt=null,e!==null&&(pt[ht++]=Bt,pt[ht++]=zt,pt[ht++]=zn,Bt=e.id,zt=e.overflow,zn=t),t=Vi(t,r.children),t.flags|=4096,t)}function ic(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ro(e.return,t,n)}function Da(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Mf(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(qe(e,t,r.children,n),r=Ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ic(e,n,t);else if(e.tag===19)ic(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(Ne,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Tl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Da(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Tl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Da(t,!0,n,null,a);break;case"together":Da(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function il(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function a0(e,t,n){switch(t.tag){case 3:_f(t),gr();break;case 5:df(t);break;case 1:lt(t.type)&&Nl(t);break;case 4:Oi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;he(El,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(Ne,Ne.current&1),t.flags|=128,null):n&t.child.childLanes?Of(e,t,n):(he(Ne,Ne.current&1),e=qt(e,t,n),e!==null?e.sibling:null);he(Ne,Ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Mf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),he(Ne,Ne.current),r)break;return null;case 22:case 23:return t.lanes=0,Uf(e,t,n)}return qt(e,t,n)}var Ff,Fo,Bf,zf;Ff=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fo=function(){};Bf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Un(It.current);var a=null;switch(n){case"input":s=oo(e,s),r=oo(e,r),a=[];break;case"select":s=ke({},s,{value:void 0}),r=ke({},r,{value:void 0}),a=[];break;case"textarea":s=co(e,s),r=co(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bl)}mo(n,r);var o;n=null;for(f in s)if(!r.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var i=s[f];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ns.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in r){var u=r[f];if(i=s!=null?s[f]:void 0,r.hasOwnProperty(f)&&u!==i&&(u!=null||i!=null))if(f==="style")if(i){for(o in i)!i.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&i[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(a=a||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ns.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&ve("scroll",e),a||i===u||(a=[])):(a=a||[]).push(f,u))}n&&(a=a||[]).push("style",n);var f=a;(t.updateQueue=f)&&(t.flags|=4)}};zf=function(e,t,n,r){n!==r&&(t.flags|=4)};function _r(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function o0(e,t,n){var r=t.pendingProps;switch(Ai(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return lt(t.type)&&jl(),We(t),null;case 3:return r=t.stateNode,yr(),ye(st),ye(Ke),Fi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(qo(Nt),Nt=null))),Fo(e,t),We(t),null;case 5:Mi(t);var s=Un(ps.current);if(n=t.type,e!==null&&t.stateNode!=null)Bf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return We(t),null}if(e=Un(It.current),Bs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Rt]=t,r[fs]=a,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<Wr.length;s++)ve(Wr[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":gu(r,a),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ve("invalid",r);break;case"textarea":yu(r,a),ve("invalid",r)}mo(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var i=a[o];o==="children"?typeof i=="string"?r.textContent!==i&&(a.suppressHydrationWarning!==!0&&Fs(r.textContent,i,e),s=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&Fs(r.textContent,i,e),s=["children",""+i]):ns.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Rs(r),vu(r,a,!0);break;case"textarea":Rs(r),wu(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Rt]=t,e[fs]=r,Ff(e,t,!1,!1),t.stateNode=e;e:{switch(o=po(n,r),n){case"dialog":ve("cancel",e),ve("close",e),s=r;break;case"iframe":case"object":case"embed":ve("load",e),s=r;break;case"video":case"audio":for(s=0;s<Wr.length;s++)ve(Wr[s],e);s=r;break;case"source":ve("error",e),s=r;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=r;break;case"details":ve("toggle",e),s=r;break;case"input":gu(e,r),s=oo(e,r),ve("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ke({},r,{value:void 0}),ve("invalid",e);break;case"textarea":yu(e,r),s=co(e,r),ve("invalid",e);break;default:s=r}mo(n,s),i=s;for(a in i)if(i.hasOwnProperty(a)){var u=i[a];a==="style"?vd(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&xd(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&rs(e,u):typeof u=="number"&&rs(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ns.hasOwnProperty(a)?u!=null&&a==="onScroll"&&ve("scroll",e):u!=null&&xi(e,a,u,o))}switch(n){case"input":Rs(e),vu(e,r,!1);break;case"textarea":Rs(e),wu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+bn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ir(e,!!r.multiple,a,!1):r.defaultValue!=null&&ir(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)zf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=Un(ps.current),Un(It.current),Bs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(a=r.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:Fs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fs(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return We(t),null;case 13:if(ye(Ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&ut!==null&&t.mode&1&&!(t.flags&128))lf(),gr(),t.flags|=98560,a=!1;else if(a=Bs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(M(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(M(317));a[Rt]=t}else gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),a=!1}else Nt!==null&&(qo(Nt),Nt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?$e===0&&($e=3):Zi())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return yr(),Fo(e,t),e===null&&cs(t.stateNode.containerInfo),We(t),null;case 10:return Ui(t.type._context),We(t),null;case 17:return lt(t.type)&&jl(),We(t),null;case 19:if(ye(Ne),a=t.memoizedState,a===null)return We(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)_r(a,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Tl(e),o!==null){for(t.flags|=128,_r(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(Ne,Ne.current&1|2),t.child}e=e.sibling}a.tail!==null&&Pe()>br&&(t.flags|=128,r=!0,_r(a,!1),t.lanes=4194304)}else{if(!r)if(e=Tl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_r(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!be)return We(t),null}else 2*Pe()-a.renderingStartTime>br&&n!==1073741824&&(t.flags|=128,r=!0,_r(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Pe(),t.sibling=null,n=Ne.current,he(Ne,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return Ji(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function i0(e,t){switch(Ai(t),t.tag){case 1:return lt(t.type)&&jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(),ye(st),ye(Ke),Fi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mi(t),null;case 13:if(ye(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Ne),null;case 4:return yr(),null;case 10:return Ui(t.type._context),null;case 22:case 23:return Ji(),null;case 24:return null;default:return null}}var Ws=!1,He=!1,u0=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ar(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(e,t,r)}else n.current=null}function Bo(e,t,n){try{n()}catch(r){Ee(e,t,r)}}var uc=!1;function c0(e,t){if(So=vl,e=Vd(),Ti(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,i=-1,u=-1,f=0,p=0,h=e,g=null;t:for(;;){for(var j;h!==n||s!==0&&h.nodeType!==3||(i=o+s),h!==a||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(j=h.firstChild)!==null;)g=h,h=j;for(;;){if(h===e)break t;if(g===n&&++f===s&&(i=o),g===a&&++p===r&&(u=o),(j=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=j}n=i===-1||u===-1?null:{start:i,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ko={focusedElem:e,selectionRange:n},vl=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var v=N.memoizedProps,S=N.memoizedState,x=t.stateNode,d=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:bt(t.type,v),S);x.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(b){Ee(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return N=uc,uc=!1,N}function Xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Bo(t,n,a)}s=s.next}while(s!==r)}}function Jl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gf(e){var t=e.alternate;t!==null&&(e.alternate=null,Gf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[fs],delete t[Po],delete t[Vh],delete t[Kh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wf(e){return e.tag===5||e.tag===3||e.tag===4}function cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Go(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bl));else if(r!==4&&(e=e.child,e!==null))for(Go(e,t,n),e=e.sibling;e!==null;)Go(e,t,n),e=e.sibling}function Wo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wo(e,t,n),e=e.sibling;e!==null;)Wo(e,t,n),e=e.sibling}var Fe=null,jt=!1;function tn(e,t,n){for(n=n.child;n!==null;)Hf(e,t,n),n=n.sibling}function Hf(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Gl,n)}catch{}switch(n.tag){case 5:He||ar(n,t);case 6:var r=Fe,s=jt;Fe=null,tn(e,t,n),Fe=r,jt=s,Fe!==null&&(jt?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(jt?(e=Fe,n=n.stateNode,e.nodeType===8?Ta(e.parentNode,n):e.nodeType===1&&Ta(e,n),os(e)):Ta(Fe,n.stateNode));break;case 4:r=Fe,s=jt,Fe=n.stateNode.containerInfo,jt=!0,tn(e,t,n),Fe=r,jt=s;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Bo(n,t,o),s=s.next}while(s!==r)}tn(e,t,n);break;case 1:if(!He&&(ar(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){Ee(n,t,i)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,tn(e,t,n),He=r):tn(e,t,n);break;default:tn(e,t,n)}}function dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new u0),t.forEach(function(r){var s=y0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:Fe=i.stateNode,jt=!1;break e;case 3:Fe=i.stateNode.containerInfo,jt=!0;break e;case 4:Fe=i.stateNode.containerInfo,jt=!0;break e}i=i.return}if(Fe===null)throw Error(M(160));Hf(a,o,s),Fe=null,jt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(f){Ee(s,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vf(t,e),t=t.sibling}function Vf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Lt(e),r&4){try{Xr(3,e,e.return),Jl(3,e)}catch(v){Ee(e,e.return,v)}try{Xr(5,e,e.return)}catch(v){Ee(e,e.return,v)}}break;case 1:wt(t,e),Lt(e),r&512&&n!==null&&ar(n,n.return);break;case 5:if(wt(t,e),Lt(e),r&512&&n!==null&&ar(n,n.return),e.flags&32){var s=e.stateNode;try{rs(s,"")}catch(v){Ee(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&md(s,a),po(i,o);var f=po(i,a);for(o=0;o<u.length;o+=2){var p=u[o],h=u[o+1];p==="style"?vd(s,h):p==="dangerouslySetInnerHTML"?xd(s,h):p==="children"?rs(s,h):xi(s,p,h,f)}switch(i){case"input":io(s,a);break;case"textarea":pd(s,a);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var j=a.value;j!=null?ir(s,!!a.multiple,j,!1):g!==!!a.multiple&&(a.defaultValue!=null?ir(s,!!a.multiple,a.defaultValue,!0):ir(s,!!a.multiple,a.multiple?[]:"",!1))}s[fs]=a}catch(v){Ee(e,e.return,v)}}break;case 6:if(wt(t,e),Lt(e),r&4){if(e.stateNode===null)throw Error(M(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){Ee(e,e.return,v)}}break;case 3:if(wt(t,e),Lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{os(t.containerInfo)}catch(v){Ee(e,e.return,v)}break;case 4:wt(t,e),Lt(e);break;case 13:wt(t,e),Lt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Qi=Pe())),r&4&&dc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(He=(f=He)||p,wt(t,e),He=f):wt(t,e),Lt(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(Q=e,p=e.child;p!==null;){for(h=Q=p;Q!==null;){switch(g=Q,j=g.child,g.tag){case 0:case 11:case 14:case 15:Xr(4,g,g.return);break;case 1:ar(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(v){Ee(r,n,v)}}break;case 5:ar(g,g.return);break;case 22:if(g.memoizedState!==null){mc(h);continue}}j!==null?(j.return=g,Q=j):mc(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{s=h.stateNode,f?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=gd("display",o))}catch(v){Ee(e,e.return,v)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(v){Ee(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wt(t,e),Lt(e),r&4&&dc(e);break;case 21:break;default:wt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wf(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rs(s,""),r.flags&=-33);var a=cc(e);Wo(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,i=cc(e);Go(e,i,o);break;default:throw Error(M(161))}}catch(u){Ee(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function d0(e,t,n){Q=e,Kf(e)}function Kf(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var s=Q,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ws;if(!o){var i=s.alternate,u=i!==null&&i.memoizedState!==null||He;i=Ws;var f=He;if(Ws=o,(He=u)&&!f)for(Q=s;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?pc(s):u!==null?(u.return=o,Q=u):pc(s);for(;a!==null;)Q=a,Kf(a),a=a.sibling;Q=s,Ws=i,He=f}fc(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Q=a):fc(e)}}function fc(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||Jl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:bt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Yu(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yu(t,o,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&os(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}He||t.flags&512&&zo(t)}catch(g){Ee(t,t.return,g)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function mc(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function pc(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jl(4,t)}catch(u){Ee(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Ee(t,s,u)}}var a=t.return;try{zo(t)}catch(u){Ee(t,a,u)}break;case 5:var o=t.return;try{zo(t)}catch(u){Ee(t,o,u)}}}catch(u){Ee(t,t.return,u)}if(t===e){Q=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Q=i;break}Q=t.return}}var f0=Math.ceil,Rl=Yt.ReactCurrentDispatcher,Ki=Yt.ReactCurrentOwner,gt=Yt.ReactCurrentBatchConfig,ae=0,Oe=null,Le=null,Be=0,it=0,or=kn(0),$e=0,vs=null,Wn=0,Zl=0,qi=0,es=null,nt=null,Qi=0,br=1/0,Mt=null,$l=!1,Ho=null,gn=null,Hs=!1,cn=null,Il=0,ts=0,Vo=null,ul=-1,cl=0;function Qe(){return ae&6?Pe():ul!==-1?ul:ul=Pe()}function vn(e){return e.mode&1?ae&2&&Be!==0?Be&-Be:Qh.transition!==null?(cl===0&&(cl=Ld()),cl):(e=ue,e!==0||(e=window.event,e=e===void 0?16:_d(e.type)),e):1}function kt(e,t,n,r){if(50<ts)throw ts=0,Vo=null,Error(M(185));js(e,n,r),(!(ae&2)||e!==Oe)&&(e===Oe&&(!(ae&2)&&(Zl|=n),$e===4&&an(e,Be)),at(e,r),n===1&&ae===0&&!(t.mode&1)&&(br=Pe()+500,ql&&En()))}function at(e,t){var n=e.callbackNode;Qp(e,t);var r=gl(e,e===Oe?Be:0);if(r===0)n!==null&&Nu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Nu(n),t===1)e.tag===0?qh(hc.bind(null,e)):nf(hc.bind(null,e)),Wh(function(){!(ae&6)&&En()}),n=null;else{switch(Ad(r)){case 1:n=bi;break;case 4:n=Pd;break;case 16:n=xl;break;case 536870912:n=Td;break;default:n=xl}n=tm(n,qf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qf(e,t){if(ul=-1,cl=0,ae&6)throw Error(M(327));var n=e.callbackNode;if(mr()&&e.callbackNode!==n)return null;var r=gl(e,e===Oe?Be:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ul(e,r);else{t=r;var s=ae;ae|=2;var a=Yf();(Oe!==e||Be!==t)&&(Mt=null,br=Pe()+500,On(e,t));do try{h0();break}catch(i){Qf(e,i)}while(!0);Ii(),Rl.current=a,ae=s,Le!==null?t=0:(Oe=null,Be=0,t=$e)}if(t!==0){if(t===2&&(s=yo(e),s!==0&&(r=s,t=Ko(e,s))),t===1)throw n=vs,On(e,0),an(e,r),at(e,Pe()),n;if(t===6)an(e,r);else{if(s=e.current.alternate,!(r&30)&&!m0(s)&&(t=Ul(e,r),t===2&&(a=yo(e),a!==0&&(r=a,t=Ko(e,a))),t===1))throw n=vs,On(e,0),an(e,r),at(e,Pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:An(e,nt,Mt);break;case 3:if(an(e,r),(r&130023424)===r&&(t=Qi+500-Pe(),10<t)){if(gl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Qe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Co(An.bind(null,e,nt,Mt),t);break}An(e,nt,Mt);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-St(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*f0(r/1960))-r,10<r){e.timeoutHandle=Co(An.bind(null,e,nt,Mt),r);break}An(e,nt,Mt);break;case 5:An(e,nt,Mt);break;default:throw Error(M(329))}}}return at(e,Pe()),e.callbackNode===n?qf.bind(null,e):null}function Ko(e,t){var n=es;return e.current.memoizedState.isDehydrated&&(On(e,t).flags|=256),e=Ul(e,t),e!==2&&(t=nt,nt=n,t!==null&&qo(t)),e}function qo(e){nt===null?nt=e:nt.push.apply(nt,e)}function m0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Et(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~qi,t&=~Zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function hc(e){if(ae&6)throw Error(M(327));mr();var t=gl(e,0);if(!(t&1))return at(e,Pe()),null;var n=Ul(e,t);if(e.tag!==0&&n===2){var r=yo(e);r!==0&&(t=r,n=Ko(e,r))}if(n===1)throw n=vs,On(e,0),an(e,t),at(e,Pe()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,nt,Mt),at(e,Pe()),null}function Yi(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(br=Pe()+500,ql&&En())}}function Hn(e){cn!==null&&cn.tag===0&&!(ae&6)&&mr();var t=ae;ae|=1;var n=gt.transition,r=ue;try{if(gt.transition=null,ue=1,e)return e()}finally{ue=r,gt.transition=n,ae=t,!(ae&6)&&En()}}function Ji(){it=or.current,ye(or)}function On(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Gh(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Ai(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jl();break;case 3:yr(),ye(st),ye(Ke),Fi();break;case 5:Mi(r);break;case 4:yr();break;case 13:ye(Ne);break;case 19:ye(Ne);break;case 10:Ui(r.type._context);break;case 22:case 23:Ji()}n=n.return}if(Oe=e,Le=e=yn(e.current,null),Be=it=t,$e=0,vs=null,qi=Zl=Wn=0,nt=es=null,In!==null){for(t=0;t<In.length;t++)if(n=In[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}In=null}return e}function Qf(e,t){do{var n=Le;try{if(Ii(),al.current=Al,Ll){for(var r=Se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ll=!1}if(Gn=0,_e=Re=Se=null,Zr=!1,hs=0,Ki.current=null,n===null||n.return===null){$e=1,vs=t,Le=null;break}e:{var a=e,o=n.return,i=n,u=t;if(t=Be,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,p=i,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var j=nc(o);if(j!==null){j.flags&=-257,rc(j,o,i,a,t),j.mode&1&&tc(a,f,t),t=j,u=f;var N=t.updateQueue;if(N===null){var v=new Set;v.add(u),t.updateQueue=v}else N.add(u);break e}else{if(!(t&1)){tc(a,f,t),Zi();break e}u=Error(M(426))}}else if(be&&i.mode&1){var S=nc(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),rc(S,o,i,a,t),Ri(wr(u,i));break e}}a=u=wr(u,i),$e!==4&&($e=2),es===null?es=[a]:es.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Rf(a,u,t);Qu(a,x);break e;case 1:i=u;var d=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(gn===null||!gn.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=$f(a,i,t);Qu(a,b);break e}}a=a.return}while(a!==null)}Zf(n)}catch(E){t=E,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function Yf(){var e=Rl.current;return Rl.current=Al,e===null?Al:e}function Zi(){($e===0||$e===3||$e===2)&&($e=4),Oe===null||!(Wn&268435455)&&!(Zl&268435455)||an(Oe,Be)}function Ul(e,t){var n=ae;ae|=2;var r=Yf();(Oe!==e||Be!==t)&&(Mt=null,On(e,t));do try{p0();break}catch(s){Qf(e,s)}while(!0);if(Ii(),ae=n,Rl.current=r,Le!==null)throw Error(M(261));return Oe=null,Be=0,$e}function p0(){for(;Le!==null;)Jf(Le)}function h0(){for(;Le!==null&&!Fp();)Jf(Le)}function Jf(e){var t=em(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?Zf(e):Le=t,Ki.current=null}function Zf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=i0(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Le=null;return}}else if(n=o0(n,t,it),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);$e===0&&($e=5)}function An(e,t,n){var r=ue,s=gt.transition;try{gt.transition=null,ue=1,x0(e,t,n,r)}finally{gt.transition=s,ue=r}return null}function x0(e,t,n,r){do mr();while(cn!==null);if(ae&6)throw Error(M(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Yp(e,a),e===Oe&&(Le=Oe=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hs||(Hs=!0,tm(xl,function(){return mr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=gt.transition,gt.transition=null;var o=ue;ue=1;var i=ae;ae|=4,Ki.current=null,c0(e,n),Vf(n,e),Dh(ko),vl=!!So,ko=So=null,e.current=n,d0(n),Bp(),ae=i,ue=o,gt.transition=a}else e.current=n;if(Hs&&(Hs=!1,cn=e,Il=s),a=e.pendingLanes,a===0&&(gn=null),Wp(n.stateNode),at(e,Pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($l)throw $l=!1,e=Ho,Ho=null,e;return Il&1&&e.tag!==0&&mr(),a=e.pendingLanes,a&1?e===Vo?ts++:(ts=0,Vo=e):ts=0,En(),null}function mr(){if(cn!==null){var e=Ad(Il),t=gt.transition,n=ue;try{if(gt.transition=null,ue=16>e?16:e,cn===null)var r=!1;else{if(e=cn,cn=null,Il=0,ae&6)throw Error(M(331));var s=ae;for(ae|=4,Q=e.current;Q!==null;){var a=Q,o=a.child;if(Q.flags&16){var i=a.deletions;if(i!==null){for(var u=0;u<i.length;u++){var f=i[u];for(Q=f;Q!==null;){var p=Q;switch(p.tag){case 0:case 11:case 15:Xr(8,p,a)}var h=p.child;if(h!==null)h.return=p,Q=h;else for(;Q!==null;){p=Q;var g=p.sibling,j=p.return;if(Gf(p),p===f){Q=null;break}if(g!==null){g.return=j,Q=g;break}Q=j}}}var N=a.alternate;if(N!==null){var v=N.child;if(v!==null){N.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}Q=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Q=o;else e:for(;Q!==null;){if(a=Q,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xr(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Q=x;break e}Q=a.return}}var d=e.current;for(Q=d;Q!==null;){o=Q;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,Q=m;else e:for(o=d;Q!==null;){if(i=Q,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:Jl(9,i)}}catch(E){Ee(i,i.return,E)}if(i===o){Q=null;break e}var b=i.sibling;if(b!==null){b.return=i.return,Q=b;break e}Q=i.return}}if(ae=s,En(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Gl,e)}catch{}r=!0}return r}finally{ue=n,gt.transition=t}}return!1}function xc(e,t,n){t=wr(n,t),t=Rf(e,t,1),e=xn(e,t,1),t=Qe(),e!==null&&(js(e,1,t),at(e,t))}function Ee(e,t,n){if(e.tag===3)xc(e,e,n);else for(;t!==null;){if(t.tag===3){xc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gn===null||!gn.has(r))){e=wr(n,e),e=$f(t,e,1),t=xn(t,e,1),e=Qe(),t!==null&&(js(t,1,e),at(t,e));break}}t=t.return}}function g0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&n,Oe===e&&(Be&n)===n&&($e===4||$e===3&&(Be&130023424)===Be&&500>Pe()-Qi?On(e,0):qi|=n),at(e,t)}function Xf(e,t){t===0&&(e.mode&1?(t=Us,Us<<=1,!(Us&130023424)&&(Us=4194304)):t=1);var n=Qe();e=Kt(e,t),e!==null&&(js(e,t,n),at(e,n))}function v0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xf(e,n)}function y0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Xf(e,n)}var em;em=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rt=!1,a0(e,t,n);rt=!!(e.flags&131072)}else rt=!1,be&&t.flags&1048576&&rf(t,kl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;il(e,t),e=t.pendingProps;var s=xr(t,Ke.current);fr(t,n),s=zi(null,t,r,e,s,n);var a=Gi();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(r)?(a=!0,Nl(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_i(t),s.updater=Yl,t.stateNode=s,s._reactInternals=t,Io(t,r,e,n),t=_o(null,t,r,!0,a,n)):(t.tag=0,be&&a&&Li(t),qe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(il(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=b0(r),e=bt(r,e),s){case 0:t=Do(null,t,r,e,n);break e;case 1:t=ac(null,t,r,e,n);break e;case 11:t=sc(null,t,r,e,n);break e;case 14:t=lc(null,t,r,bt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bt(r,s),Do(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bt(r,s),ac(e,t,r,s,n);case 3:e:{if(_f(t),e===null)throw Error(M(387));r=t.pendingProps,a=t.memoizedState,s=a.element,cf(e,t),Pl(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=wr(Error(M(423)),t),t=oc(e,t,r,n,s);break e}else if(r!==s){s=wr(Error(M(424)),t),t=oc(e,t,r,n,s);break e}else for(ut=hn(t.stateNode.containerInfo.firstChild),ct=t,be=!0,Nt=null,n=of(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gr(),r===s){t=qt(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return df(t),e===null&&Ao(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Eo(r,s)?o=null:a!==null&&Eo(r,a)&&(t.flags|=32),Df(e,t),qe(e,t,o,n),t.child;case 6:return e===null&&Ao(t),null;case 13:return Of(e,t,n);case 4:return Oi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vr(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bt(r,s),sc(e,t,r,s,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,he(El,r._currentValue),r._currentValue=o,a!==null)if(Et(a.value,o)){if(a.children===s.children&&!st.current){t=qt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){o=a.child;for(var u=i.firstContext;u!==null;){if(u.context===r){if(a.tag===1){u=Gt(-1,n&-n),u.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?u.next=u:(u.next=p.next,p.next=u),f.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Ro(a.return,n,t),i.lanes|=n;break}u=u.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(M(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),Ro(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}qe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,fr(t,n),s=vt(s),r=r(s),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,s=bt(r,t.pendingProps),s=bt(r.type,s),lc(e,t,r,s,n);case 15:return If(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:bt(r,s),il(e,t),t.tag=1,lt(r)?(e=!0,Nl(t)):e=!1,fr(t,n),Af(t,r,s),Io(t,r,s,n),_o(null,t,r,!0,e,n);case 19:return Mf(e,t,n);case 22:return Uf(e,t,n)}throw Error(M(156,t.tag))};function tm(e,t){return Cd(e,t)}function w0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,n,r){return new w0(e,t,n,r)}function Xi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function b0(e){if(typeof e=="function")return Xi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vi)return 11;if(e===yi)return 14}return 2}function yn(e,t){var n=e.alternate;return n===null?(n=xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function dl(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")Xi(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jn:return Mn(n.children,s,a,t);case gi:o=8,s|=8;break;case ro:return e=xt(12,n,t,s|2),e.elementType=ro,e.lanes=a,e;case so:return e=xt(13,n,t,s),e.elementType=so,e.lanes=a,e;case lo:return e=xt(19,n,t,s),e.elementType=lo,e.lanes=a,e;case cd:return Xl(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case id:o=10;break e;case ud:o=9;break e;case vi:o=11;break e;case yi:o=14;break e;case rn:o=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=xt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Mn(e,t,n,r){return e=xt(7,e,r,t),e.lanes=n,e}function Xl(e,t,n,r){return e=xt(22,e,r,t),e.elementType=cd,e.lanes=n,e.stateNode={isHidden:!1},e}function _a(e,t,n){return e=xt(6,e,null,t),e.lanes=n,e}function Oa(e,t,n){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function eu(e,t,n,r,s,a,o,i,u){return e=new j0(e,t,n,i,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=xt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_i(a),e}function N0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function nm(e){if(!e)return jn;e=e._reactInternals;e:{if(Kn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(lt(n))return tf(e,n,t)}return t}function rm(e,t,n,r,s,a,o,i,u){return e=eu(n,r,!0,e,s,a,o,i,u),e.context=nm(null),n=e.current,r=Qe(),s=vn(n),a=Gt(r,s),a.callback=t??null,xn(n,a,s),e.current.lanes=s,js(e,s,r),at(e,r),e}function ea(e,t,n,r){var s=t.current,a=Qe(),o=vn(s);return n=nm(n),t.context===null?t.context=n:t.pendingContext=n,t=Gt(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=xn(s,t,o),e!==null&&(kt(e,s,o,a),ll(e,s,o)),o}function Dl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tu(e,t){gc(e,t),(e=e.alternate)&&gc(e,t)}function S0(){return null}var sm=typeof reportError=="function"?reportError:function(e){console.error(e)};function nu(e){this._internalRoot=e}ta.prototype.render=nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));ea(e,t,null,null)};ta.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hn(function(){ea(null,e,null,null)}),t[Vt]=null}};function ta(e){this._internalRoot=e}ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=Id();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ln.length&&t!==0&&t<ln[n].priority;n++);ln.splice(n,0,e),n===0&&Dd(e)}};function ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vc(){}function k0(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var f=Dl(o);a.call(f)}}var o=rm(t,r,e,0,null,!1,!1,"",vc);return e._reactRootContainer=o,e[Vt]=o.current,cs(e.nodeType===8?e.parentNode:e),Hn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var i=r;r=function(){var f=Dl(u);i.call(f)}}var u=eu(e,0,!1,null,null,!1,!1,"",vc);return e._reactRootContainer=u,e[Vt]=u.current,cs(e.nodeType===8?e.parentNode:e),Hn(function(){ea(t,u,n,r)}),u}function ra(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var i=s;s=function(){var u=Dl(o);i.call(u)}}ea(t,o,e,s)}else o=k0(n,t,e,s,r);return Dl(o)}Rd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gr(t.pendingLanes);n!==0&&(ji(t,n|1),at(t,Pe()),!(ae&6)&&(br=Pe()+500,En()))}break;case 13:Hn(function(){var r=Kt(e,1);if(r!==null){var s=Qe();kt(r,e,1,s)}}),tu(e,1)}};Ni=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var n=Qe();kt(t,e,134217728,n)}tu(e,134217728)}};$d=function(e){if(e.tag===13){var t=vn(e),n=Kt(e,t);if(n!==null){var r=Qe();kt(n,e,t,r)}tu(e,t)}};Id=function(){return ue};Ud=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};xo=function(e,t,n){switch(t){case"input":if(io(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Kl(r);if(!s)throw Error(M(90));fd(r),io(r,s)}}}break;case"textarea":pd(e,n);break;case"select":t=n.value,t!=null&&ir(e,!!n.multiple,t,!1)}};bd=Yi;jd=Hn;var E0={usingClientEntryPoint:!1,Events:[Ss,tr,Kl,yd,wd,Yi]},Or={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C0={bundleType:Or.bundleType,version:Or.version,rendererPackageName:Or.rendererPackageName,rendererConfig:Or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kd(e),e===null?null:e.stateNode},findFiberByHostInstance:Or.findFiberByHostInstance||S0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vs.isDisabled&&Vs.supportsFiber)try{Gl=Vs.inject(C0),$t=Vs}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E0;ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ru(t))throw Error(M(200));return N0(e,t,null,n)};ft.createRoot=function(e,t){if(!ru(e))throw Error(M(299));var n=!1,r="",s=sm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=eu(e,1,!1,null,null,n,!1,r,s),e[Vt]=t.current,cs(e.nodeType===8?e.parentNode:e),new nu(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=kd(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return Hn(e)};ft.hydrate=function(e,t,n){if(!na(t))throw Error(M(200));return ra(null,e,t,!0,n)};ft.hydrateRoot=function(e,t,n){if(!ru(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=sm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=rm(t,null,e,1,n??null,s,!1,a,o),e[Vt]=t.current,cs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ta(t)};ft.render=function(e,t,n){if(!na(t))throw Error(M(200));return ra(null,e,t,!1,n)};ft.unmountComponentAtNode=function(e){if(!na(e))throw Error(M(40));return e._reactRootContainer?(Hn(function(){ra(null,null,e,!1,function(){e._reactRootContainer=null,e[Vt]=null})}),!0):!1};ft.unstable_batchedUpdates=Yi;ft.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!na(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return ra(e,t,n,!1,r)};ft.version="18.3.1-next-f1338f8080-20240426";function lm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lm)}catch(e){console.error(e)}}lm(),sd.exports=ft;var am=sd.exports,yc=am;to.createRoot=yc.createRoot,to.hydrateRoot=yc.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ys.apply(this,arguments)}var dn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dn||(dn={}));const wc="popstate";function P0(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:o,hash:i}=r.location;return Qo("",{pathname:a,search:o,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_l(s)}return L0(t,n,null,e)}function Ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function su(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function T0(){return Math.random().toString(36).substr(2,8)}function bc(e,t){return{usr:e.state,key:e.key,idx:t}}function Qo(e,t,n,r){return n===void 0&&(n=null),ys({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Er(t):t,{state:n,key:t&&t.key||r||T0()})}function _l(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function L0(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,o=s.history,i=dn.Pop,u=null,f=p();f==null&&(f=0,o.replaceState(ys({},o.state,{idx:f}),""));function p(){return(o.state||{idx:null}).idx}function h(){i=dn.Pop;let S=p(),x=S==null?null:S-f;f=S,u&&u({action:i,location:v.location,delta:x})}function g(S,x){i=dn.Push;let d=Qo(v.location,S,x);f=p()+1;let m=bc(d,f),b=v.createHref(d);try{o.pushState(m,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(b)}a&&u&&u({action:i,location:v.location,delta:1})}function j(S,x){i=dn.Replace;let d=Qo(v.location,S,x);f=p();let m=bc(d,f),b=v.createHref(d);o.replaceState(m,"",b),a&&u&&u({action:i,location:v.location,delta:0})}function N(S){let x=s.location.origin!=="null"?s.location.origin:s.location.href,d=typeof S=="string"?S:_l(S);return d=d.replace(/ $/,"%20"),Ce(x,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,x)}let v={get action(){return i},get location(){return e(s,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(wc,h),u=S,()=>{s.removeEventListener(wc,h),u=null}},createHref(S){return t(s,S)},createURL:N,encodeLocation(S){let x=N(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:j,go(S){return o.go(S)}};return v}var jc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jc||(jc={}));function A0(e,t,n){return n===void 0&&(n="/"),R0(e,t,n)}function R0(e,t,n,r){let s=typeof t=="string"?Er(t):t,a=jr(s.pathname||"/",n);if(a==null)return null;let o=om(e);$0(o);let i=null;for(let u=0;i==null&&u<o.length;++u){let f=W0(a);i=z0(o[u],f)}return i}function om(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,o,i)=>{let u={relativePath:i===void 0?a.path||"":i,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};u.relativePath.startsWith("/")&&(Ce(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=wn([r,u.relativePath]),p=n.concat(u);a.children&&a.children.length>0&&(Ce(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),om(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:F0(f,a.index),routesMeta:p})};return e.forEach((a,o)=>{var i;if(a.path===""||!((i=a.path)!=null&&i.includes("?")))s(a,o);else for(let u of im(a.path))s(a,o,u)}),t}function im(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let o=im(r.join("/")),i=[];return i.push(...o.map(u=>u===""?a:[a,u].join("/"))),s&&i.push(...o),i.map(u=>e.startsWith("/")&&u===""?"/":u)}function $0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:B0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const I0=/^:[\w-]+$/,U0=3,D0=2,_0=1,O0=10,M0=-2,Nc=e=>e==="*";function F0(e,t){let n=e.split("/"),r=n.length;return n.some(Nc)&&(r+=M0),t&&(r+=D0),n.filter(s=>!Nc(s)).reduce((s,a)=>s+(I0.test(a)?U0:a===""?_0:O0),r)}function B0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function z0(e,t,n){let{routesMeta:r}=e,s={},a="/",o=[];for(let i=0;i<r.length;++i){let u=r[i],f=i===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",h=Yo({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),g=u.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:wn([a,h.pathname]),pathnameBase:Q0(wn([a,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(a=wn([a,h.pathnameBase]))}return o}function Yo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=G0(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:r.reduce((f,p,h)=>{let{paramName:g,isOptional:j}=p;if(g==="*"){let v=i[h]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const N=i[h];return j&&!N?f[g]=void 0:f[g]=(N||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:e}}function G0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),su(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,u)=>(r.push({paramName:i,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function W0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return su(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function jr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const H0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V0=e=>H0.test(e);function K0(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Er(e):e,a;if(n)if(V0(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),su(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=Sc(n.substring(1),"/"):a=Sc(n,t)}else a=t;return{pathname:a,search:Y0(r),hash:J0(s)}}function Sc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ma(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function um(e,t){let n=q0(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cm(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Er(e):(s=ys({},e),Ce(!s.pathname||!s.pathname.includes("?"),Ma("?","pathname","search",s)),Ce(!s.pathname||!s.pathname.includes("#"),Ma("#","pathname","hash",s)),Ce(!s.search||!s.search.includes("#"),Ma("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,i;if(o==null)i=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;s.pathname=g.join("/")}i=h>=0?t[h]:"/"}let u=K0(s,i),f=o&&o!=="/"&&o.endsWith("/"),p=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}const wn=e=>e.join("/").replace(/\/\/+/g,"/"),Q0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,J0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Z0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dm=["post","put","patch","delete"];new Set(dm);const X0=["get",...dm];new Set(X0);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ws(){return ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ws.apply(this,arguments)}const sa=c.createContext(null),fm=c.createContext(null),Cn=c.createContext(null),la=c.createContext(null),Pn=c.createContext({outlet:null,matches:[],isDataRoute:!1}),mm=c.createContext(null);function ex(e,t){let{relative:n}=t===void 0?{}:t;Es()||Ce(!1);let{basename:r,navigator:s}=c.useContext(Cn),{hash:a,pathname:o,search:i}=oa(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:wn([r,o])),s.createHref({pathname:u,search:i,hash:a})}function Es(){return c.useContext(la)!=null}function Cr(){return Es()||Ce(!1),c.useContext(la).location}function pm(e){c.useContext(Cn).static||c.useLayoutEffect(e)}function Ut(){let{isDataRoute:e}=c.useContext(Pn);return e?mx():tx()}function tx(){Es()||Ce(!1);let e=c.useContext(sa),{basename:t,future:n,navigator:r}=c.useContext(Cn),{matches:s}=c.useContext(Pn),{pathname:a}=Cr(),o=JSON.stringify(um(s,n.v7_relativeSplatPath)),i=c.useRef(!1);return pm(()=>{i.current=!0}),c.useCallback(function(f,p){if(p===void 0&&(p={}),!i.current)return;if(typeof f=="number"){r.go(f);return}let h=cm(f,JSON.parse(o),a,p.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:wn([t,h.pathname])),(p.replace?r.replace:r.push)(h,p.state,p)},[t,r,o,a,e])}function aa(){let{matches:e}=c.useContext(Pn),t=e[e.length-1];return t?t.params:{}}function oa(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=c.useContext(Cn),{matches:s}=c.useContext(Pn),{pathname:a}=Cr(),o=JSON.stringify(um(s,r.v7_relativeSplatPath));return c.useMemo(()=>cm(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function nx(e,t){return rx(e,t)}function rx(e,t,n,r){Es()||Ce(!1);let{navigator:s}=c.useContext(Cn),{matches:a}=c.useContext(Pn),o=a[a.length-1],i=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let f=Cr(),p;if(t){var h;let S=typeof t=="string"?Er(t):t;u==="/"||(h=S.pathname)!=null&&h.startsWith(u)||Ce(!1),p=S}else p=f;let g=p.pathname||"/",j=g;if(u!=="/"){let S=u.replace(/^\//,"").split("/");j="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let N=A0(e,{pathname:j}),v=ix(N&&N.map(S=>Object.assign({},S,{params:Object.assign({},i,S.params),pathname:wn([u,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:wn([u,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r);return t&&v?c.createElement(la.Provider,{value:{location:ws({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:dn.Pop}},v):v}function sx(){let e=fx(),t=Z0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return c.createElement(c.Fragment,null,c.createElement("h2",null,"Unexpected Application Error!"),c.createElement("h3",{style:{fontStyle:"italic"}},t),n?c.createElement("pre",{style:s},n):null,null)}const lx=c.createElement(sx,null);class ax extends c.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?c.createElement(Pn.Provider,{value:this.props.routeContext},c.createElement(mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ox(e){let{routeContext:t,match:n,children:r}=e,s=c.useContext(sa);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),c.createElement(Pn.Provider,{value:t},r)}function ix(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=(s=n)==null?void 0:s.errors;if(i!=null){let p=o.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);p>=0||Ce(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let h=o[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=p),h.route.id){let{loaderData:g,errors:j}=n,N=h.route.loader&&g[h.route.id]===void 0&&(!j||j[h.route.id]===void 0);if(h.route.lazy||N){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,h,g)=>{let j,N=!1,v=null,S=null;n&&(j=i&&h.route.id?i[h.route.id]:void 0,v=h.route.errorElement||lx,u&&(f<0&&g===0?(px("route-fallback"),N=!0,S=null):f===g&&(N=!0,S=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,g+1)),d=()=>{let m;return j?m=v:N?m=S:h.route.Component?m=c.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=p,c.createElement(ox,{match:h,routeContext:{outlet:p,matches:x,isDataRoute:n!=null},children:m})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?c.createElement(ax,{location:n.location,revalidation:n.revalidation,component:v,error:j,children:d(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):d()},null)}var hm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hm||{}),xm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xm||{});function ux(e){let t=c.useContext(sa);return t||Ce(!1),t}function cx(e){let t=c.useContext(fm);return t||Ce(!1),t}function dx(e){let t=c.useContext(Pn);return t||Ce(!1),t}function gm(e){let t=dx(),n=t.matches[t.matches.length-1];return n.route.id||Ce(!1),n.route.id}function fx(){var e;let t=c.useContext(mm),n=cx(),r=gm();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function mx(){let{router:e}=ux(hm.UseNavigateStable),t=gm(xm.UseNavigateStable),n=c.useRef(!1);return pm(()=>{n.current=!0}),c.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ws({fromRouteId:t},a)))},[e,t])}const kc={};function px(e,t,n){kc[e]||(kc[e]=!0)}function hx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function je(e){Ce(!1)}function xx(e){let{basename:t="/",children:n=null,location:r,navigationType:s=dn.Pop,navigator:a,static:o=!1,future:i}=e;Es()&&Ce(!1);let u=t.replace(/^\/*/,"/"),f=c.useMemo(()=>({basename:u,navigator:a,static:o,future:ws({v7_relativeSplatPath:!1},i)}),[u,i,a,o]);typeof r=="string"&&(r=Er(r));let{pathname:p="/",search:h="",hash:g="",state:j=null,key:N="default"}=r,v=c.useMemo(()=>{let S=jr(p,u);return S==null?null:{location:{pathname:S,search:h,hash:g,state:j,key:N},navigationType:s}},[u,p,h,g,j,N,s]);return v==null?null:c.createElement(Cn.Provider,{value:f},c.createElement(la.Provider,{children:n,value:v}))}function gx(e){let{children:t,location:n}=e;return nx(Jo(t),n)}new Promise(()=>{});function Jo(e,t){t===void 0&&(t=[]);let n=[];return c.Children.forEach(e,(r,s)=>{if(!c.isValidElement(r))return;let a=[...t,s];if(r.type===c.Fragment){n.push.apply(n,Jo(r.props.children,a));return}r.type!==je&&Ce(!1),!r.props.index||!r.props.children||Ce(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jo(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(this,arguments)}function vm(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function vx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yx(e,t){return e.button===0&&(!t||t==="_self")&&!vx(e)}function Zo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function wx(e,t){let n=Zo(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}const bx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Nx="6";try{window.__reactRouterVersion=Nx}catch{}const Sx=c.createContext({isTransitioning:!1}),kx="startTransition",Ec=pr[kx];function Ex(e){let{basename:t,children:n,future:r,window:s}=e,a=c.useRef();a.current==null&&(a.current=P0({window:s,v5Compat:!0}));let o=a.current,[i,u]=c.useState({action:o.action,location:o.location}),{v7_startTransition:f}=r||{},p=c.useCallback(h=>{f&&Ec?Ec(()=>u(h)):u(h)},[u,f]);return c.useLayoutEffect(()=>o.listen(p),[o,p]),c.useEffect(()=>hx(r),[r]),c.createElement(xx,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o,future:r})}const Cx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Px=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,re=c.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:o,state:i,target:u,to:f,preventScrollReset:p,viewTransition:h}=t,g=vm(t,bx),{basename:j}=c.useContext(Cn),N,v=!1;if(typeof f=="string"&&Px.test(f)&&(N=f,Cx))try{let m=new URL(window.location.href),b=f.startsWith("//")?new URL(m.protocol+f):new URL(f),E=jr(b.pathname,j);b.origin===m.origin&&E!=null?f=E+b.search+b.hash:v=!0}catch{}let S=ex(f,{relative:s}),x=Lx(f,{replace:o,state:i,target:u,preventScrollReset:p,relative:s,viewTransition:h});function d(m){r&&r(m),m.defaultPrevented||x(m)}return c.createElement("a",Ol({},g,{href:N||S,onClick:v||a?r:d,ref:n,target:u}))}),nn=c.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:o=!1,style:i,to:u,viewTransition:f,children:p}=t,h=vm(t,jx),g=oa(u,{relative:h.relative}),j=Cr(),N=c.useContext(fm),{navigator:v,basename:S}=c.useContext(Cn),x=N!=null&&Rx(g)&&f===!0,d=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,m=j.pathname,b=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;s||(m=m.toLowerCase(),b=b?b.toLowerCase():null,d=d.toLowerCase()),b&&S&&(b=jr(b,S)||b);const E=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let A=m===d||!o&&m.startsWith(d)&&m.charAt(E)==="/",$=b!=null&&(b===d||!o&&b.startsWith(d)&&b.charAt(d.length)==="/"),_={isActive:A,isPending:$,isTransitioning:x},D=A?r:void 0,U;typeof a=="function"?U=a(_):U=[a,A?"active":null,$?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(_):i;return c.createElement(re,Ol({},h,{"aria-current":D,className:U,ref:n,style:B,to:u,viewTransition:f}),typeof p=="function"?p(_):p)});var Xo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xo||(Xo={}));var Cc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cc||(Cc={}));function Tx(e){let t=c.useContext(sa);return t||Ce(!1),t}function Lx(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:i}=t===void 0?{}:t,u=Ut(),f=Cr(),p=oa(e,{relative:o});return c.useCallback(h=>{if(yx(h,n)){h.preventDefault();let g=r!==void 0?r:_l(f)===_l(p);u(e,{replace:g,state:s,preventScrollReset:a,relative:o,viewTransition:i})}},[f,u,p,r,s,n,e,a,o,i])}function Ax(e){let t=c.useRef(Zo(e)),n=c.useRef(!1),r=Cr(),s=c.useMemo(()=>wx(r.search,n.current?null:t.current),[r.search]),a=Ut(),o=c.useCallback((i,u)=>{const f=Zo(typeof i=="function"?i(s):i);n.current=!0,a("?"+f,u)},[a,s]);return[s,o]}function Rx(e,t){t===void 0&&(t={});let n=c.useContext(Sx);n==null&&Ce(!1);let{basename:r}=Tx(Xo.useViewTransitionState),s=oa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yo(s.pathname,o)!=null||Yo(s.pathname,a)!=null}function $x({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Ie=c.forwardRef($x);function Ix({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Ux=c.forwardRef(Ix);function Dx({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const _x=c.forwardRef(Dx);function Ox({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Pc=c.forwardRef(Ox);function Mx({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const Tc=c.forwardRef(Mx);function Fx({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const lu=c.forwardRef(Fx);function Bx({title:e,titleId:t,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const zx=c.forwardRef(Bx);var Gx=Object.defineProperty,Wx=(e,t,n)=>t in e?Gx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fa=(e,t,n)=>(Wx(e,typeof t!="symbol"?t+"":t,n),n);let Hx=class{constructor(){Fa(this,"current",this.detect()),Fa(this,"handoffState","pending"),Fa(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Wt=new Hx,Qt=(e,t)=>{Wt.isServer?c.useEffect(e,t):c.useLayoutEffect(e,t)};function ia(e){let t=c.useRef(e);return Qt(()=>{t.current=e},[e]),t}let Ve=function(e){let t=ia(e);return oe.useCallback((...n)=>t.current(...n),[t])};function ua(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function ca(){let e=[],t={addEventListener(n,r,s,a){return n.addEventListener(r,s,a),t.add(()=>n.removeEventListener(r,s,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return ua(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,s){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=ca();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let s of e.splice(r,1))s()}},dispose(){for(let n of e.splice(0))n()}};return t}function Vx(){let[e]=c.useState(ca);return c.useEffect(()=>()=>e.dispose(),[e]),e}function Kx(){let e=typeof document>"u";return"useSyncExternalStore"in pr?(t=>t.useSyncExternalStore)(pr)(()=>()=>{},()=>!1,()=>!e):!1}function da(){let e=Kx(),[t,n]=c.useState(Wt.isHandoffComplete);return t&&Wt.isHandoffComplete===!1&&n(!1),c.useEffect(()=>{t!==!0&&n(!0)},[t]),c.useEffect(()=>Wt.handoff(),[]),e?!1:t}var Lc;let Pr=(Lc=oe.useId)!=null?Lc:function(){let e=da(),[t,n]=oe.useState(e?()=>Wt.nextId():null);return Qt(()=>{t===null&&n(Wt.nextId())},[t]),t!=null?""+t:void 0};function Nn(e,t,...n){if(e in t){let s=t[e];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Nn),r}function ym(e){return Wt.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let ei=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Rn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Rn||{}),wm=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(wm||{}),qx=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(qx||{});function Qx(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ei)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var bm=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(bm||{});function Yx(e,t=0){var n;return e===((n=ym(e))==null?void 0:n.body)?!1:Nn(t,{0(){return e.matches(ei)},1(){let r=e;for(;r!==null;){if(r.matches(ei))return!0;r=r.parentElement}return!1}})}var Jx=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Jx||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Fn(e){e==null||e.focus({preventScroll:!0})}let Zx=["textarea","input"].join(",");function Xx(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Zx))!=null?n:!1}function eg(e,t=n=>n){return e.slice().sort((n,r)=>{let s=t(n),a=t(r);if(s===null||a===null)return 0;let o=s.compareDocumentPosition(a);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function fl(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?eg(e):e:Qx(e);s.length>0&&o.length>1&&(o=o.filter(j=>!s.includes(j))),r=r??a.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},p=0,h=o.length,g;do{if(p>=h||p+h<=0)return 0;let j=u+p;if(t&16)j=(j+h)%h;else{if(j<0)return 3;if(j>=h)return 1}g=o[j],g==null||g.focus(f),p+=i}while(g!==a.activeElement);return t&6&&Xx(g)&&g.select(),2}function jm(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function tg(){return/Android/gi.test(window.navigator.userAgent)}function ng(){return jm()||tg()}function Ks(e,t,n){let r=ia(t);c.useEffect(()=>{function s(a){r.current(a)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[e,n])}function Nm(e,t,n){let r=ia(t);c.useEffect(()=>{function s(a){r.current(a)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[e,n])}function rg(e,t,n=!0){let r=c.useRef(!1);c.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function s(o,i){if(!r.current||o.defaultPrevented)return;let u=i(o);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let f=function p(h){return typeof h=="function"?p(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e);for(let p of f){if(p===null)continue;let h=p instanceof HTMLElement?p:p.current;if(h!=null&&h.contains(u)||o.composed&&o.composedPath().includes(h))return}return!Yx(u,bm.Loose)&&u.tabIndex!==-1&&o.preventDefault(),t(o,u)}let a=c.useRef(null);Ks("pointerdown",o=>{var i,u;r.current&&(a.current=((u=(i=o.composedPath)==null?void 0:i.call(o))==null?void 0:u[0])||o.target)},!0),Ks("mousedown",o=>{var i,u;r.current&&(a.current=((u=(i=o.composedPath)==null?void 0:i.call(o))==null?void 0:u[0])||o.target)},!0),Ks("click",o=>{ng()||a.current&&(s(o,()=>a.current),a.current=null)},!0),Ks("touchend",o=>s(o,()=>o.target instanceof HTMLElement?o.target:null),!0),Nm("blur",o=>s(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Cs(...e){return c.useMemo(()=>ym(...e),[...e])}let Sm=Symbol();function sg(e,t=!0){return Object.assign(e,{[Sm]:t})}function Jt(...e){let t=c.useRef(e);c.useEffect(()=>{t.current=e},[e]);let n=Ve(r=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Sm]))?void 0:n}function au(e,t){let n=c.useRef([]),r=Ve(e);c.useEffect(()=>{let s=[...n.current];for(let[a,o]of t.entries())if(n.current[a]!==o){let i=r(t,s);return n.current=t,i}},[r,...t])}function Ac(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var ti=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ti||{}),lg=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(lg||{});function Dt({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:s,visible:a=!0,name:o,mergeRefs:i}){i=i??ag;let u=km(t,e);if(a)return qs(u,n,r,o,i);let f=s??0;if(f&2){let{static:p=!1,...h}=u;if(p)return qs(h,n,r,o,i)}if(f&1){let{unmount:p=!0,...h}=u;return Nn(p?0:1,{0(){return null},1(){return qs({...h,hidden:!0,style:{display:"none"}},n,r,o,i)}})}return qs(u,n,r,o,i)}function qs(e,t={},n,r,s){let{as:a=n,children:o,refName:i="ref",...u}=Ba(e,["unmount","static"]),f=e.ref!==void 0?{[i]:e.ref}:{},p=typeof o=="function"?o(t):o;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(t));let h={};if(t){let g=!1,j=[];for(let[N,v]of Object.entries(t))typeof v=="boolean"&&(g=!0),v===!0&&j.push(N);g&&(h["data-headlessui-state"]=j.join(" "))}if(a===c.Fragment&&Object.keys(Rc(u)).length>0){if(!c.isValidElement(p)||Array.isArray(p)&&p.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(u).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let g=p.props,j=typeof(g==null?void 0:g.className)=="function"?(...v)=>Ac(g==null?void 0:g.className(...v),u.className):Ac(g==null?void 0:g.className,u.className),N=j?{className:j}:{};return c.cloneElement(p,Object.assign({},km(p.props,Rc(Ba(u,["ref"]))),h,f,{ref:s(p.ref,f.ref)},N))}return c.createElement(a,Object.assign({},Ba(u,["ref"]),a!==c.Fragment&&f,a!==c.Fragment&&h),p)}function ag(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function km(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):t[s]=r[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](s,...a){let o=n[r];for(let i of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;i(s,...a)}}});return t}function _t(e){var t;return Object.assign(c.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Rc(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Ba(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let og="div";var Ml=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ml||{});function ig(e,t){var n;let{features:r=1,...s}=e,a={ref:t,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Dt({ourProps:a,theirProps:s,slot:{},defaultTag:og,name:"Hidden"})}let ni=_t(ig),Em=c.createContext(null);Em.displayName="OpenClosedContext";var Hr=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Hr||{});function ug(){return c.useContext(Em)}function cg(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let on=[];cg(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&on[0]!==t.target&&(on.unshift(t.target),on=on.filter(n=>n!=null&&n.isConnected),on.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function dg(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&fg(n)?!1:r}function fg(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var Cm=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Cm||{});function Pm(e,t,n,r){let s=ia(n);c.useEffect(()=>{e=e??window;function a(o){s.current(o)}return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a,r)},[e,t,r])}function Tm(){let e=c.useRef(!1);return Qt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Lm(e){let t=Ve(e),n=c.useRef(!1);c.useEffect(()=>(n.current=!1,()=>{n.current=!0,ua(()=>{n.current&&t()})}),[t])}var Vr=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Vr||{});function mg(){let e=c.useRef(0);return Nm("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Am(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let pg="div";var Rm=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Rm||{});function hg(e,t){let n=c.useRef(null),r=Jt(n,t),{initialFocus:s,containers:a,features:o=30,...i}=e;da()||(o=1);let u=Cs(n);vg({ownerDocument:u},!!(o&16));let f=yg({ownerDocument:u,container:n,initialFocus:s},!!(o&2));wg({ownerDocument:u,container:n,containers:a,previousActiveElement:f},!!(o&8));let p=mg(),h=Ve(v=>{let S=n.current;S&&(x=>x())(()=>{Nn(p.current,{[Vr.Forwards]:()=>{fl(S,Rn.First,{skipElements:[v.relatedTarget]})},[Vr.Backwards]:()=>{fl(S,Rn.Last,{skipElements:[v.relatedTarget]})}})})}),g=Vx(),j=c.useRef(!1),N={ref:r,onKeyDown(v){v.key=="Tab"&&(j.current=!0,g.requestAnimationFrame(()=>{j.current=!1}))},onBlur(v){let S=Am(a);n.current instanceof HTMLElement&&S.add(n.current);let x=v.relatedTarget;x instanceof HTMLElement&&x.dataset.headlessuiFocusGuard!=="true"&&($m(S,x)||(j.current?fl(n.current,Nn(p.current,{[Vr.Forwards]:()=>Rn.Next,[Vr.Backwards]:()=>Rn.Previous})|Rn.WrapAround,{relativeTo:v.target}):v.target instanceof HTMLElement&&Fn(v.target)))}};return oe.createElement(oe.Fragment,null,!!(o&4)&&oe.createElement(ni,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Ml.Focusable}),Dt({ourProps:N,theirProps:i,defaultTag:pg,name:"FocusTrap"}),!!(o&4)&&oe.createElement(ni,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Ml.Focusable}))}let xg=_t(hg),Mr=Object.assign(xg,{features:Rm});function gg(e=!0){let t=c.useRef(on.slice());return au(([n],[r])=>{r===!0&&n===!1&&ua(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=on.slice())},[e,on,t]),Ve(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function vg({ownerDocument:e},t){let n=gg(t);au(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Fn(n())},[t]),Lm(()=>{t&&Fn(n())})}function yg({ownerDocument:e,container:t,initialFocus:n},r){let s=c.useRef(null),a=Tm();return au(()=>{if(!r)return;let o=t.current;o&&ua(()=>{if(!a.current)return;let i=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===i){s.current=i;return}}else if(o.contains(i)){s.current=i;return}n!=null&&n.current?Fn(n.current):fl(o,Rn.First)===wm.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=e==null?void 0:e.activeElement})},[r]),s}function wg({ownerDocument:e,container:t,containers:n,previousActiveElement:r},s){let a=Tm();Pm(e==null?void 0:e.defaultView,"focus",o=>{if(!s||!a.current)return;let i=Am(n);t.current instanceof HTMLElement&&i.add(t.current);let u=r.current;if(!u)return;let f=o.target;f&&f instanceof HTMLElement?$m(i,f)?(r.current=f,Fn(f)):(o.preventDefault(),o.stopPropagation(),Fn(u)):Fn(r.current)},!0)}function $m(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let Im=c.createContext(!1);function bg(){return c.useContext(Im)}function ri(e){return oe.createElement(Im.Provider,{value:e.force},e.children)}function jg(e){let t=bg(),n=c.useContext(Um),r=Cs(e),[s,a]=c.useState(()=>{if(!t&&n!==null||Wt.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let i=r.createElement("div");return i.setAttribute("id","headlessui-portal-root"),r.body.appendChild(i)});return c.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),c.useEffect(()=>{t||n!==null&&a(n.current)},[n,a,t]),s}let Ng=c.Fragment;function Sg(e,t){let n=e,r=c.useRef(null),s=Jt(sg(p=>{r.current=p}),t),a=Cs(r),o=jg(r),[i]=c.useState(()=>{var p;return Wt.isServer?null:(p=a==null?void 0:a.createElement("div"))!=null?p:null}),u=c.useContext(si),f=da();return Qt(()=>{!o||!i||o.contains(i)||(i.setAttribute("data-headlessui-portal",""),o.appendChild(i))},[o,i]),Qt(()=>{if(i&&u)return u.register(i)},[u,i]),Lm(()=>{var p;!o||!i||(i instanceof Node&&o.contains(i)&&o.removeChild(i),o.childNodes.length<=0&&((p=o.parentElement)==null||p.removeChild(o)))}),f?!o||!i?null:am.createPortal(Dt({ourProps:{ref:s},theirProps:n,defaultTag:Ng,name:"Portal"}),i):null}let kg=c.Fragment,Um=c.createContext(null);function Eg(e,t){let{target:n,...r}=e,s={ref:Jt(t)};return oe.createElement(Um.Provider,{value:n},Dt({ourProps:s,theirProps:r,defaultTag:kg,name:"Popover.Group"}))}let si=c.createContext(null);function Cg(){let e=c.useContext(si),t=c.useRef([]),n=Ve(a=>(t.current.push(a),e&&e.register(a),()=>r(a))),r=Ve(a=>{let o=t.current.indexOf(a);o!==-1&&t.current.splice(o,1),e&&e.unregister(a)}),s=c.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,c.useMemo(()=>function({children:a}){return oe.createElement(si.Provider,{value:s},a)},[s])]}let Pg=_t(Sg),Tg=_t(Eg),li=Object.assign(Pg,{Group:Tg});function Lg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const Ag=typeof Object.is=="function"?Object.is:Lg,{useState:Rg,useEffect:$g,useLayoutEffect:Ig,useDebugValue:Ug}=pr;function Dg(e,t,n){const r=t(),[{inst:s},a]=Rg({inst:{value:r,getSnapshot:t}});return Ig(()=>{s.value=r,s.getSnapshot=t,za(s)&&a({inst:s})},[e,r,t]),$g(()=>(za(s)&&a({inst:s}),e(()=>{za(s)&&a({inst:s})})),[e]),Ug(r),r}function za(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!Ag(n,r)}catch{return!0}}function _g(e,t,n){return t()}const Og=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mg=!Og,Fg=Mg?_g:Dg,Bg="useSyncExternalStore"in pr?(e=>e.useSyncExternalStore)(pr):Fg;function zg(e){return Bg(e.subscribe,e.getSnapshot,e.getSnapshot)}function Gg(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...a){let o=t[s].call(n,...a);o&&(n=o,r.forEach(i=>i()))}}}function Wg(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,s=r.clientWidth-r.offsetWidth,a=e-s;n.style(r,"paddingRight",`${a}px`)}}}function Hg(){return jm()?{before({doc:e,d:t,meta:n}){function r(s){return n.containers.flatMap(a=>a()).some(a=>a.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=ca();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let a=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;t.addEventListener(e,"click",i=>{if(i.target instanceof HTMLElement)try{let u=i.target.closest("a");if(!u)return;let{hash:f}=new URL(u.href),p=e.querySelector(f);p&&!r(p)&&(o=p)}catch{}},!0),t.addEventListener(e,"touchstart",i=>{if(i.target instanceof HTMLElement)if(r(i.target)){let u=i.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;t.style(u,"overscrollBehavior","contain")}else t.style(i.target,"touchAction","none")}),t.addEventListener(e,"touchmove",i=>{if(i.target instanceof HTMLElement)if(r(i.target)){let u=i.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()},{passive:!1}),t.add(()=>{var i;let u=(i=window.scrollY)!=null?i:window.pageYOffset;a!==u&&window.scrollTo(0,a),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Vg(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Kg(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Dn=Gg(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:ca(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Kg(n)},s=[Hg(),Wg(),Vg()];s.forEach(({before:a})=>a==null?void 0:a(r)),s.forEach(({after:a})=>a==null?void 0:a(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Dn.subscribe(()=>{let e=Dn.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&Dn.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Dn.dispatch("TEARDOWN",n)}});function qg(e,t,n){let r=zg(Dn),s=e?r.get(e):void 0,a=s?s.count>0:!1;return Qt(()=>{if(!(!e||!t))return Dn.dispatch("PUSH",e,n),()=>Dn.dispatch("POP",e,n)},[t,e]),a}let Ga=new Map,Fr=new Map;function $c(e,t=!0){Qt(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function s(){var o;if(!r)return;let i=(o=Fr.get(r))!=null?o:1;if(i===1?Fr.delete(r):Fr.set(r,i-1),i!==1)return;let u=Ga.get(r);u&&(u["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",u["aria-hidden"]),r.inert=u.inert,Ga.delete(r))}let a=(n=Fr.get(r))!=null?n:0;return Fr.set(r,a+1),a!==0||(Ga.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),s},[e,t])}function Qg({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let s=c.useRef((r=n==null?void 0:n.current)!=null?r:null),a=Cs(s),o=Ve(()=>{var i,u,f;let p=[];for(let h of e)h!==null&&(h instanceof HTMLElement?p.push(h):"current"in h&&h.current instanceof HTMLElement&&p.push(h.current));if(t!=null&&t.current)for(let h of t.current)p.push(h);for(let h of(i=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?i:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(s.current)||h.contains((f=(u=s.current)==null?void 0:u.getRootNode())==null?void 0:f.host)||p.some(g=>h.contains(g))||p.push(h));return p});return{resolveContainers:o,contains:Ve(i=>o().some(u=>u.contains(i))),mainTreeNodeRef:s,MainTreeNode:c.useMemo(()=>function(){return n!=null?null:oe.createElement(ni,{features:Ml.Hidden,ref:s})},[s,n])}}let ou=c.createContext(()=>{});ou.displayName="StackContext";var ai=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(ai||{});function Yg(){return c.useContext(ou)}function Jg({children:e,onUpdate:t,type:n,element:r,enabled:s}){let a=Yg(),o=Ve((...i)=>{t==null||t(...i),a(...i)});return Qt(()=>{let i=s===void 0||s===!0;return i&&o(0,n,r),()=>{i&&o(1,n,r)}},[o,n,r,s]),oe.createElement(ou.Provider,{value:o},e)}let Dm=c.createContext(null);function _m(){let e=c.useContext(Dm);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,_m),t}return e}function Zg(){let[e,t]=c.useState([]);return[e.length>0?e.join(" "):void 0,c.useMemo(()=>function(n){let r=Ve(a=>(t(o=>[...o,a]),()=>t(o=>{let i=o.slice(),u=i.indexOf(a);return u!==-1&&i.splice(u,1),i}))),s=c.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return oe.createElement(Dm.Provider,{value:s},n.children)},[t])]}let Xg="p";function ev(e,t){let n=Pr(),{id:r=`headlessui-description-${n}`,...s}=e,a=_m(),o=Jt(t);Qt(()=>a.register(r),[r,a.register]);let i={ref:o,...a.props,id:r};return Dt({ourProps:i,theirProps:s,slot:a.slot||{},defaultTag:Xg,name:a.name||"Description"})}let tv=_t(ev),nv=Object.assign(tv,{});var rv=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(rv||{}),sv=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(sv||{});let lv={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Fl=c.createContext(null);Fl.displayName="DialogContext";function Ps(e){let t=c.useContext(Fl);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ps),n}return t}function av(e,t,n=()=>[document.body]){qg(e,t,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],n]}})}function ov(e,t){return Nn(t.type,lv,e,t)}let iv="div",uv=ti.RenderStrategy|ti.Static;function cv(e,t){let n=Pr(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:a,initialFocus:o,role:i="dialog",__demoMode:u=!1,...f}=e,[p,h]=c.useState(0),g=c.useRef(!1);i=function(){return i==="dialog"||i==="alertdialog"?i:(g.current||(g.current=!0,console.warn(`Invalid role [${i}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let j=ug();s===void 0&&j!==null&&(s=(j&Hr.Open)===Hr.Open);let N=c.useRef(null),v=Jt(N,t),S=Cs(N),x=e.hasOwnProperty("open")||j!==null,d=e.hasOwnProperty("onClose");if(!x&&!d)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!x)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!d)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof a!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a}`);let m=s?0:1,[b,E]=c.useReducer(ov,{titleId:null,descriptionId:null,panelRef:c.createRef()}),A=Ve(()=>a(!1)),$=Ve(G=>E({type:0,id:G})),_=da()?u?!1:m===0:!1,D=p>1,U=c.useContext(Fl)!==null,[B,J]=Cg(),ee={get current(){var G;return(G=b.panelRef.current)!=null?G:N.current}},{resolveContainers:q,mainTreeNodeRef:H,MainTreeNode:O}=Qg({portals:B,defaultContainers:[ee]}),P=D?"parent":"leaf",y=j!==null?(j&Hr.Closing)===Hr.Closing:!1,k=U||y?!1:_,w=c.useCallback(()=>{var G,Z;return(Z=Array.from((G=S==null?void 0:S.querySelectorAll("body > *"))!=null?G:[]).find(te=>te.id==="headlessui-portal-root"?!1:te.contains(H.current)&&te instanceof HTMLElement))!=null?Z:null},[H]);$c(w,k);let R=D?!0:_,T=c.useCallback(()=>{var G,Z;return(Z=Array.from((G=S==null?void 0:S.querySelectorAll("[data-headlessui-portal]"))!=null?G:[]).find(te=>te.contains(H.current)&&te instanceof HTMLElement))!=null?Z:null},[H]);$c(T,R),rg(q,G=>{G.preventDefault(),A()},!(!_||D));let W=!(D||m!==0);Pm(S==null?void 0:S.defaultView,"keydown",G=>{W&&(G.defaultPrevented||G.key===Cm.Escape&&(G.preventDefault(),G.stopPropagation(),A()))}),av(S,!(y||m!==0||U),q),c.useEffect(()=>{if(m!==0||!N.current)return;let G=new ResizeObserver(Z=>{for(let te of Z){let ce=te.target.getBoundingClientRect();ce.x===0&&ce.y===0&&ce.width===0&&ce.height===0&&A()}});return G.observe(N.current),()=>G.disconnect()},[m,N,A]);let[F,I]=Zg(),L=c.useMemo(()=>[{dialogState:m,close:A,setTitleId:$},b],[m,b,A,$]),V=c.useMemo(()=>({open:m===0}),[m]),ne={ref:v,id:r,role:i,"aria-modal":m===0?!0:void 0,"aria-labelledby":b.titleId,"aria-describedby":F};return oe.createElement(Jg,{type:"Dialog",enabled:m===0,element:N,onUpdate:Ve((G,Z)=>{Z==="Dialog"&&Nn(G,{[ai.Add]:()=>h(te=>te+1),[ai.Remove]:()=>h(te=>te-1)})})},oe.createElement(ri,{force:!0},oe.createElement(li,null,oe.createElement(Fl.Provider,{value:L},oe.createElement(li.Group,{target:N},oe.createElement(ri,{force:!1},oe.createElement(I,{slot:V,name:"Dialog.Description"},oe.createElement(Mr,{initialFocus:o,containers:q,features:_?Nn(P,{parent:Mr.features.RestoreFocus,leaf:Mr.features.All&~Mr.features.FocusLock}):Mr.features.None},oe.createElement(J,null,Dt({ourProps:ne,theirProps:f,slot:V,defaultTag:iv,features:uv,visible:m===0,name:"Dialog"}))))))))),oe.createElement(O,null))}let dv="div";function fv(e,t){let n=Pr(),{id:r=`headlessui-dialog-overlay-${n}`,...s}=e,[{dialogState:a,close:o}]=Ps("Dialog.Overlay"),i=Jt(t),u=Ve(p=>{if(p.target===p.currentTarget){if(dg(p.currentTarget))return p.preventDefault();p.preventDefault(),p.stopPropagation(),o()}}),f=c.useMemo(()=>({open:a===0}),[a]);return Dt({ourProps:{ref:i,id:r,"aria-hidden":!0,onClick:u},theirProps:s,slot:f,defaultTag:dv,name:"Dialog.Overlay"})}let mv="div";function pv(e,t){let n=Pr(),{id:r=`headlessui-dialog-backdrop-${n}`,...s}=e,[{dialogState:a},o]=Ps("Dialog.Backdrop"),i=Jt(t);c.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let u=c.useMemo(()=>({open:a===0}),[a]);return oe.createElement(ri,{force:!0},oe.createElement(li,null,Dt({ourProps:{ref:i,id:r,"aria-hidden":!0},theirProps:s,slot:u,defaultTag:mv,name:"Dialog.Backdrop"})))}let hv="div";function xv(e,t){let n=Pr(),{id:r=`headlessui-dialog-panel-${n}`,...s}=e,[{dialogState:a},o]=Ps("Dialog.Panel"),i=Jt(t,o.panelRef),u=c.useMemo(()=>({open:a===0}),[a]),f=Ve(p=>{p.stopPropagation()});return Dt({ourProps:{ref:i,id:r,onClick:f},theirProps:s,slot:u,defaultTag:hv,name:"Dialog.Panel"})}let gv="h2";function vv(e,t){let n=Pr(),{id:r=`headlessui-dialog-title-${n}`,...s}=e,[{dialogState:a,setTitleId:o}]=Ps("Dialog.Title"),i=Jt(t);c.useEffect(()=>(o(r),()=>o(null)),[r,o]);let u=c.useMemo(()=>({open:a===0}),[a]);return Dt({ourProps:{ref:i,id:r},theirProps:s,slot:u,defaultTag:gv,name:"Dialog.Title"})}let yv=_t(cv),wv=_t(pv),bv=_t(xv),jv=_t(fv),Nv=_t(vv),Wa=Object.assign(yv,{Backdrop:wv,Panel:bv,Overlay:jv,Title:Nv,Description:nv});const Om=c.createContext(void 0);function Sv(e){return e.includes("admin")?"superadmin":e.includes("manager")?"manager":e.includes("user")?"user":"guest"}function Ic(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const kv=({children:e})=>{const[t,n]=c.useState(null),[r,s]=c.useState(!0),a=oe.useCallback(async()=>{const u=Ic();if(!u){s(!1);return}try{const f=window;if(!f.auth||typeof f.auth.getAccessToken!="function"){s(!1);return}await new Promise(S=>{f.auth.isAuthenticated(x=>{if(!x){n(null),s(!1),S();return}S()})});const p=await new Promise(S=>{window.auth.getAccessToken(x=>S(x))});if(!p){n(null),s(!1);return}const h=await fetch(`${u}/me`,{headers:{Authorization:`Bearer ${p}`}});if(!h.ok){n(null),s(!1);return}const g=await h.json(),j=Array.isArray(g.groups)?g.groups.map(String):[],N=Sv(j),v=Array.isArray(g.customGroups)?g.customGroups.map(String):[];n({userId:String(g.userId||""),email:String(g.email||""),groups:j,role:N,customGroups:v})}catch{n(null)}finally{s(!1)}},[]);c.useEffect(()=>{a()},[a]);const o=oe.useCallback(async()=>{Ic()&&await a()},[a]),i=()=>{const u=window;u.auth&&typeof u.auth.signOut=="function"&&u.auth.signOut(),n(null)};return l.jsx(Om.Provider,{value:{user:t,isLoading:r,signOut:i,refreshAuth:o},children:e})};function Ue(){const e=c.useContext(Om);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function Ye(e,t){if(t==="guest")return!0;if(!e)return!1;const n=["guest","user","manager","superadmin"];return n.indexOf(e.role)>=n.indexOf(t)}function oi(e){return e!=null&&e.userId?e.role==="superadmin"?!0:(e.customGroups??[]).includes("Squash"):!1}function Bl(e){return e!=null&&e.userId?e.role==="superadmin"?!0:e.role!=="manager"?!1:(e.customGroups??[]).includes("Squash"):!1}const Mm=c.createContext(void 0);function Ev(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Cv=({children:e})=>{const[t,n]=c.useState(null);return c.useEffect(()=>{const r=Ev();if(!r)return;let s=!1;return(async()=>{try{const a=await fetch(`${r}/branding/logo`);if(!a.ok||!(a.headers.get("Content-Type")||"").includes("application/json"))return;const i=await a.json();if(s)return;i&&i.url&&n({url:String(i.url),alt:String(i.alt||"Funkedupshift")})}catch{}})(),()=>{s=!0}},[]),l.jsx(Mm.Provider,{value:{logo:t},children:e})};function Fm(){const e=c.useContext(Mm);if(!e)throw new Error("useBranding must be used within BrandingProvider");return e}const Pv=()=>l.jsxs("div",{className:"space-y-8",children:[l.jsxs("section",{className:"relative overflow-hidden rounded-2xl border border-slate-800 bg-gradient-to-br from-brand-orange/20 via-brand-navy/10 to-brand-teal/20 px-6 py-10",children:[l.jsxs("div",{className:"max-w-xl space-y-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.25em] text-slate-200",children:"Shared internet intelligence"}),l.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-50",children:"Discover, rate, and enrich the sites that matter."}),l.jsx("p",{className:"text-sm text-slate-100/80",children:"Funkedupshift is a living index of websites, media, and experiments  curated by admins, enriched by everyone."}),l.jsxs("div",{className:"flex flex-wrap gap-3 pt-2",children:[l.jsx(re,{to:"/websites",className:"inline-flex items-center rounded-full bg-slate-950/90 px-4 py-2 text-sm font-semibold text-slate-50 shadow-lg shadow-slate-950/40 hover:bg-slate-900",children:"Browse websites"}),l.jsx(re,{to:"/media",className:"inline-flex items-center rounded-full border border-slate-500/60 px-4 py-2 text-sm font-semibold text-slate-100 hover:border-slate-300/80",children:"Explore media"})]})]}),l.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 w-1/2 opacity-60",children:l.jsx("div",{className:"absolute -inset-24 bg-[radial-gradient(circle_at_top,_#f97316_0,_transparent_55%),radial-gradient(circle_at_bottom,_#06d6a0_0,_transparent_55%)]"})})]}),l.jsxs("section",{className:"grid gap-4 sm:grid-cols-3",children:[l.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.22em] text-slate-500 mb-2",children:"Everyone"}),l.jsx("p",{className:"text-sm text-slate-200",children:"Browse all sites and media without signing in. Ratings and metadata are public by design."})]}),l.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.22em] text-slate-500 mb-2",children:"Users"}),l.jsx("p",{className:"text-sm text-slate-200",children:"Sign in to rate sites, add notes, and personalize your view of the internet."})]}),l.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[l.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.22em] text-slate-500 mb-2",children:"Admins"}),l.jsx("p",{className:"text-sm text-slate-200",children:"Curate the corpus, manage categories and groups, and control branding from a single admin surface."})]})]})]});function Ha(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Va=10,Tv=()=>{const{user:e}=Ue(),[t,n]=c.useState([]),[r,s]=c.useState(""),[a,o]=c.useState([]),[i,u]=c.useState("and"),[f,p]=c.useState(!1),[h,g]=c.useState(""),[j,N]=c.useState("avgDesc"),[v,S]=c.useState(1),[x,d]=c.useState(!1),[m,b]=c.useState(null),E=!!e,A=c.useRef(null),[$,_]=c.useState([]);c.useEffect(()=>{const O=Ha();if(!O)return;let P=!1;return fetch(`${O}/categories`).then(y=>y.ok?y.json():Promise.reject(new Error("Failed to load categories"))).then(y=>{if(P)return;const k=(y.categories??[]).map(w=>({id:w.PK||w.id||"",name:w.name||w.PK||""}));k.sort((w,R)=>(w.name||"").localeCompare(R.name||"")),_(k)}).catch(()=>{}),()=>{P=!0}},[]);const D=c.useMemo(()=>{if(i==="or"&&$.length>0)return $;const O=new Map;t.forEach(y=>(y.categories||[]).forEach(k=>{k.id&&!O.has(k.id)&&O.set(k.id,k)}));const P=[...$];return O.forEach(y=>{P.some(k=>k.id===y.id)||P.push(y)}),P.sort((y,k)=>(y.name||"").localeCompare(k.name||"")),P},[$,i,t]),U=c.useMemo(()=>D.filter(O=>!a.includes(O.id)&&(!h.trim()||(O.name||"").toLowerCase().includes(h.toLowerCase()))),[D,a,h]),B=r.trim().length>0||a.length>0;c.useEffect(()=>{if(!B){n([]),S(1),d(!1),b(null);return}const O=Ha();if(!O){b("API URL not set. Deploy via CI or set window.API_BASE_URL in config.js.");return}let P=!1;async function y(){d(!0),b(null);try{const k=new URLSearchParams;k.set("limit","100"),r.trim()&&k.set("q",r.trim()),a.length>0&&(k.set("categoryIds",a.join(",")),k.set("categoryMode",i));const w=await fetch(`${O}/sites?${k.toString()}`);if(!w.ok){const T=await w.text();throw new Error(`HTTP ${w.status}: ${T}`)}const R=await w.json();if(P)return;n(R.sites??[]),S(1)}catch(k){P||b((k==null?void 0:k.message)??"Failed to load sites.")}finally{P||d(!1)}}return y(),()=>{P=!0}},[B,r,a,i]),c.useEffect(()=>{function O(P){A.current&&!A.current.contains(P.target)&&p(!1)}if(f)return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[f]);const J=c.useMemo(()=>{const O=[...t];return O.sort((P,y)=>{const k=(P.title||P.url||P.PK||"").toLowerCase(),w=(y.title||y.url||y.PK||"").toLowerCase(),R=typeof P.averageRating=="number"?P.averageRating:0,T=typeof y.averageRating=="number"?y.averageRating:0;return j==="avgDesc"?T!==R?T-R:k.localeCompare(w):j==="avgAsc"?R!==T?R-T:k.localeCompare(w):j==="alphaAsc"?k.localeCompare(w):j==="alphaDesc"?w.localeCompare(k):0}),O},[t,j]),ee=Math.max(1,Math.ceil(J.length/Va)),q=J.slice((v-1)*Va,v*Va),H=async(O,P)=>{const y=Ha();if(!y)return;const k=window;if(!k.auth||typeof k.auth.getAccessToken!="function")return;const w=await new Promise(R=>{k.auth.getAccessToken(T=>R(T))});w&&await fetch(`${y}/stars`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({siteId:O,rating:P})}).catch(()=>{})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Websites"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Browse curated sites, see ratings, and jump straight into the interesting corners of the internet."})]}),l.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4 space-y-4","aria-label":"Search and filter",children:[l.jsxs("form",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",onSubmit:O=>{O.preventDefault(),s(r.trim())},children:[l.jsx("input",{type:"text",value:r,onChange:O=>s(O.target.value),placeholder:"Search sites (title, URL, description)",className:"flex-1 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500",children:"Search"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4 sm:gap-6",children:[l.jsxs("div",{ref:A,className:"relative flex-shrink-0 min-w-0 max-w-sm",children:[l.jsx("label",{htmlFor:"website-category-filter",className:"block text-xs font-medium text-slate-400 mb-1",children:"Categories (filter by)"}),l.jsx("input",{id:"website-category-filter",type:"text",value:h,onChange:O=>g(O.target.value),onFocus:()=>p(!0),placeholder:"Search and select categories",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",autoComplete:"off"}),f&&l.jsx("div",{className:"absolute left-0 top-full z-10 mt-1 w-full max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",role:"listbox","aria-label":"Category options",children:U.length>0?U.map(O=>l.jsx("button",{type:"button",role:"option",onClick:()=>{o(P=>P.includes(O.id)?P:[...P,O.id]),g("")},className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:O.name},O.id)):l.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:D.length===0?"No categories yet.":"No matches or all selected."})}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:a.map(O=>{const P=D.find(y=>y.id===O);return l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(P==null?void 0:P.name)??O,l.jsx("button",{type:"button",onClick:()=>o(y=>y.filter(k=>k!==O)),className:"hover:text-red-400","aria-label":"Remove category filter",children:""})]},O)})}),a.length>0&&l.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-slate-500",children:"Match:"}),l.jsxs("div",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 p-0.5",children:[l.jsx("button",{type:"button",onClick:()=>u("and"),className:`rounded px-2 py-0.5 text-xs font-medium ${i==="and"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"AND"}),l.jsx("button",{type:"button",onClick:()=>u("or"),className:`rounded px-2 py-0.5 text-xs font-medium ${i==="or"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"OR"})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-xs text-slate-400",children:[l.jsx("span",{className:"font-medium text-slate-200",children:"Sort:"}),l.jsxs("select",{value:j,onChange:O=>{N(O.target.value),S(1)},className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",children:[l.jsx("option",{value:"avgDesc",children:"Avg stars (high first)"}),l.jsx("option",{value:"avgAsc",children:"Avg stars (low first)"}),l.jsx("option",{value:"alphaAsc",children:"Title AZ"}),l.jsx("option",{value:"alphaDesc",children:"Title ZA"})]}),l.jsx("span",{className:"text-slate-500",children:B?J.length===0?"No sites found.":`${J.length} sites`:""})]})]})]}),m&&l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:m}),B?x?l.jsx("div",{className:"text-sm text-slate-400",children:"Loading sites"}):l.jsx("ul",{className:"space-y-2",children:q.map(O=>{const P=O.title||O.url||O.PK||"Untitled",y=O.logoUrl;return l.jsxs("li",{className:"flex gap-3 rounded-xl border border-slate-800 bg-slate-950/60 p-3",children:[l.jsx("div",{className:"h-12 w-12 flex-shrink-0 overflow-hidden rounded-lg border border-slate-700 bg-slate-900",children:y?l.jsx("img",{src:y,alt:"",className:"h-full w-full object-cover",onError:k=>{k.currentTarget.style.visibility="hidden"}}):null}),l.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h2",{className:"truncate text-sm font-semibold text-slate-50",children:l.jsx(re,{to:`/websites/${encodeURIComponent(O.PK)}`,className:"hover:text-brand-orange",children:P})}),typeof O.averageRating=="number"&&l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-900 px-2 py-0.5 text-[11px] text-amber-300",children:[O.averageRating.toFixed(1),""]})]}),O.url&&l.jsx("a",{href:O.url,target:"_blank",rel:"noopener noreferrer",className:"block truncate text-xs text-slate-400 hover:text-slate-200",children:O.url}),O.description&&l.jsxs("p",{className:"text-xs text-slate-300 line-clamp-3",children:[O.description,O.descriptionAiGenerated&&l.jsx("span",{className:"ml-1 text-[11px] uppercase tracking-wide text-slate-500",children:"AI summary"})]}),O.categories&&O.categories.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 pt-1",children:O.categories.map(k=>l.jsx("span",{className:"rounded-full bg-slate-900 px-2 py-0.5 text-[11px] text-slate-300",children:k.name},k.id))}),E&&l.jsx("div",{className:"pt-1",children:l.jsxs("label",{className:"inline-flex items-center gap-1 text-[11px] text-slate-400",children:[l.jsx("span",{children:"Rate:"}),l.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-1 py-0.5 text-[11px] text-slate-50",onChange:k=>{const w=Number(k.target.value);w>=1&&w<=5&&H(O.PK,w)},defaultValue:"",children:[l.jsx("option",{value:"",children:"--"}),l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"}),l.jsx("option",{value:"5",children:"5"})]})]})})]})]},O.PK)})}):l.jsx("div",{className:"flex items-center justify-center min-h-[280px]",children:l.jsx("p",{className:"text-2xl sm:text-3xl font-light text-slate-500/80 tracking-wide animate-pulse",children:"Enter search term or select categories"})}),B&&ee>1&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-center gap-2 text-xs",children:[l.jsx("button",{type:"button",disabled:v<=1,onClick:()=>S(O=>Math.max(1,O-1)),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 disabled:opacity-40",children:"Prev"}),l.jsxs("span",{className:"text-slate-500",children:["Page ",v," of ",ee]}),l.jsx("button",{type:"button",disabled:v>=ee,onClick:()=>S(O=>Math.min(ee,O+1)),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 disabled:opacity-40",children:"Next"})]})]})};function Ka(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Lv=()=>{var j,N;const{id:e}=aa(),{user:t}=Ue(),n=Ye(t??null,"manager"),[r,s]=c.useState(null),[a,o]=c.useState(null),[i,u]=c.useState(!0),[f,p]=c.useState(null);c.useEffect(()=>{const v=Ka();if(!v||!e){p(e?"API URL not set.":"Missing site id."),u(!1);return}let S=!1;async function x(){u(!0),p(null);try{const d=new URLSearchParams;d.set("id",decodeURIComponent(e));const m=await fetch(`${v}/sites?${d.toString()}`);if(m.status===404){S||s(null);return}if(!m.ok){const E=await m.text();throw new Error(`HTTP ${m.status}: ${E}`)}const b=await m.json();if(S)return;s(b.site??null)}catch(d){S||p((d==null?void 0:d.message)??"Failed to load site.")}finally{S||u(!1)}}return x(),()=>{S=!0}},[e]),c.useEffect(()=>{if(!t||!(r!=null&&r.PK))return;const v=Ka();if(!v)return;const S=window;if(!S.auth||typeof S.auth.getAccessToken!="function")return;let x=!1;return(async()=>{const d=await new Promise(b=>{S.auth.getAccessToken(E=>b(E))});if(!d||x)return;const m=await fetch(`${v}/stars?siteId=${encodeURIComponent(r.PK)}`,{headers:{Authorization:`Bearer ${d}`}});if(!x&&m.ok){const b=await m.json();o(typeof b.rating=="number"?b.rating:null)}})(),()=>{x=!0}},[t,r==null?void 0:r.PK]);const h=async(v,S)=>{const x=Ka();if(!x)return;const d=window;if(!d.auth||typeof d.auth.getAccessToken!="function")return;const m=await new Promise(b=>{d.auth.getAccessToken(E=>b(E))});m&&await fetch(`${x}/stars`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({siteId:v,rating:S})}).then(()=>o(S)).catch(()=>{})};if(i)return l.jsxs("div",{className:"space-y-4",children:[l.jsxs(re,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Websites"]}),l.jsx("div",{className:"text-sm text-slate-400",children:"Loading"})]});if(f||!r)return l.jsxs("div",{className:"space-y-4",children:[l.jsxs(re,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Websites"]}),l.jsx("div",{className:"rounded-md border border-slate-700 bg-slate-900/60 px-4 py-3 text-slate-200",children:f||"Site not found."})]});const g=r.title||r.url||r.PK||"Untitled";return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs(re,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Websites"]}),n&&r&&l.jsxs(re,{to:`/admin/sites/edit/${encodeURIComponent(r.PK)}`,className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(lu,{className:"h-4 w-4"}),"Edit site"]})]}),l.jsxs("article",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4 sm:p-6",children:[l.jsxs("header",{className:"flex flex-wrap gap-4",children:[l.jsx("div",{className:"h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border border-slate-700 bg-slate-900",children:r.logoUrl?l.jsx("img",{src:r.logoUrl,alt:"",className:"h-full w-full object-cover",onError:v=>{v.currentTarget.style.visibility="hidden"}}):null}),l.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[l.jsx("h1",{className:"text-xl font-semibold tracking-tight text-slate-50",children:g}),typeof r.averageRating=="number"&&l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-800 px-2 py-0.5 text-sm text-amber-300",children:[r.averageRating.toFixed(1)," average"]}),r.url&&l.jsx("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"block truncate text-sm text-slate-400 hover:text-slate-200",children:r.url})]})]}),r.description&&l.jsx("div",{className:"mt-4",children:l.jsxs("p",{className:"text-sm text-slate-300",children:[r.description,r.descriptionAiGenerated&&l.jsx("span",{className:"ml-1 text-xs uppercase tracking-wide text-slate-500",children:"AI summary"})]})}),(((j=r.categories)==null?void 0:j.length)??0)>0&&l.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:r.categories.map(v=>l.jsx("span",{className:"rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-300",children:v.name},v.id))}),(((N=r.tags)==null?void 0:N.length)??0)>0&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:r.tags.map(v=>l.jsx("span",{className:"rounded-full bg-slate-900 px-2 py-0.5 text-xs text-slate-400",children:v},v))}),t&&l.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[a!==null&&l.jsxs("span",{className:"text-xs text-slate-400",children:["Your rating: ",a,""]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-400",children:[l.jsx("span",{children:"Rate:"}),l.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-sm text-slate-50",value:a??"",onChange:v=>{const S=Number(v.target.value);S>=1&&S<=5&&h(r.PK,S)},children:[l.jsx("option",{value:"",children:"--"}),l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"}),l.jsx("option",{value:"5",children:"5"})]})]})]}),r.scrapedContent&&l.jsxs("section",{className:"mt-6 border-t border-slate-800 pt-4",children:[l.jsx("h2",{className:"text-sm font-medium text-slate-400",children:"About / Scraped content"}),l.jsx("div",{className:"mt-2 overflow-x-auto rounded-lg border border-slate-800 bg-slate-900/60 p-3",children:l.jsx("pre",{className:"whitespace-pre-wrap break-words font-sans text-sm text-slate-300",children:r.scrapedContent})})]})]})]})};function qa(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Qa=10,Av=()=>{const{user:e}=Ue(),[t,n]=c.useState([]),[r,s]=c.useState(""),[a,o]=c.useState([]),[i,u]=c.useState("and"),[f,p]=c.useState(!1),[h,g]=c.useState(""),[j,N]=c.useState("avgDesc"),[v,S]=c.useState(1),[x,d]=c.useState(!1),[m,b]=c.useState(null),E=!!e,A=Ye(e??null,"manager"),$=c.useRef(null),[_,D]=c.useState([]);c.useEffect(()=>{const P=qa();if(!P)return;let y=!1;return fetch(`${P}/media-categories`).then(k=>k.ok?k.json():Promise.reject(new Error("Failed to load categories"))).then(k=>{if(y)return;const w=(k.categories??[]).map(R=>({id:R.PK||R.id||"",name:R.name||R.PK||""}));w.sort((R,T)=>(R.name||"").localeCompare(T.name||"")),D(w)}).catch(()=>{}),()=>{y=!0}},[]);const U=c.useMemo(()=>{if(i==="or"&&_.length>0)return _;const P=new Map;t.forEach(k=>(k.categories||[]).forEach(w=>{w.id&&!P.has(w.id)&&P.set(w.id,w)}));const y=[..._];return P.forEach(k=>{y.some(w=>w.id===k.id)||y.push(k)}),y.sort((k,w)=>(k.name||"").localeCompare(w.name||"")),y},[_,i,t]),B=c.useMemo(()=>U.filter(P=>!a.includes(P.id)&&(!h.trim()||(P.name||"").toLowerCase().includes(h.toLowerCase()))),[U,a,h]),J=r.trim().length>0||a.length>0;c.useEffect(()=>{if(!J){n([]),S(1),d(!1),b(null);return}const P=qa();if(!P){b("API URL not set. Deploy via CI or set window.API_BASE_URL in config.js.");return}let y=!1;async function k(){d(!0),b(null);try{const w=new URLSearchParams;w.set("limit","100"),r.trim()&&w.set("q",r.trim()),a.length>0&&(w.set("categoryIds",a.join(",")),w.set("categoryMode",i));const R=await fetch(`${P}/media?${w.toString()}`);if(!R.ok){const z=await R.text();throw new Error(`HTTP ${R.status}: ${z}`)}const T=await R.json();if(y)return;n(T.media??[]),S(1)}catch(w){y||b((w==null?void 0:w.message)??"Failed to load media.")}finally{y||d(!1)}}return k(),()=>{y=!0}},[J,r,a,i]),c.useEffect(()=>{function P(y){$.current&&!$.current.contains(y.target)&&p(!1)}if(f)return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[f]);const ee=c.useMemo(()=>{const P=[...t];return P.sort((y,k)=>{const w=(y.title||y.PK||"").toLowerCase(),R=(k.title||k.PK||"").toLowerCase(),T=typeof y.averageRating=="number"?y.averageRating:0,z=typeof k.averageRating=="number"?k.averageRating:0;return j==="avgDesc"?z!==T?z-T:w.localeCompare(R):j==="avgAsc"?T!==z?T-z:w.localeCompare(R):j==="alphaAsc"?w.localeCompare(R):j==="alphaDesc"?R.localeCompare(w):0}),P},[t,j]),q=Math.max(1,Math.ceil(ee.length/Qa)),H=ee.slice((v-1)*Qa,v*Qa),O=async(P,y)=>{const k=qa();if(!k)return;const w=window;if(!w.auth||typeof w.auth.getAccessToken!="function")return;const R=await new Promise(T=>{w.auth.getAccessToken(z=>T(z))});R&&await fetch(`${k}/media/stars`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({mediaId:P,rating:y})}).catch(()=>{})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Media"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Images and videos attached to sites and experiments across Funkedupshift."})]}),l.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4 space-y-4","aria-label":"Search and filter",children:[l.jsxs("form",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",onSubmit:P=>{P.preventDefault(),s(r.trim())},children:[l.jsx("input",{type:"text",value:r,onChange:P=>s(P.target.value),placeholder:"Search media by title or description",className:"flex-1 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500",children:"Search"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4 sm:gap-6",children:[l.jsxs("div",{ref:$,className:"relative flex-shrink-0 min-w-0 max-w-sm",children:[l.jsx("label",{htmlFor:"media-category-filter",className:"block text-xs font-medium text-slate-400 mb-1",children:"Categories (filter by)"}),l.jsx("input",{id:"media-category-filter",type:"text",value:h,onChange:P=>g(P.target.value),onFocus:()=>p(!0),placeholder:"Search and select categories",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",autoComplete:"off"}),f&&l.jsx("div",{className:"absolute left-0 top-full z-10 mt-1 w-full max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",role:"listbox","aria-label":"Category options",children:B.length>0?B.map(P=>l.jsx("button",{type:"button",role:"option",onClick:()=>{o(y=>y.includes(P.id)?y:[...y,P.id]),g("")},className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:P.name},P.id)):l.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:U.length===0?"No categories yet.":"No matches or all selected."})}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:a.map(P=>{const y=U.find(k=>k.id===P);return l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(y==null?void 0:y.name)??P,l.jsx("button",{type:"button",onClick:()=>o(k=>k.filter(w=>w!==P)),className:"hover:text-red-400","aria-label":"Remove category filter",children:""})]},P)})}),a.length>0&&l.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-slate-500",children:"Match:"}),l.jsxs("div",{className:"inline-flex rounded-md border border-slate-700 bg-slate-950 p-0.5",children:[l.jsx("button",{type:"button",onClick:()=>u("and"),className:`rounded px-2 py-0.5 text-xs font-medium ${i==="and"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"AND"}),l.jsx("button",{type:"button",onClick:()=>u("or"),className:`rounded px-2 py-0.5 text-xs font-medium ${i==="or"?"bg-brand-orange text-slate-950":"text-slate-400 hover:text-slate-200"}`,children:"OR"})]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 items-center text-xs text-slate-400",children:[l.jsx("span",{className:"font-medium text-slate-200",children:"Sort:"}),l.jsxs("select",{value:j,onChange:P=>{N(P.target.value),S(1)},className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-xs text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",children:[l.jsx("option",{value:"avgDesc",children:"Avg stars (high first)"}),l.jsx("option",{value:"avgAsc",children:"Avg stars (low first)"}),l.jsx("option",{value:"alphaAsc",children:"Title AZ"}),l.jsx("option",{value:"alphaDesc",children:"Title ZA"})]}),l.jsx("span",{className:"text-slate-500",children:J?ee.length===0?"No media found.":`${ee.length} items`:""})]})]})]}),m&&l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:m}),J?x?l.jsx("div",{className:"text-sm text-slate-400",children:"Loading media"}):l.jsx("ul",{className:"space-y-3",children:H.map(P=>{const y=P.thumbnailUrl||(P.mediaType==="image"?P.mediaUrl:void 0),k=P.title||P.PK||"Untitled",w=P.mediaType==="video"?"Video":"Image",R=`/media/${encodeURIComponent(P.PK)}`;return l.jsxs("li",{className:"flex gap-3 rounded-xl border border-slate-800 bg-slate-950/60 p-3",children:[l.jsx(re,{to:R,className:"h-16 w-24 flex-shrink-0 overflow-hidden rounded-lg border border-slate-700 bg-slate-900 flex items-center justify-center text-xl hover:border-slate-600",children:y?l.jsx("img",{src:y,alt:"",className:"h-full w-full object-cover",onError:T=>{T.currentTarget.style.visibility="hidden"}}):l.jsx("span",{children:P.mediaType==="video"?"":""})}),l.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("h2",{className:"truncate text-sm font-semibold text-slate-50",children:l.jsx(re,{to:R,className:"hover:text-brand-orange",children:k})}),typeof P.averageRating=="number"&&l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-900 px-2 py-0.5 text-[11px] text-amber-300",children:[P.averageRating.toFixed(1),""]}),l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-900 px-2 py-0.5 text-[10px] uppercase tracking-wide text-slate-400",children:w})]}),P.description&&l.jsx("p",{className:"text-xs text-slate-300 line-clamp-3",children:P.description}),P.categories&&P.categories.length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 pt-1",children:P.categories.map(T=>l.jsx("span",{className:"rounded-full bg-slate-900 px-2 py-0.5 text-[11px] text-slate-300",children:T.name},T.id))}),A&&l.jsx("div",{className:"pt-1",children:l.jsxs(re,{to:`/admin/media/edit/${encodeURIComponent(P.PK)}`,className:"inline-flex items-center gap-1 text-[11px] text-slate-400 hover:text-slate-200",children:[l.jsx(lu,{className:"h-3.5 w-3.5"}),"Edit"]})}),E&&l.jsx("div",{className:"pt-1",children:l.jsxs("label",{className:"inline-flex items-center gap-1 text-[11px] text-slate-400",children:[l.jsx("span",{children:"Rate:"}),l.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-1 py-0.5 text-[11px] text-slate-50",onChange:T=>{const z=Number(T.target.value);z>=1&&z<=5&&O(P.PK,z)},defaultValue:"",children:[l.jsx("option",{value:"",children:"--"}),l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"}),l.jsx("option",{value:"5",children:"5"})]})]})})]})]},P.PK)})}):l.jsx("div",{className:"flex items-center justify-center min-h-[280px]",children:l.jsx("p",{className:"text-2xl sm:text-3xl font-light text-slate-500/80 tracking-wide animate-pulse",children:"Enter search term or select categories"})}),J&&q>1&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center justify-center gap-2 text-xs",children:[l.jsx("button",{type:"button",disabled:v<=1,onClick:()=>S(P=>Math.max(1,P-1)),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 disabled:opacity-40",children:"Prev"}),l.jsxs("span",{className:"text-slate-500",children:["Page ",v," of ",q]}),l.jsx("button",{type:"button",disabled:v>=q,onClick:()=>S(P=>Math.min(q,P+1)),className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 disabled:opacity-40",children:"Next"})]})]})};function Uc(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Rv=()=>{var v;const{id:e}=aa(),{user:t}=Ue(),[n,r]=c.useState(null),[s,a]=c.useState(null),[o,i]=c.useState(!0),[u,f]=c.useState(null),p=Ye(t??null,"manager"),h=e?decodeURIComponent(e):"";c.useEffect(()=>{const S=Uc();if(!S||!h){f(h?"API URL not set.":"Missing media id."),i(!1);return}let x=!1;async function d(){i(!0),f(null);try{const m=await fetch(`${S}/media?id=${encodeURIComponent(h)}`);if(m.status===404){x||r(null);return}if(!m.ok){const A=await m.text();throw new Error(`HTTP ${m.status}: ${A}`)}const b=await m.json();if(x)return;const E=Array.isArray(b.media)?b.media[0]:b.media;r(E??null)}catch(m){x||f((m==null?void 0:m.message)??"Failed to load media.")}finally{x||i(!1)}}return d(),()=>{x=!0}},[h]);const g=async S=>{var b;const x=Uc();if(!x||!n)return;const d=window;if(!((b=d.auth)!=null&&b.getAccessToken))return;const m=await new Promise(E=>d.auth.getAccessToken(E));m&&await fetch(`${x}/media/stars`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({mediaId:n.PK,rating:S})}).then(()=>a(S)).catch(()=>{})};if(o)return l.jsxs("div",{className:"space-y-4",children:[l.jsxs(re,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Media"]}),l.jsx("div",{className:"text-sm text-slate-400",children:"Loading"})]});if(u||!n)return l.jsxs("div",{className:"space-y-4",children:[l.jsxs(re,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Media"]}),l.jsx("div",{className:"rounded-md border border-slate-700 bg-slate-900/60 px-4 py-3 text-slate-200",children:u||"Media not found."})]});const j=n.title||n.PK||"Untitled",N=n.mediaType==="video";return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs(re,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Media"]}),p&&l.jsxs(re,{to:`/admin/media/edit/${encodeURIComponent(n.PK)}`,className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(lu,{className:"h-4 w-4"}),"Edit"]})]}),l.jsxs("article",{className:"rounded-xl border border-slate-800 bg-slate-950/60 overflow-hidden",children:[l.jsxs("header",{className:"p-4 sm:p-6 border-b border-slate-800",children:[l.jsx("h1",{className:"text-xl font-semibold tracking-tight text-slate-50",children:j}),l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[typeof n.averageRating=="number"&&l.jsxs("span",{className:"inline-flex items-center rounded-full bg-slate-800 px-2 py-0.5 text-sm text-amber-300",children:[n.averageRating.toFixed(1)," average"]}),l.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-800 px-2 py-0.5 text-xs uppercase tracking-wide text-slate-400",children:N?"Video":"Image"})]}),n.description&&l.jsx("p",{className:"mt-3 text-sm text-slate-300",children:n.description}),(((v=n.categories)==null?void 0:v.length)??0)>0&&l.jsx("div",{className:"mt-3 flex flex-wrap gap-1",children:n.categories.map(S=>l.jsx("span",{className:"rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-300",children:S.name},S.id))}),t&&l.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[s!==null&&l.jsxs("span",{className:"text-xs text-slate-400",children:["Your rating: ",s,""]}),l.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-slate-400",children:[l.jsx("span",{children:"Rate:"}),l.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-sm text-slate-50",value:s??"",onChange:S=>{const x=Number(S.target.value);x>=1&&x<=5&&g(x)},children:[l.jsx("option",{value:"",children:"--"}),l.jsx("option",{value:"1",children:"1"}),l.jsx("option",{value:"2",children:"2"}),l.jsx("option",{value:"3",children:"3"}),l.jsx("option",{value:"4",children:"4"}),l.jsx("option",{value:"5",children:"5"})]})]})]})]}),l.jsx("div",{className:"p-4 sm:p-6 bg-slate-900/40 flex justify-center items-center min-h-[200px]",children:n.mediaUrl?N?l.jsx("video",{src:n.mediaUrl,controls:!0,className:"max-w-full max-h-[70vh] rounded-lg border border-slate-700",playsInline:!0}):l.jsx("img",{src:n.mediaUrl,alt:j,className:"max-w-full max-h-[70vh] w-auto h-auto object-contain rounded-lg border border-slate-700"}):l.jsx("p",{className:"text-sm text-slate-500",children:"No media URL available."})})]})]})},Bm="funkedupshift_internet_dashboard",$v=5*60*1e3;function Iv(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function Uv(){try{const e=localStorage.getItem(Bm);if(!e)return null;const t=JSON.parse(e);return!(t!=null&&t.sites)||!(t!=null&&t.lastFetchTime)||Date.now()-new Date(t.lastFetchTime).getTime()>=$v?null:t.sites}catch{return null}}function Dv(e){try{localStorage.setItem(Bm,JSON.stringify({sites:e,lastFetchTime:new Date().toISOString()}))}catch{}}const _v=()=>{const[e,t]=c.useState([]),[n,r]=c.useState(!0),[s,a]=c.useState(null),o=c.useCallback(async()=>{const i=Iv(),u=Uv();if(u&&u.length>0){t(u),r(!1),a(null);return}if(!i){a("API URL not set."),r(!1);return}r(!0),a(null);try{const f=await fetch(`${i}/internet-dashboard`);if(!f.ok){const g=await f.text();throw new Error(g||`HTTP ${f.status}`)}const p=await f.json(),h=Array.isArray(p.sites)?p.sites:[];h.length>0?(Dv(h),t(h)):(a(u!=null&&u.length?void 0:"No data returned."),u!=null&&u.length&&t(u))}catch(f){const p=f instanceof Error?f.message:"Failed to load dashboard.";u&&u.length>0?(t(u),a(null)):(a(p),t([]))}finally{r(!1)}},[]);return c.useEffect(()=>{o()},[o]),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Internet dashboard"}),l.jsxs("div",{className:"rounded-xl border border-teal-800/60 bg-gradient-to-br from-teal-900/40 to-teal-950/60 p-4 shadow-lg",children:[l.jsx("p",{className:"text-sm font-medium text-teal-100",children:"Live status of popular sites"}),l.jsx("p",{className:"mt-1 text-xs text-teal-200/80",children:"Refreshes when data is older than 5 minutes"})]}),n&&l.jsx("p",{className:"text-sm text-slate-400",children:"Loading"}),s&&!e.length&&l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:s}),l.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(140px,1fr))] gap-3",children:e.map(i=>{const u=(i.status||"down").toLowerCase(),f=u==="up"?"border-emerald-500/50 bg-emerald-500/15 text-emerald-200":u==="degraded"?"border-amber-500/50 bg-amber-500/15 text-amber-200":"border-red-500/50 bg-red-500/15 text-red-200",p=i.responseTimeMs!=null?`${i.responseTimeMs} ms`:null;return l.jsxs("div",{className:`rounded-lg border p-3 text-center text-sm ${f}`,children:[l.jsx("div",{className:"font-semibold break-all",children:i.domain}),l.jsx("div",{className:"mt-1 text-xs capitalize opacity-90",children:u}),p&&l.jsx("div",{className:"mt-0.5 text-[11px] opacity-75",children:p})]},i.domain)})})]})};function Ov(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Mv=["image/png","image/jpeg","image/jpg","image/gif","image/webp"],Fv=()=>{const{user:e}=Ue(),{logo:t}=Fm(),[n,r]=c.useState(null),[s,a]=c.useState("Funkedupshift"),[o,i]=c.useState(null),[u,f]=c.useState(!1),[p,h]=c.useState(null),[g,j]=c.useState(null);if(!Ye(e??null,"superadmin"))return l.jsxs("div",{className:"space-y-3",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Branding"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Only superadmin users can manage global branding assets."})]});const v=x=>{var m;const d=(m=x.target.files)==null?void 0:m[0];r(d??null),h(null),j(null),o&&(URL.revokeObjectURL(o),i(null)),d&&i(URL.createObjectURL(d))},S=async x=>{if(x.preventDefault(),j(null),h(null),!n){j("Choose an image file first.");return}const d=n.type||"image/png";if(!Mv.includes(d)){j("Logo must be PNG, JPEG, GIF, or WEBP.");return}const m=Ov();if(!m){j("API URL not configured.");return}const b=window;if(!b.auth||typeof b.auth.getAccessToken!="function"){j("Auth not initialized.");return}f(!0);try{const E=await new Promise(D=>{b.auth.getAccessToken(U=>D(U))});if(!E)throw new Error("Missing access token.");const A=await fetch(`${m}/branding/logo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({contentType:d,alt:s})});if(!A.ok){const D=await A.text();throw new Error(D||`Metadata request failed with ${A.status}`)}const $=await A.json();if(!$.uploadUrl)throw new Error("uploadUrl missing from response.");const _=await fetch($.uploadUrl,{method:"PUT",headers:{"Content-Type":d},body:n});if(!_.ok)throw new Error(`Upload failed with ${_.status}`);h("Logo updated. It may take a moment for caches to refresh.")}catch(E){j((E==null?void 0:E.message)??"Failed to update logo.")}finally{f(!1)}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Branding"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Upload a new global logo for Funkedupshift. This logo is used in the navigation bar and other shared surfaces."})]}),l.jsxs("form",{className:"space-y-4 max-w-md",onSubmit:S,children:[l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsx("label",{className:"block text-slate-200",children:"Logo image"}),t&&!o&&l.jsxs("div",{className:"space-y-1 mb-3",children:[l.jsx("p",{className:"text-slate-200",children:"Current logo"}),l.jsx("div",{className:"inline-flex items-center rounded-lg border border-slate-800 bg-slate-950 p-2",children:l.jsx("img",{src:t.url,alt:t.alt,className:"h-12 w-auto rounded-md object-contain"})})]}),l.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",onChange:v,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-xs file:font-semibold file:text-slate-100 hover:file:bg-slate-700"}),l.jsx("p",{className:"text-xs text-slate-500",children:"PNG, JPEG, GIF, or WEBP. Recommended square or horizontal layout."})]}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsx("label",{className:"block text-slate-200",children:"Alt text"}),l.jsx("input",{type:"text",value:s,onChange:x=>a(x.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),o&&l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsx("p",{className:"text-slate-200",children:"Preview"}),l.jsxs("div",{className:"inline-flex items-center rounded-lg border border-slate-800 bg-slate-950 p-2",children:[l.jsx("img",{src:o,alt:"Preview",className:"h-12 w-auto rounded-md object-contain"}),l.jsx("span",{className:"ml-3 text-xs text-slate-400 truncate max-w-[12rem]",children:n==null?void 0:n.name})]})]}),l.jsx("button",{type:"submit",disabled:u||!n,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:u?"Updating":"Update logo"}),p&&l.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-200",children:p}),g&&l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:g})]})]})};function Ya(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Dc=100,Bv=5*1024*1024,zv=()=>{const e=Ut(),{user:t}=Ue(),[n,r]=c.useState(""),[s,a]=c.useState(""),[o,i]=c.useState(""),[u,f]=c.useState(!1),[p,h]=c.useState(null),[g,j]=c.useState(null),[N,v]=c.useState(null),[S,x]=c.useState(""),[d,m]=c.useState([]),[b,E]=c.useState([]),[A,$]=c.useState(""),[_,D]=c.useState(!1),[U,B]=c.useState(!1),[J,ee]=c.useState(!1),[q,H]=c.useState(null),[O,P]=c.useState(null),y=Ye(t??null,"manager"),k=c.useRef(null);c.useEffect(()=>{var L;if(!y)return;const F=Ya();if(!F)return;const I=window;(L=I.auth)!=null&&L.getAccessToken&&(async()=>{const V=await new Promise(te=>I.auth.getAccessToken(te));if(!V)return;const ne=await fetch(`${F}/categories`,{headers:{Authorization:`Bearer ${V}`}});if(!ne.ok)return;const Z=((await ne.json()).categories??[]).map(te=>({id:te.PK||te.id||"",name:te.name||te.PK||""}));m(Z)})()},[y]);const w=F=>{var V;const I=(V=F.target.files)==null?void 0:V[0];if(h(I??null),I&&x(""),v(null),g&&(URL.revokeObjectURL(g),j(null)),!I)return;if(I.size>Bv){v("Logo must be 5 MB or smaller.");return}const L=new Image;L.onload=()=>{if(L.naturalWidth<Dc||L.naturalHeight<Dc){v("Logo must be at least 100100 pixels.");return}v(null),j(URL.createObjectURL(I))},L.onerror=()=>v("Please choose a valid image file."),L.src=URL.createObjectURL(I)},R=F=>{b.includes(F)||E([...b,F]),$("")},T=F=>{E(b.filter(I=>I!==F))};c.useEffect(()=>{function F(I){k.current&&!k.current.contains(I.target)&&D(!1)}if(_)return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[_]);const z=d.filter(F=>!b.includes(F.id)&&(!A.trim()||(F.name||"").toLowerCase().includes(A.toLowerCase()))),W=async()=>{var V;const F=n.trim();if(!F){P("Enter URL first.");return}const I=Ya();if(!I){P("API URL not set.");return}const L=window;if(!((V=L.auth)!=null&&V.getAccessToken)){P("Sign in required.");return}ee(!0),P(null);try{const ne=await new Promise(te=>L.auth.getAccessToken(te)),G=await fetch(`${I}/sites/generate-description`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`},body:JSON.stringify({url:F})});if(!G.ok)throw new Error(await G.text());const Z=await G.json();i(Z.description??""),f(!0)}catch(ne){P((ne==null?void 0:ne.message)??"Failed to generate description.")}finally{ee(!1)}},K=async F=>{var ne;F.preventDefault();const I=n.trim();if(!I){P("URL is required.");return}const L=Ya();if(!L){P("API URL not set.");return}const V=window;if(!((ne=V.auth)!=null&&ne.getAccessToken)){P("Sign in required.");return}if(!(p&&N)){B(!0),P(null),H(null);try{const G=await new Promise(we=>V.auth.getAccessToken(we));let Z=null;if(S.trim()){const we=await fetch(`${L}/sites/logo-from-url`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify({siteId:"new",imageUrl:S.trim()})});if(!we.ok){const Xe=await we.json().catch(()=>({}));throw new Error(Xe.error||await we.text())}const de=await we.json();de.key&&(Z=de.key)}else if(p){const we=await fetch(`${L}/sites/logo-upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify({siteId:"new",contentType:p.type||"image/png"})});if(!we.ok)throw new Error("Logo upload request failed");const{uploadUrl:de,key:Xe}=await we.json();if(!(await fetch(de,{method:"PUT",headers:{"Content-Type":p.type||"image/png"},body:p})).ok)throw new Error("Logo upload failed");Z=Xe}const te={url:I,title:s.trim()||I,description:o.trim(),categoryIds:b};u&&(te.descriptionAiGenerated=!0),Z&&(te.logoKey=Z);const ce=await fetch(`${L}/sites`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify(te)});if(!ce.ok)throw new Error(await ce.text());const ot=await ce.json();H(`Site added: ${ot.title||ot.url||I}`),r(""),a(""),i(""),f(!1),h(null),g&&URL.revokeObjectURL(g),j(null),E([]),setTimeout(()=>e("/websites"),1500)}catch(G){P((G==null?void 0:G.message)??"Failed to add site.")}finally{B(!1)}}};return y?l.jsxs("div",{className:"space-y-6",children:[l.jsxs(re,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Websites"]}),l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Add Site"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Add a new website to the catalog. URL is required."})]}),l.jsxs("form",{className:"space-y-4 max-w-xl",onSubmit:K,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"URL *"}),l.jsx("input",{type:"url",value:n,onChange:F=>r(F.target.value),placeholder:"https://example.com",required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Title (optional)"}),l.jsx("input",{type:"text",value:s,onChange:F=>a(F.target.value),placeholder:"Display title",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description (optional)"}),l.jsx("textarea",{value:o,onChange:F=>{i(F.target.value),f(!1)},placeholder:"Short description",rows:4,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsx("button",{type:"button",onClick:W,disabled:J||!n.trim(),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-1.5 text-xs font-medium text-slate-200 hover:bg-slate-700 disabled:opacity-50",children:J?"Generating":"Generate AI description"}),u&&l.jsx("span",{className:"ml-2 text-xs uppercase tracking-wide text-slate-500",children:"AI summary"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Logo (optional, min 100100, max 5 MB)"}),l.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp",onChange:w,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-slate-100"}),l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Or paste image URL (image will be copied to S3 on save):"}),l.jsx("input",{type:"url",value:S,onChange:F=>{x(F.target.value),F.target.value.trim()&&h(null)},placeholder:"https://example.com/logo.png",className:"mt-1 w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),g&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:g,alt:"Preview",className:"h-16 w-16 rounded-lg border border-slate-700 object-cover"})}),N&&l.jsx("p",{className:"mt-1 text-xs text-red-400",children:N})]}),l.jsxs("div",{ref:k,className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Categories (optional)"}),l.jsx("input",{type:"text",value:A,onChange:F=>$(F.target.value),onFocus:()=>D(!0),placeholder:"Search and select",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),_&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",children:z.length?z.map(F=>l.jsx("button",{type:"button",onClick:()=>R(F.id),className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:F.name},F.id)):l.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches"})}),d.length===0&&l.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["No categories. ",l.jsx(re,{to:"/admin/categories",className:"text-brand-orange hover:underline",children:"Create categories"}),"."]})]}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:b.map(F=>{const I=d.find(L=>L.id===F);return l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(I==null?void 0:I.name)??F,l.jsx("button",{type:"button",onClick:()=>T(F),className:"hover:text-red-400","aria-label":"Remove",children:""})]},F)})})]}),l.jsx("button",{type:"submit",disabled:U,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:U?"Adding":"Add Site"}),q&&l.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:q}),O&&l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:O})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Add Site"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required to add sites."})]})};function Qs(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const _c=100,Gv=5*1024*1024,Wv=()=>{const{id:e}=aa(),t=Ut(),{user:n}=Ue(),[r,s]=c.useState(!0),[a,o]=c.useState(""),[i,u]=c.useState(""),[f,p]=c.useState(""),[h,g]=c.useState(!1),[j,N]=c.useState([]),[v,S]=c.useState(""),[x,d]=c.useState(""),[m,b]=c.useState(null),[E,A]=c.useState(!1),[$,_]=c.useState(null),[D,U]=c.useState(""),[B,J]=c.useState(null),[ee,q]=c.useState(null),[H,O]=c.useState([]),[P,y]=c.useState([]),[k,w]=c.useState(""),[R,T]=c.useState(!1),[z,W]=c.useState(!1),[K,F]=c.useState(!1),[I,L]=c.useState(!1),[V,ne]=c.useState(null),[G,Z]=c.useState(null),te=Ye(n??null,"manager"),ce=e?decodeURIComponent(e):"";c.useEffect(()=>{var xe;if(!te||!ce){s(!1);return}const Y=Qs();if(!Y){Z("API URL not set."),s(!1);return}const me=window;if(!((xe=me.auth)!=null&&xe.getAccessToken)){Z("Sign in required."),s(!1);return}let pe=!1;return(async()=>{const ge=await new Promise(Pt=>me.auth.getAccessToken(Pt));if(!ge||pe)return;const De=await fetch(`${Y}/sites?id=${encodeURIComponent(ce)}`);if(De.status===404||!De.ok){pe||Z("Site not found."),s(!1);return}const Te=(await De.json()).site;if(pe||!Te){s(!1);return}o(Te.url??""),u(Te.title??""),p(Te.description??""),g(!!Te.descriptionAiGenerated),N(Array.isArray(Te.tags)?Te.tags:[]),S(""),d(Te.scrapedContent??""),b(Te.logoUrl||null),y(Array.isArray(Te.categoryIds)?Te.categoryIds:[]);const tt=await fetch(`${Y}/categories`,{headers:{Authorization:`Bearer ${ge}`}});if(tt.ok&&!pe){const Pt=await tt.json();O((Pt.categories??[]).map(Tt=>({id:Tt.PK||Tt.id||"",name:Tt.name||Tt.PK||""})))}pe||s(!1)})(),()=>{pe=!0}},[te,ce]);const ot=Y=>{var xe;const me=(xe=Y.target.files)==null?void 0:xe[0];if(_(me??null),U(""),q(null),A(!1),B&&(URL.revokeObjectURL(B),J(null)),!me)return;if(me.size>Gv){q("Logo must be 5 MB or smaller.");return}const pe=new Image;pe.onload=()=>{if(pe.naturalWidth<_c||pe.naturalHeight<_c){q("Logo must be at least 100100 pixels.");return}q(null),J(URL.createObjectURL(me))},pe.onerror=()=>q("Please choose a valid image file."),pe.src=URL.createObjectURL(me)},we=Y=>{P.includes(Y)||y([...P,Y]),w(""),T(!1)},de=Y=>{y(P.filter(me=>me!==Y))},Xe=()=>{const Y=v.trim();Y&&!j.includes(Y)&&N([...j,Y]),S("")},et=Y=>N(j.filter(me=>me!==Y)),Ct=H.filter(Y=>!P.includes(Y.id)&&(!k.trim()||(Y.name||"").toLowerCase().includes(k.toLowerCase()))),Tr=async()=>{var xe;const Y=a.trim();if(!Y){Z("Enter URL first.");return}const me=Qs();if(!me){Z("API URL not set.");return}const pe=window;if(!((xe=pe.auth)!=null&&xe.getAccessToken)){Z("Sign in required.");return}L(!0),Z(null);try{const ge=await new Promise(Te=>pe.auth.getAccessToken(Te)),De=await fetch(`${me}/sites/generate-description`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ge}`},body:JSON.stringify({url:Y})});if(!De.ok)throw new Error(await De.text());const Xt=await De.json();p(Xt.description??""),g(!0)}catch(ge){Z((ge==null?void 0:ge.message)??"Failed to generate description.")}finally{L(!1)}},Zt=async Y=>{var xe;if(Y.preventDefault(),!ce)return;const me=Qs();if(!me){Z("API URL not set.");return}const pe=window;if(!((xe=pe.auth)!=null&&xe.getAccessToken)){Z("Sign in required.");return}if(!($&&ee)){W(!0),Z(null),ne(null);try{const ge=await new Promise(tt=>pe.auth.getAccessToken(tt));let De=null;if($){const tt=await fetch(`${me}/sites/logo-upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ge}`},body:JSON.stringify({siteId:ce,contentType:$.type||"image/png"})});if(!tt.ok)throw new Error("Logo upload request failed");const{uploadUrl:Pt,key:Tt}=await tt.json();if(!(await fetch(Pt,{method:"PUT",headers:{"Content-Type":$.type||"image/png"},body:$})).ok)throw new Error("Logo upload failed");De=Tt}else if(D.trim()){const tt=await fetch(`${me}/sites/logo-from-url`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ge}`},body:JSON.stringify({siteId:ce,imageUrl:D.trim()})});if(!tt.ok){const Tt=await tt.json().catch(()=>({}));throw new Error(Tt.error||await tt.text())}const Pt=await tt.json();Pt.key&&(De=Pt.key)}const Xt={id:ce,url:a.trim(),title:i.trim()||a.trim(),description:f.trim(),descriptionAiGenerated:h,categoryIds:P,tags:j,scrapedContent:x.trim()||void 0};E?Xt.deleteLogo=!0:De&&(Xt.logoKey=De);const Te=await fetch(`${me}/sites`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ge}`},body:JSON.stringify(Xt)});if(!Te.ok)throw new Error(await Te.text());ne("Site updated."),B&&URL.revokeObjectURL(B),_(null),J(null),U(""),setTimeout(()=>t(`/websites/${encodeURIComponent(ce)}`),1200)}catch(ge){Z((ge==null?void 0:ge.message)??"Failed to update site.")}finally{W(!1)}}},fe=async()=>{var pe;if(!ce||!window.confirm("Delete this site? This cannot be undone."))return;const Y=Qs();if(!Y)return;const me=window;if((pe=me.auth)!=null&&pe.getAccessToken){F(!0),Z(null);try{const xe=await new Promise(De=>me.auth.getAccessToken(De)),ge=await fetch(`${Y}/sites`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xe}`},body:JSON.stringify({id:ce})});if(!ge.ok)throw new Error(await ge.text());t("/websites")}catch(xe){Z((xe==null?void 0:xe.message)??"Failed to delete site.")}finally{F(!1)}}};return te?r?l.jsxs("div",{className:"space-y-4",children:[l.jsxs(re,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Websites"]}),l.jsx("p",{className:"text-sm text-slate-400",children:"Loading"})]}):G&&!a&&!i?l.jsxs("div",{className:"space-y-4",children:[l.jsxs(re,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Websites"]}),l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:G})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs(re,{to:`/websites/${encodeURIComponent(ce)}`,className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to site"]}),l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit Site"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Update URL, title, description, logo, categories, and scraped content."})]}),l.jsxs("form",{className:"space-y-4 max-w-xl",onSubmit:Zt,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"URL *"}),l.jsx("input",{type:"url",value:a,onChange:Y=>o(Y.target.value),required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Title"}),l.jsx("input",{type:"text",value:i,onChange:Y=>u(Y.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description"}),l.jsx("textarea",{value:f,onChange:Y=>{p(Y.target.value),g(!1)},placeholder:"Short description",rows:4,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsx("button",{type:"button",onClick:Tr,disabled:I||!a.trim(),className:"mt-2 rounded-md border border-slate-700 bg-slate-800 px-3 py-1.5 text-xs font-medium text-slate-200 hover:bg-slate-700 disabled:opacity-50",children:I?"Generating":"Generate AI description"}),h&&l.jsx("span",{className:"ml-2 text-xs uppercase tracking-wide text-slate-500",children:"AI summary"}),l.jsxs("label",{className:"mt-2 block inline-flex items-center gap-2 text-xs text-slate-500",children:[l.jsx("input",{type:"checkbox",checked:h,onChange:Y=>g(Y.target.checked)}),"AI-generated summary"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Logo"}),m&&!E&&!B&&l.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[l.jsx("img",{src:m,alt:"Current logo",className:"h-12 w-12 rounded-lg border border-slate-700 object-cover"}),l.jsxs("label",{className:"text-xs text-slate-400",children:[l.jsx("input",{type:"checkbox",checked:E,onChange:Y=>A(Y.target.checked)}),l.jsx("span",{className:"ml-1",children:"Remove logo"})]})]}),l.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp",onChange:ot,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-slate-100"}),l.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Or paste image URL (image will be copied to S3 on save):"}),l.jsx("input",{type:"url",value:D,onChange:Y=>{U(Y.target.value),Y.target.value.trim()&&_(null)},placeholder:"https://example.com/logo.png",className:"mt-1 w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),B&&l.jsx("div",{className:"mt-2",children:l.jsx("img",{src:B,alt:"New logo",className:"h-16 w-16 rounded-lg border border-slate-700 object-cover"})}),ee&&l.jsx("p",{className:"mt-1 text-xs text-red-400",children:ee})]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Categories"}),l.jsx("input",{type:"text",value:k,onChange:Y=>w(Y.target.value),onFocus:()=>T(!0),placeholder:"Search and select",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),R&&l.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",children:Ct.length?Ct.map(Y=>l.jsx("button",{type:"button",onClick:()=>we(Y.id),className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:Y.name},Y.id)):l.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches"})}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:P.map(Y=>{const me=H.find(pe=>pe.id===Y);return l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(me==null?void 0:me.name)??Y,l.jsx("button",{type:"button",onClick:()=>de(Y),className:"hover:text-red-400","aria-label":"Remove",children:""})]},Y)})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:j.map(Y=>l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[Y,l.jsx("button",{type:"button",onClick:()=>et(Y),className:"hover:text-red-400","aria-label":"Remove",children:""})]},Y))}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:v,onChange:Y=>S(Y.target.value),onKeyDown:Y=>Y.key==="Enter"&&(Y.preventDefault(),Xe()),placeholder:"Add tag",className:"flex-1 rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsx("button",{type:"button",onClick:Xe,className:"rounded-md border border-slate-700 bg-slate-800 px-3 py-2 text-sm text-slate-200 hover:bg-slate-700",children:"Add"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Scraped content (optional)"}),l.jsx("textarea",{value:x,onChange:Y=>d(Y.target.value),rows:6,placeholder:"Paste or edit scraped content (e.g. README, about page)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm font-mono text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx("button",{type:"submit",disabled:z,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:z?"Saving":"Save changes"}),l.jsx("button",{type:"button",onClick:fe,disabled:K||z,className:"rounded-md border border-red-500/60 px-4 py-2 text-sm font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:K?"Deleting":"Delete entry"})]}),V&&l.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:V}),G&&l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:G})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit Site"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})};function Oc(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function Hv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}const Vv=()=>{const e=Ut(),{user:t}=Ue(),[n,r]=c.useState(""),[s,a]=c.useState(""),[o,i]=c.useState(null),[u,f]=c.useState(null),[p,h]=c.useState([]),[g,j]=c.useState([]),[N,v]=c.useState(""),[S,x]=c.useState(!1),[d,m]=c.useState(!1),[b,E]=c.useState(null),[A,$]=c.useState(null),_=Ye(t??null,"manager"),D=c.useRef(null);c.useEffect(()=>{var P;if(!_)return;const H=Oc();if(!H)return;const O=window;(P=O.auth)!=null&&P.getAccessToken&&(async()=>{const y=await new Promise(T=>O.auth.getAccessToken(T));if(!y)return;const k=await fetch(`${H}/media-categories`,{headers:{Authorization:`Bearer ${y}`}});if(!k.ok)return;const R=((await k.json()).categories??[]).map(T=>({id:T.PK||T.id||"",name:T.name||T.PK||""}));h(R)})()},[_]);const U=H=>{var P;const O=(P=H.target.files)==null?void 0:P[0];i(O??null),$(null),u&&(URL.revokeObjectURL(u),f(null)),O&&f(URL.createObjectURL(O))},B=H=>{g.includes(H)||j([...g,H]),v("")},J=H=>{j(g.filter(O=>O!==H))};c.useEffect(()=>{function H(O){D.current&&!D.current.contains(O.target)&&x(!1)}if(S)return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[S]);const ee=p.filter(H=>!g.includes(H.id)&&(!N.trim()||(H.name||"").toLowerCase().includes(N.toLowerCase()))),q=async H=>{var w;if(H.preventDefault(),!o){$("Please select an image or video file.");return}const O=Oc();if(!O){$("API URL not set.");return}const P=window;if(!((w=P.auth)!=null&&w.getAccessToken)){$("Sign in required.");return}const y=o.type.startsWith("video/")?"video":"image",k=`MEDIA#${Hv()}`;m(!0),$(null),E(null);try{const R=await new Promise(I=>P.auth.getAccessToken(I)),T=await fetch(`${O}/media/upload`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({mediaId:k,mediaType:y,contentType:o.type||(y==="image"?"image/png":"video/mp4")})});if(!T.ok)throw new Error("Upload request failed");const{uploadUrl:z,key:W}=await T.json();if(!(await fetch(z,{method:"PUT",headers:{"Content-Type":o.type||(y==="image"?"image/png":"video/mp4")},body:o})).ok)throw new Error("File upload failed");const F=await fetch(`${O}/media`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({id:k,mediaKey:W,title:n.trim()||"Untitled",description:s.trim(),mediaType:y,categoryIds:g})});if(!F.ok)throw new Error(await F.text());E("Media added."),r(""),a(""),i(null),u&&URL.revokeObjectURL(u),f(null),j([]),setTimeout(()=>e("/media"),1500)}catch(R){$((R==null?void 0:R.message)??"Failed to add media.")}finally{m(!1)}};return _?l.jsxs("div",{className:"space-y-6",children:[l.jsxs(re,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Media"]}),l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Add Media"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Upload an image or video and add it to the media catalog."})]}),l.jsxs("form",{className:"space-y-4 max-w-xl",onSubmit:q,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Title (optional)"}),l.jsx("input",{type:"text",value:n,onChange:H=>r(H.target.value),placeholder:"Untitled",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description (optional)"}),l.jsx("textarea",{value:s,onChange:H=>a(H.target.value),placeholder:"Description",rows:3,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Image or video *"}),l.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp,video/mp4,video/webm",onChange:U,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-slate-100"}),u&&l.jsx("div",{className:"mt-2",children:o!=null&&o.type.startsWith("video/")?l.jsx("video",{src:u,muted:!0,controls:!0,className:"max-h-32 rounded-lg border border-slate-700"}):l.jsx("img",{src:u,alt:"Preview",className:"h-24 w-auto rounded-lg border border-slate-700 object-cover"})})]}),l.jsxs("div",{ref:D,className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Media categories (optional)"}),l.jsx("input",{type:"text",value:N,onChange:H=>v(H.target.value),onFocus:()=>x(!0),placeholder:"Search and select",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),S&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",children:ee.length?ee.map(H=>l.jsx("button",{type:"button",onClick:()=>B(H.id),className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:H.name},H.id)):l.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches"})}),p.length===0&&l.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["No categories. ",l.jsx(re,{to:"/admin/media-categories",className:"text-brand-orange hover:underline",children:"Create media categories"}),"."]})]}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:g.map(H=>{const O=p.find(P=>P.id===H);return l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(O==null?void 0:O.name)??H,l.jsx("button",{type:"button",onClick:()=>J(H),className:"hover:text-red-400","aria-label":"Remove",children:""})]},H)})})]}),l.jsx("button",{type:"submit",disabled:d||!o,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:d?"Uploading":"Add Media"}),b&&l.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:b}),A&&l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:A})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Add Media"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required to add media."})]})};function Ja(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Kv=()=>{const{id:e}=aa(),t=Ut(),{user:n}=Ue(),[r,s]=c.useState(!0),[a,o]=c.useState(""),[i,u]=c.useState(""),[f,p]=c.useState(null),[h,g]=c.useState("image"),[j,N]=c.useState([]),[v,S]=c.useState([]),[x,d]=c.useState(""),[m,b]=c.useState(!1),[E,A]=c.useState(!1),[$,_]=c.useState(!1),[D,U]=c.useState(null),[B,J]=c.useState(null),ee=Ye(n??null,"manager"),q=e?decodeURIComponent(e):"";c.useEffect(()=>{var z;if(!ee||!q){s(!1);return}const w=Ja();if(!w){J("API URL not set."),s(!1);return}const R=window;if(!((z=R.auth)!=null&&z.getAccessToken)){J("Sign in required."),s(!1);return}let T=!1;return(async()=>{const W=await new Promise(ne=>R.auth.getAccessToken(ne));if(!W||T)return;const K=await fetch(`${w}/media?id=${encodeURIComponent(q)}`);if(K.status===404||!K.ok){T||J("Media not found."),s(!1);return}const F=await K.json(),I=Array.isArray(F.media)?F.media[0]:F.media;if(T||!I){s(!1);return}const L=I;o(L.title??""),u(L.description??""),p(L.mediaUrl||null),g(L.mediaType||"image"),S(Array.isArray(L.categoryIds)?L.categoryIds:[]);const V=await fetch(`${w}/media-categories`,{headers:{Authorization:`Bearer ${W}`}});if(V.ok&&!T){const ne=await V.json();N((ne.categories??[]).map(G=>({id:G.PK||G.id||"",name:G.name||G.PK||""})))}T||s(!1)})(),()=>{T=!0}},[ee,q]);const H=w=>{v.includes(w)||S([...v,w]),d(""),b(!1)},O=w=>{S(v.filter(R=>R!==w))},P=j.filter(w=>!v.includes(w.id)&&(!x.trim()||(w.name||"").toLowerCase().includes(x.toLowerCase()))),y=async w=>{var z;if(w.preventDefault(),!q)return;const R=Ja();if(!R){J("API URL not set.");return}const T=window;if(!((z=T.auth)!=null&&z.getAccessToken)){J("Sign in required.");return}A(!0),J(null),U(null);try{const W=await new Promise(F=>T.auth.getAccessToken(F)),K=await fetch(`${R}/media`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W}`},body:JSON.stringify({id:q,title:a.trim()||"Untitled",description:i.trim(),categoryIds:v})});if(!K.ok)throw new Error(await K.text());U("Media updated."),setTimeout(()=>t("/media"),1200)}catch(W){J((W==null?void 0:W.message)??"Failed to update media.")}finally{A(!1)}},k=async()=>{var T;if(!q||!window.confirm("Delete this media item? This cannot be undone."))return;const w=Ja();if(!w)return;const R=window;if((T=R.auth)!=null&&T.getAccessToken){_(!0),J(null);try{const z=await new Promise(K=>R.auth.getAccessToken(K)),W=await fetch(`${w}/media?id=${encodeURIComponent(q)}`,{method:"DELETE",headers:{Authorization:`Bearer ${z}`}});if(!W.ok)throw new Error(await W.text());t("/media")}catch(z){J((z==null?void 0:z.message)??"Failed to delete media.")}finally{_(!1)}}};return ee?r?l.jsxs("div",{className:"space-y-4",children:[l.jsxs(re,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Media"]}),l.jsx("p",{className:"text-sm text-slate-400",children:"Loading"})]}):B&&!a&&!i?l.jsxs("div",{className:"space-y-4",children:[l.jsxs(re,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Media"]}),l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:B})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs(re,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Media"]}),l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit Media"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Update title, description, and categories. The file itself cannot be changed here."})]}),f&&l.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 overflow-hidden max-w-2xl",children:[l.jsx("p",{className:"px-4 py-2 text-xs font-medium text-slate-400 border-b border-slate-800",children:"Current media"}),l.jsx("div",{className:"p-4 flex justify-center items-center bg-slate-900/40 min-h-[160px]",children:h==="video"?l.jsx("video",{src:f,controls:!0,className:"max-w-full max-h-[50vh] rounded-lg border border-slate-700",playsInline:!0}):l.jsx("img",{src:f,alt:a||"Media",className:"max-w-full max-h-[50vh] w-auto h-auto object-contain rounded-lg border border-slate-700"})})]}),l.jsxs("form",{className:"space-y-4 max-w-xl",onSubmit:y,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Title"}),l.jsx("input",{type:"text",value:a,onChange:w=>o(w.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description"}),l.jsx("textarea",{value:i,onChange:w=>u(w.target.value),rows:4,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Media categories"}),l.jsx("input",{type:"text",value:x,onChange:w=>d(w.target.value),onFocus:()=>b(!0),placeholder:"Search and select",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),m&&l.jsx("div",{className:"absolute left-0 right-0 top-full z-10 mt-1 max-h-48 overflow-auto rounded-md border border-slate-700 bg-slate-900 shadow-lg",children:P.length?P.map(w=>l.jsx("button",{type:"button",onClick:()=>H(w.id),className:"block w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",children:w.name},w.id)):l.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No matches"})}),l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:v.map(w=>{const R=j.find(T=>T.id===w);return l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-200",children:[(R==null?void 0:R.name)??w,l.jsx("button",{type:"button",onClick:()=>O(w),className:"hover:text-red-400","aria-label":"Remove",children:""})]},w)})})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsx("button",{type:"submit",disabled:E,className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:E?"Saving":"Save changes"}),l.jsx("button",{type:"button",onClick:k,disabled:$||E,className:"rounded-md border border-red-500/60 px-4 py-2 text-sm font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:$?"Deleting":"Delete entry"})]}),D&&l.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:D}),B&&l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:B})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit Media"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})};function Ys(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const qv=()=>{const{user:e}=Ue(),[t,n]=c.useState([]),[r,s]=c.useState(!0),[a,o]=c.useState(null),[i,u]=c.useState(""),[f,p]=c.useState(""),[h,g]=c.useState(!1),[j,N]=c.useState(null),[v,S]=c.useState(null),[x,d]=c.useState(""),[m,b]=c.useState(""),[E,A]=c.useState(!1),[$,_]=c.useState(null),[D,U]=c.useState(null),B=Ye(e??null,"manager"),J=async()=>{var w;const y=Ys();if(!y){o("API URL not set."),s(!1);return}const k=window;if(!((w=k.auth)!=null&&w.getAccessToken)){o("Sign in required."),s(!1);return}s(!0),o(null);try{const R=await new Promise(K=>k.auth.getAccessToken(K)),T=await fetch(`${y}/categories`,{headers:{Authorization:`Bearer ${R}`}});if(!T.ok)throw new Error(await T.text());const W=((await T.json()).categories??[]).map(K=>({id:K.PK||K.id||"",name:K.name||K.PK||"",description:K.description}));n(W)}catch(R){o((R==null?void 0:R.message)??"Failed to load categories.")}finally{s(!1)}};c.useEffect(()=>{B&&J()},[B]);const ee=y=>{S(y.id),d(y.name),b(y.description??"")},q=()=>{S(null),d(""),b(""),_(null)},H=async y=>{var R;if(y.preventDefault(),!v)return;const k=Ys();if(!k)return;const w=window;if((R=w.auth)!=null&&R.getAccessToken){A(!0),_(null);try{const T=await new Promise(W=>w.auth.getAccessToken(W)),z=await fetch(`${k}/categories`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({id:v,name:x.trim(),description:m.trim()||void 0})});if(!z.ok)throw new Error(await z.text());n(W=>W.map(K=>K.id===v?{...K,name:x.trim(),description:m.trim()||void 0}:K)),q()}catch(T){_((T==null?void 0:T.message)??"Failed to update category.")}finally{A(!1)}}},O=async y=>{var R;if(!window.confirm("Delete this category? Sites using it will lose this category."))return;const k=Ys();if(!k)return;const w=window;if((R=w.auth)!=null&&R.getAccessToken){U(y);try{const T=await new Promise(W=>w.auth.getAccessToken(W)),z=await fetch(`${k}/categories?id=${encodeURIComponent(y)}`,{method:"DELETE",headers:{Authorization:`Bearer ${T}`}});if(!z.ok)throw new Error(await z.text());n(W=>W.filter(K=>K.id!==y)),v===y&&q()}catch(T){o((T==null?void 0:T.message)??"Failed to delete category.")}finally{U(null)}}},P=async y=>{var T;y.preventDefault();const k=i.trim();if(!k)return;const w=Ys();if(!w)return;const R=window;if((T=R.auth)!=null&&T.getAccessToken){g(!0),N(null),o(null);try{const z=await new Promise(K=>R.auth.getAccessToken(K)),W=await fetch(`${w}/categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({name:k,description:f.trim()})});if(!W.ok)throw new Error(await W.text());u(""),p(""),N("Category created."),J()}catch(z){o((z==null?void 0:z.message)??"Failed to create category.")}finally{g(!1)}}};return B?l.jsxs("div",{className:"space-y-6",children:[l.jsxs(re,{to:"/websites",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Websites"]}),l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Site Categories"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Manage categories used when adding or editing sites."})]}),l.jsxs("form",{className:"space-y-3 max-w-md",onSubmit:P,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"New category name"}),l.jsx("input",{type:"text",value:i,onChange:y=>u(y.target.value),placeholder:"e.g. Developer tools",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description (optional)"}),l.jsx("input",{type:"text",value:f,onChange:y=>p(y.target.value),placeholder:"Optional description",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsx("button",{type:"submit",disabled:h||!i.trim(),className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:h?"Creating":"Create category"}),j&&l.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:j}),a&&l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:a})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-sm font-medium text-slate-300 mb-2",children:"Existing categories"}),r?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading"}):t.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"No categories yet. Create one above."}):l.jsx("ul",{className:"space-y-2",children:t.map(y=>l.jsx("li",{className:"rounded-lg border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm",children:v===y.id?l.jsxs("form",{onSubmit:H,className:"space-y-2",children:[l.jsx("input",{type:"text",value:x,onChange:k=>d(k.target.value),placeholder:"Name",required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",autoFocus:!0}),l.jsx("input",{type:"text",value:m,onChange:k=>b(k.target.value),placeholder:"Description (optional)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsx("button",{type:"submit",disabled:E||!x.trim(),className:"rounded-md bg-brand-orange px-3 py-1.5 text-xs font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:E?"Saving":"Save"}),l.jsx("button",{type:"button",onClick:q,className:"rounded-md border border-slate-700 px-3 py-1.5 text-xs font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"}),l.jsx("button",{type:"button",onClick:()=>O(y.id),disabled:D===y.id,className:"rounded-md border border-red-500/60 px-3 py-1.5 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:D===y.id?"Deleting":"Delete"})]}),$&&l.jsx("p",{className:"text-xs text-red-400",children:$})]}):l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>ee(y),className:"flex-1 min-w-0 text-left hover:bg-slate-800/50 rounded px-1 -mx-1 py-1 -my-1 transition-colors",children:[l.jsx("span",{className:"font-medium text-slate-200",children:y.name}),y.description&&l.jsx("span",{className:"text-slate-500 truncate max-w-xs ml-2",children:y.description})]}),l.jsx("button",{type:"button",onClick:()=>O(y.id),disabled:D===y.id,className:"rounded px-2 py-1 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50 shrink-0","aria-label":"Delete category",children:D===y.id?"":"Delete"})]})},y.id))})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Categories"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})};function Js(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Qv=()=>{const{user:e}=Ue(),[t,n]=c.useState([]),[r,s]=c.useState(!0),[a,o]=c.useState(null),[i,u]=c.useState(""),[f,p]=c.useState(""),[h,g]=c.useState(!1),[j,N]=c.useState(null),[v,S]=c.useState(null),[x,d]=c.useState(""),[m,b]=c.useState(""),[E,A]=c.useState(!1),[$,_]=c.useState(null),[D,U]=c.useState(null),B=Ye(e??null,"manager"),J=async()=>{var w;const y=Js();if(!y){o("API URL not set."),s(!1);return}const k=window;if(!((w=k.auth)!=null&&w.getAccessToken)){o("Sign in required."),s(!1);return}s(!0),o(null);try{const R=await new Promise(K=>k.auth.getAccessToken(K)),T=await fetch(`${y}/media-categories`,{headers:{Authorization:`Bearer ${R}`}});if(!T.ok)throw new Error(await T.text());const W=((await T.json()).categories??[]).map(K=>({id:K.PK||K.id||"",name:K.name||K.PK||"",description:K.description}));n(W)}catch(R){o((R==null?void 0:R.message)??"Failed to load media categories.")}finally{s(!1)}};c.useEffect(()=>{B&&J()},[B]);const ee=y=>{S(y.id),d(y.name),b(y.description??"")},q=()=>{S(null),d(""),b(""),_(null)},H=async y=>{var R;if(y.preventDefault(),!v)return;const k=Js();if(!k)return;const w=window;if((R=w.auth)!=null&&R.getAccessToken){A(!0),_(null);try{const T=await new Promise(W=>w.auth.getAccessToken(W)),z=await fetch(`${k}/media-categories`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({id:v,name:x.trim(),description:m.trim()||void 0})});if(!z.ok)throw new Error(await z.text());n(W=>W.map(K=>K.id===v?{...K,name:x.trim(),description:m.trim()||void 0}:K)),q()}catch(T){_((T==null?void 0:T.message)??"Failed to update media category.")}finally{A(!1)}}},O=async y=>{var R;if(!window.confirm("Delete this media category? Media using it will lose this category."))return;const k=Js();if(!k)return;const w=window;if((R=w.auth)!=null&&R.getAccessToken){U(y);try{const T=await new Promise(W=>w.auth.getAccessToken(W)),z=await fetch(`${k}/media-categories?id=${encodeURIComponent(y)}`,{method:"DELETE",headers:{Authorization:`Bearer ${T}`}});if(!z.ok)throw new Error(await z.text());n(W=>W.filter(K=>K.id!==y)),v===y&&q()}catch(T){o((T==null?void 0:T.message)??"Failed to delete media category.")}finally{U(null)}}},P=async y=>{var T;y.preventDefault();const k=i.trim();if(!k)return;const w=Js();if(!w)return;const R=window;if((T=R.auth)!=null&&T.getAccessToken){g(!0),N(null),o(null);try{const z=await new Promise(K=>R.auth.getAccessToken(K)),W=await fetch(`${w}/media-categories`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify({name:k,description:f.trim()})});if(!W.ok)throw new Error(await W.text());u(""),p(""),N("Media category created."),J()}catch(z){o((z==null?void 0:z.message)??"Failed to create media category.")}finally{g(!1)}}};return B?l.jsxs("div",{className:"space-y-6",children:[l.jsxs(re,{to:"/media",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Media"]}),l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Media Categories"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Manage categories used when adding or editing media."})]}),l.jsxs("form",{className:"space-y-3 max-w-md",onSubmit:P,children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"New category name"}),l.jsx("input",{type:"text",value:i,onChange:y=>u(y.target.value),placeholder:"e.g. Tutorials",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200 mb-1",children:"Description (optional)"}),l.jsx("input",{type:"text",value:f,onChange:y=>p(y.target.value),placeholder:"Optional description",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"})]}),l.jsx("button",{type:"submit",disabled:h||!i.trim(),className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:h?"Creating":"Create media category"}),j&&l.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:j}),a&&l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:a})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-sm font-medium text-slate-300 mb-2",children:"Existing media categories"}),r?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading"}):t.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"No media categories yet. Create one above."}):l.jsx("ul",{className:"space-y-2",children:t.map(y=>l.jsx("li",{className:"rounded-lg border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm",children:v===y.id?l.jsxs("form",{onSubmit:H,className:"space-y-2",children:[l.jsx("input",{type:"text",value:x,onChange:k=>d(k.target.value),placeholder:"Name",required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",autoFocus:!0}),l.jsx("input",{type:"text",value:m,onChange:k=>b(k.target.value),placeholder:"Description (optional)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsx("button",{type:"submit",disabled:E||!x.trim(),className:"rounded-md bg-brand-orange px-3 py-1.5 text-xs font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:E?"Saving":"Save"}),l.jsx("button",{type:"button",onClick:q,className:"rounded-md border border-slate-700 px-3 py-1.5 text-xs font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"}),l.jsx("button",{type:"button",onClick:()=>O(y.id),disabled:D===y.id,className:"rounded-md border border-red-500/60 px-3 py-1.5 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:D===y.id?"Deleting":"Delete"})]}),$&&l.jsx("p",{className:"text-xs text-red-400",children:$})]}):l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>ee(y),className:"flex-1 min-w-0 text-left hover:bg-slate-800/50 rounded px-1 -mx-1 py-1 -my-1 transition-colors",children:[l.jsx("span",{className:"font-medium text-slate-200",children:y.name}),y.description&&l.jsx("span",{className:"text-slate-500 truncate max-w-xs ml-2",children:y.description})]}),l.jsx("button",{type:"button",onClick:()=>O(y.id),disabled:D===y.id,className:"rounded px-2 py-1 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50 shrink-0","aria-label":"Delete category",children:D===y.id?"":"Delete"})]})},y.id))})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Media Categories"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})},Yv={admin:"SuperAdmin",manager:"Manager",user:"User"},ii=[{value:-8,label:"UTC-8"},{value:-5,label:"UTC-5"},{value:0,label:"UTC+0/GMT"}];function Mc(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function Jv(e,t,n){if(!e&&!n)return"";if(!e)return n?`from ${n}`:"";try{const r=new Date(e);if(isNaN(r.getTime()))return e+(n?` from ${n}`:"");const s=r.getTime()+(t||0)*36e5,a=new Date(s),o=v=>v<10?"0"+v:""+v,i=a.getUTCFullYear(),u=o(a.getUTCMonth()+1),f=o(a.getUTCDate()),p=o(a.getUTCHours()),h=o(a.getUTCMinutes()),g=ii.find(v=>v.value===t),j=g?g.label:t<0?"UTC"+t:"UTC+"+t;let N=`${i}-${u}-${f} ${p}:${h} ${j}`;return n&&(N+=` from ${n}`),N}catch{return e+(n?` from ${n}`:"")}}const Zv=()=>{const{user:e}=Ue(),t=Ut(),[n,r]=c.useState([]),[s,a]=c.useState(!0),[o,i]=c.useState(null),[u,f]=c.useState(""),[p,h]=c.useState(-8),g=Ye(e??null,"manager"),j=async m=>{var A;const b=Mc();if(!b){i("API URL not set."),a(!1);return}const E=window;if(!((A=E.auth)!=null&&A.getAccessToken)){i("Sign in required."),a(!1);return}a(!0),i(null);try{const $=await new Promise(B=>E.auth.getAccessToken(B));let _=`${b}/admin/users`;m&&(_+=`?paginationToken=${encodeURIComponent(m)}`);const D=await fetch(_,{headers:{Authorization:`Bearer ${$}`}});if(!D.ok){const B=await D.json().catch(()=>({}));throw new Error(B.error||"Failed to load users")}const U=await D.json();r(B=>m?[...B,...U.users??[]]:U.users??[]),f(U.paginationToken??"")}catch($){i(($==null?void 0:$.message)??"Failed to load users")}finally{a(!1)}},N=async m=>{var A;const b=Mc();if(!b)return{cognitoGroups:[],customGroups:[]};const E=window;if(!((A=E.auth)!=null&&A.getAccessToken))return{cognitoGroups:[],customGroups:[]};try{const $=await new Promise(U=>E.auth.getAccessToken(U)),_=await fetch(`${b}/admin/users/${encodeURIComponent(m.username)}/groups`,{headers:{Authorization:`Bearer ${$}`}});if(!_.ok)return{cognitoGroups:[],customGroups:[]};const D=await _.json();return{cognitoGroups:D.cognitoGroups??[],customGroups:D.customGroups??[]}}catch{return{cognitoGroups:[],customGroups:[]}}};c.useEffect(()=>{const m=parseInt(sessionStorage.getItem("funkedupshift_lastlogin_tz")??"-8",10);!isNaN(m)&&ii.some(b=>b.value===m)&&h(m)},[]),c.useEffect(()=>{g&&j()},[g]);const v=()=>{u&&j(u)},S=m=>{const b=parseInt(m.target.value,10);h(b),sessionStorage.setItem("funkedupshift_lastlogin_tz",String(b))},x=m=>{t(`/admin/users/edit?username=${encodeURIComponent(m.username)}&email=${encodeURIComponent(m.email??"")}&status=${encodeURIComponent(m.status??"")}`)},d=(m,b)=>{const E=[];return(m||[]).forEach(A=>{const $=Yv[A]||A,_=A==="admin"?"bg-amber-500/20 text-amber-200":A==="manager"?"bg-blue-500/20 text-blue-200":"bg-slate-600/30 text-slate-300";E.push(l.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs mr-1 ${_}`,children:$},`c-${A}`))}),(b||[]).forEach(A=>{E.push(l.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs mr-1 bg-emerald-500/20 text-emerald-200",children:A},`x-${A}`))}),E.length?E:l.jsx("span",{className:"text-slate-500",children:""})};return g?l.jsxs("div",{className:"space-y-6",children:[l.jsxs(re,{to:"/",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Home"]}),l.jsxs("header",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"User Management"}),l.jsx(re,{to:"/admin/groups",className:"text-sm text-slate-400 hover:text-slate-200",children:"Manage Groups"})]}),l.jsx("p",{className:"text-sm text-slate-400",children:"View and edit user roles and custom groups."}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("label",{htmlFor:"tz-select",className:"text-slate-500",children:"Last login timezone:"}),l.jsx("select",{id:"tz-select",value:p,onChange:S,className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 text-sm",children:ii.map(m=>l.jsx("option",{value:m.value,children:m.label},m.value))})]})]}),o&&l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:o}),l.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-800",children:l.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[l.jsx("thead",{className:"bg-slate-900/80",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Email"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Status"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Last login"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"System Roles"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase",children:"Custom Groups"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-800",children:s&&n.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:"Loading"})}):n.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-slate-500",children:"No users found."})}):n.map(m=>l.jsx(Xv,{user:m,tzOffset:p,formatLastLogin:Jv,renderGroupBadges:d,loadUserGroups:N,onClick:()=>x(m)},m.username))})]})}),u&&l.jsx("div",{className:"flex justify-center",children:l.jsx("button",{type:"button",onClick:v,disabled:s,className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-medium text-slate-200 hover:bg-slate-800 disabled:opacity-50",children:s?"Loading":"Load more"})})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"User Management"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})},Xv=({user:e,tzOffset:t,formatLastLogin:n,renderGroupBadges:r,loadUserGroups:s,onClick:a})=>{const[o,i]=c.useState(null);return c.useEffect(()=>{let u=!1;return s(e).then(f=>{u||i(f)}),()=>{u=!0}},[e.username]),l.jsxs("tr",{className:"cursor-pointer hover:bg-slate-800/50 transition-colors",onClick:a,children:[l.jsx("td",{className:"px-4 py-3 text-sm text-slate-200",children:e.email||e.username||""}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-400",children:e.status||""}),l.jsx("td",{className:"px-4 py-3 text-sm text-slate-400",children:n(e.lastLoginAt??"",t,e.lastLoginIp)}),l.jsx("td",{className:"px-4 py-3 text-sm",children:o?r(o.cognitoGroups,[]):l.jsx("span",{className:"text-slate-500",children:""})}),l.jsx("td",{className:"px-4 py-3 text-sm",children:o?r([],o.customGroups):l.jsx("span",{className:"text-slate-500",children:""})})]})},Fc={admin:"SuperAdmin",manager:"Manager",user:"User"},ui=[{value:-8,label:"UTC-8"},{value:-5,label:"UTC-5"},{value:0,label:"UTC+0/GMT"}];function Za(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function ey(e,t,n){if(!e&&!n)return"";if(!e)return n?`from ${n}`:"";try{const r=new Date(e);if(isNaN(r.getTime()))return e+(n?` from ${n}`:"");const s=r.getTime()+(t||0)*36e5,a=new Date(s),o=v=>v<10?"0"+v:""+v,i=a.getUTCFullYear(),u=o(a.getUTCMonth()+1),f=o(a.getUTCDate()),p=o(a.getUTCHours()),h=o(a.getUTCMinutes()),g=ui.find(v=>v.value===t),j=g?g.label:t<0?"UTC"+t:"UTC+"+t;let N=`${i}-${u}-${f} ${p}:${h} ${j}`;return n&&(N+=` from ${n}`),N}catch{return e+(n?` from ${n}`:"")}}const ty=e=>e==="admin"?"bg-amber-500/20 text-amber-200":e==="manager"?"bg-blue-500/20 text-blue-200":e==="user"?"bg-slate-600/30 text-slate-300":"bg-emerald-500/20 text-emerald-200",ny=()=>{var F;const e=Ut(),[t]=Ax(),n=t.get("username")??"",r=t.get("email")??"",s=t.get("status")??"",{user:a}=Ue(),[o,i]=c.useState(!0),[u,f]=c.useState(null),[p,h]=c.useState(null),[g,j]=c.useState([]),[N,v]=c.useState([]),[S,x]=c.useState([]),[d,m]=c.useState(""),[b,E]=c.useState(!1),[A,$]=c.useState(!1),[_,D]=c.useState(null),[U,B]=c.useState(!1),[J,ee]=c.useState(-8),q=Ye(a??null,"manager"),H=((F=a==null?void 0:a.groups)==null?void 0:F.includes("admin"))??!1,O=H?["admin","manager","user"]:["user"],P=async()=>{var V;if(!n)return;const I=Za();if(!I){f("API URL not set."),i(!1);return}const L=window;if(!((V=L.auth)!=null&&V.getAccessToken)){f("Sign in required."),i(!1);return}i(!0),f(null);try{const ne=await new Promise(we=>L.auth.getAccessToken(we)),[G,Z]=await Promise.all([fetch(`${I}/admin/users/${encodeURIComponent(n)}/groups`,{headers:{Authorization:`Bearer ${ne}`}}),fetch(`${I}/admin/groups`,{headers:{Authorization:`Bearer ${ne}`}})]);if(!G.ok){const we=await G.json().catch(()=>({}));throw new Error(we.error||"Failed to load user")}const te=await G.json(),ot=((await Z.json()).groups??[]).map(we=>we.name??(we.PK??"").replace("GROUP#","")).filter(Boolean);h({email:te.username??n,status:s,lastLoginAt:te.lastLoginAt??"",lastLoginIp:te.lastLoginIp??"",cognitoGroups:te.cognitoGroups??[],customGroups:te.customGroups??[]}),v([...te.cognitoGroups??[]]),x([...te.customGroups??[]]),j(ot)}catch(ne){f((ne==null?void 0:ne.message)??"Failed to load user")}finally{i(!1)}};c.useEffect(()=>{const I=parseInt(sessionStorage.getItem("funkedupshift_lastlogin_tz")??"-8",10);!isNaN(I)&&ui.some(L=>L.value===I)&&ee(I)},[]),c.useEffect(()=>{q&&n&&P()},[q,n]);const y=I=>{I&&!N.includes(I)&&v(L=>[...L,I])},k=I=>{v(L=>L.filter(V=>V!==I))},w=I=>{I&&!S.includes(I)&&(x(L=>[...L,I]),m(""),E(!1))},R=I=>{x(L=>L.filter(V=>V!==I))},T=g.filter(I=>S.includes(I)?!1:d.trim()?I.toLowerCase().includes(d.toLowerCase().trim()):!0),z=async I=>{var we;if(I.preventDefault(),!n)return;const L=Za();if(!L)return;const V=window;if(!((we=V.auth)!=null&&we.getAccessToken))return;const ne=(p==null?void 0:p.cognitoGroups)??[],G=(p==null?void 0:p.customGroups)??[];let Z=N.filter(de=>!ne.includes(de)),te=ne.filter(de=>!N.includes(de));H||(Z=Z.filter(de=>de==="user"),te=te.filter(de=>de==="user"));const ce=S.filter(de=>!G.includes(de)),ot=G.filter(de=>!S.includes(de));$(!0),D(null);try{const Xe={headers:{"Content-Type":"application/json",Authorization:`Bearer ${await new Promise(fe=>V.auth.getAccessToken(fe))}`}},et=encodeURIComponent,Ct=[];Z.forEach(fe=>Ct.push(fetch(`${L}/admin/users/${et(n)}/groups`,{method:"POST",...Xe,body:JSON.stringify({groupName:fe})}))),te.forEach(fe=>Ct.push(fetch(`${L}/admin/users/${et(n)}/groups/${et(fe)}`,{method:"DELETE",headers:Xe.headers}))),ce.forEach(fe=>Ct.push(fetch(`${L}/admin/users/${et(n)}/groups`,{method:"POST",...Xe,body:JSON.stringify({groupName:fe})}))),ot.forEach(fe=>Ct.push(fetch(`${L}/admin/users/${et(n)}/groups/${et(fe)}`,{method:"DELETE",headers:Xe.headers})));const Zt=(await Promise.all(Ct)).find(fe=>!fe.ok);if(Zt){const fe=await Zt.json().catch(()=>({}));throw new Error(fe.error||"Failed to save")}window.alert("Changes saved"),e("/admin/users")}catch(de){D((de==null?void 0:de.message)??"Failed to save")}finally{$(!1)}},W=I=>{const L=parseInt(I.target.value,10);ee(L),sessionStorage.setItem("funkedupshift_lastlogin_tz",String(L))},K=async()=>{var ne;const I=r||(p==null?void 0:p.email)||n;if(!window.confirm(`Delete user "${I}"? This cannot be undone.`))return;const L=Za();if(!L)return;const V=window;if((ne=V.auth)!=null&&ne.getAccessToken){B(!0);try{const G=await new Promise(te=>V.auth.getAccessToken(te)),Z=await fetch(`${L}/admin/users/${encodeURIComponent(n)}`,{method:"DELETE",headers:{Authorization:`Bearer ${G}`}});if(!Z.ok){const te=await Z.json().catch(()=>({}));throw new Error(te.error||"Failed to delete user")}e("/admin/users")}catch(G){D((G==null?void 0:G.message)??"Failed to delete user")}finally{B(!1)}}};return q?n?o?l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Loading"})]}):u||!p?l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:u??"Failed to load user"})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs(re,{to:"/admin/users",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to users"]}),l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Adjust system roles and custom groups."}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("label",{htmlFor:"tz-select",className:"text-slate-500",children:"Last login timezone:"}),l.jsx("select",{id:"tz-select",value:J,onChange:W,className:"rounded border border-slate-700 bg-slate-950 px-2 py-1 text-slate-200 text-sm",children:ui.map(I=>l.jsx("option",{value:I.value,children:I.label},I.value))})]})]}),l.jsxs("form",{onSubmit:z,className:"space-y-6 max-w-2xl",children:[l.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950/60 p-4",children:[l.jsx("h2",{className:"text-sm font-medium text-slate-300 mb-3",children:"User info"}),l.jsx("table",{className:"text-sm",children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"py-1 pr-4 font-medium text-slate-400 w-28",children:"Email"}),l.jsx("td",{className:"py-1 text-slate-200",children:r||p.email})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"py-1 pr-4 font-medium text-slate-400",children:"Status"}),l.jsx("td",{className:"py-1 text-slate-200",children:s||p.status||""})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"py-1 pr-4 font-medium text-slate-400",children:"Last login"}),l.jsx("td",{className:"py-1 text-slate-200",children:ey(p.lastLoginAt,J,p.lastLoginIp)})]})]})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200",children:"System roles"}),l.jsxs("select",{className:"rounded border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-200 w-full max-w-xs",onChange:I=>{const L=I.target.value;L&&y(L),I.target.value=""},children:[l.jsx("option",{value:"",children:"Select role to add"}),O.filter(I=>!N.includes(I)).map(I=>l.jsx("option",{value:I,children:Fc[I]??I},I))]}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:N.map(I=>{const L=H||I==="user";return l.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-sm ${ty(I)}`,children:[Fc[I]??I,L&&l.jsx("button",{type:"button",onClick:()=>k(I),className:"ml-0.5 hover:text-red-300","aria-label":"Remove",children:""})]},I)})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-200",children:"Custom groups"}),g.length===0?l.jsxs("p",{className:"text-sm text-slate-500",children:["No custom groups. ",l.jsx(re,{to:"/admin/groups",className:"text-brand-orange hover:underline",children:"Create groups"}),"."]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative max-w-xs",children:[l.jsx("input",{type:"text",value:d,onChange:I=>{m(I.target.value),E(!0)},onFocus:()=>E(!0),placeholder:"Search or select groups",className:"w-full rounded border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-200 placeholder:text-slate-500"}),b&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>E(!1),"aria-hidden":"true"}),l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 max-h-48 overflow-y-auto rounded border border-slate-700 bg-slate-900 shadow-lg z-20",children:T.length===0?l.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No matches"}):T.map(I=>l.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm text-slate-200 hover:bg-slate-800",onClick:()=>w(I),children:I},I))})]})]}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:S.map(I=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm bg-emerald-500/20 text-emerald-200",children:[I,l.jsx("button",{type:"button",onClick:()=>R(I),className:"ml-0.5 hover:text-red-300","aria-label":"Remove",children:""})]},I))})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[l.jsx("button",{type:"submit",disabled:A,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:A?"Saving":"Save"}),l.jsx(re,{to:"/admin/users",className:"rounded-md border border-slate-700 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"}),H&&l.jsx("button",{type:"button",onClick:K,disabled:U||A,className:"rounded-md border border-red-500/60 bg-red-500/10 px-4 py-2 text-sm font-medium text-red-200 hover:bg-red-500/20 disabled:opacity-50",children:U?"Deleting":"Delete user"})]}),_&&l.jsx("p",{className:"text-sm text-red-400",children:_})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Missing username in URL."})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Edit User"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})};function Zs(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const ry=()=>{const{user:e}=Ue(),[t,n]=c.useState([]),[r,s]=c.useState(!0),[a,o]=c.useState(null),[i,u]=c.useState(""),[f,p]=c.useState(""),[h,g]=c.useState(""),[j,N]=c.useState(!1),[v,S]=c.useState(null),[x,d]=c.useState(null),[m,b]=c.useState(""),[E,A]=c.useState(""),[$,_]=c.useState(!1),[D,U]=c.useState(null),[B,J]=c.useState(null),ee=Ye(e??null,"manager"),q=async()=>{var T;const w=Zs();if(!w){o("API URL not set."),s(!1);return}const R=window;if(!((T=R.auth)!=null&&T.getAccessToken)){o("Sign in required."),s(!1);return}s(!0),o(null);try{const z=await new Promise(I=>R.auth.getAccessToken(I)),W=await fetch(`${w}/admin/groups`,{headers:{Authorization:`Bearer ${z}`}});if(!W.ok)throw new Error(await W.text());const F=((await W.json()).groups??[]).map(I=>({name:I.name??(I.PK??"").replace("GROUP#",""),description:I.description,permissions:Array.isArray(I.permissions)?I.permissions:[]}));F.sort((I,L)=>I.name.toLowerCase().localeCompare(L.name.toLowerCase())),n(F)}catch(z){o((z==null?void 0:z.message)??"Failed to load groups")}finally{s(!1)}};c.useEffect(()=>{ee&&q()},[ee]);const H=w=>{d(w.name),b(w.description??""),A((w.permissions??[]).join(", ")),U(null)},O=()=>{d(null),b(""),A(""),U(null)},P=async w=>{var K;w.preventDefault();const R=i.trim();if(!R)return;const T=Zs();if(!T)return;const z=window;if(!((K=z.auth)!=null&&K.getAccessToken))return;const W=h.split(",").map(F=>F.trim()).filter(Boolean);N(!0),S(null),o(null);try{const F=await new Promise(L=>z.auth.getAccessToken(L)),I=await fetch(`${T}/admin/groups`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({name:R,description:f.trim(),permissions:W})});if(!I.ok){const L=await I.json().catch(()=>({}));throw new Error(L.error||"Failed to create group")}u(""),p(""),g(""),S("Group created."),q()}catch(F){o((F==null?void 0:F.message)??"Failed to create group")}finally{N(!1)}},y=async w=>{var W;if(w.preventDefault(),!x)return;const R=Zs();if(!R)return;const T=window;if(!((W=T.auth)!=null&&W.getAccessToken))return;const z=E.split(",").map(K=>K.trim()).filter(Boolean);_(!0),U(null);try{const K=await new Promise(I=>T.auth.getAccessToken(I)),F=await fetch(`${R}/admin/groups/${encodeURIComponent(x)}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},body:JSON.stringify({description:m,permissions:z})});if(!F.ok){const I=await F.json().catch(()=>({}));throw new Error(I.error||"Failed to update group")}n(I=>I.map(L=>L.name===x?{...L,description:m,permissions:z}:L)),O()}catch(K){U((K==null?void 0:K.message)??"Failed to update group")}finally{_(!1)}},k=async w=>{var z;if(!window.confirm(`Delete group "${w}"? Members will lose access.`))return;const R=Zs();if(!R)return;const T=window;if((z=T.auth)!=null&&z.getAccessToken){J(w);try{const W=await new Promise(F=>T.auth.getAccessToken(F)),K=await fetch(`${R}/admin/groups/${encodeURIComponent(w)}`,{method:"DELETE",headers:{Authorization:`Bearer ${W}`}});if(!K.ok){const F=await K.json().catch(()=>({}));throw new Error(F.error||"Failed to delete group")}n(F=>F.filter(I=>I.name!==w)),x===w&&O()}catch(W){o((W==null?void 0:W.message)??"Failed to delete group")}finally{J(null)}}};return ee?l.jsxs("div",{className:"space-y-6",children:[l.jsxs(re,{to:"/",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:[l.jsx(Ie,{className:"h-4 w-4"}),"Back to Home"]}),l.jsxs("header",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"RBAC Groups"}),l.jsx(re,{to:"/admin/users",className:"text-sm text-slate-400 hover:text-slate-200",children:"User Management"})]}),l.jsx("p",{className:"text-sm text-slate-400",children:"Create and manage custom groups. Assign groups to users from the user edit page."})]}),l.jsxs("form",{className:"space-y-3 max-w-md",onSubmit:P,children:[l.jsx("h2",{className:"text-sm font-medium text-slate-300",children:"Create group"}),l.jsx("input",{type:"text",value:i,onChange:w=>u(w.target.value),placeholder:"Name (alphanumeric, underscore, hyphen)",required:!0,className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsx("input",{type:"text",value:f,onChange:w=>p(w.target.value),placeholder:"Description (optional)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsx("input",{type:"text",value:h,onChange:w=>g(w.target.value),placeholder:"Permissions (comma-separated, e.g. media:edit, sites:add)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsx("button",{type:"submit",disabled:j||!i.trim(),className:"inline-flex items-center justify-center rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:j?"Creating":"Create"}),v&&l.jsx("div",{className:"rounded-md border border-emerald-500/60 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-200",children:v}),a&&l.jsx("div",{className:"rounded-md border border-red-500/60 bg-red-500/10 px-3 py-2 text-sm text-red-200",children:a})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-sm font-medium text-slate-300 mb-2",children:"Custom groups"}),r?l.jsx("p",{className:"text-sm text-slate-500",children:"Loading"}):t.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"No custom groups yet. Create one above."}):l.jsx("ul",{className:"space-y-2",children:t.map(w=>l.jsx("li",{className:"rounded-lg border border-slate-800 bg-slate-950/60 px-3 py-2 text-sm",children:x===w.name?l.jsxs("form",{onSubmit:y,className:"space-y-2",children:[l.jsx("span",{className:"font-medium text-slate-200",children:w.name}),l.jsx("input",{type:"text",value:m,onChange:R=>b(R.target.value),placeholder:"Description (optional)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsx("input",{type:"text",value:E,onChange:R=>A(R.target.value),placeholder:"Permissions (comma-separated)",className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsx("button",{type:"submit",disabled:$,className:"rounded-md bg-brand-orange px-3 py-1.5 text-xs font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:$?"Saving":"Save"}),l.jsx("button",{type:"button",onClick:O,className:"rounded-md border border-slate-700 px-3 py-1.5 text-xs font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"}),l.jsx("button",{type:"button",onClick:()=>k(w.name),disabled:B===w.name,className:"rounded-md border border-red-500/60 px-3 py-1.5 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:B===w.name?"Deleting":"Delete"})]}),D&&l.jsx("p",{className:"text-xs text-red-400",children:D})]}):l.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"font-medium text-slate-200",children:w.name}),w.description&&l.jsx("span",{className:"text-slate-500 ml-2",children:w.description}),w.permissions&&w.permissions.length>0&&l.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Permissions: ",w.permissions.join(", ")]})]}),l.jsxs("div",{className:"flex gap-2 shrink-0",children:[l.jsx("button",{type:"button",onClick:()=>H(w),className:"rounded-md border border-slate-700 px-2 py-1 text-xs font-medium text-slate-300 hover:bg-slate-800",children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>k(w.name),disabled:B===w.name,className:"rounded-md border border-red-500/60 px-2 py-1 text-xs font-medium text-red-400 hover:bg-red-500/20 disabled:opacity-50",children:B===w.name?"Deleting":"Delete"})]})]})},w.name))})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"RBAC Groups"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Manager or SuperAdmin access is required."})]})},sy=()=>{const{user:e,refreshAuth:t}=Ue(),n=Ut(),[r,s]=c.useState("signin"),[a,o]=c.useState(""),[i,u]=c.useState(""),[f,p]=c.useState(!1),[h,g]=c.useState(null),[j,N]=c.useState(null),v=x=>{s(x),g(null),N(null)},S=async x=>{x.preventDefault(),g(null),N(null);const d=a.trim(),m=i.trim();if(!d||!m){g("Email and password are required.");return}const b=window;if(!b.auth){g("Auth is not configured. Check Cognito frontend setup.");return}p(!0);try{r==="signin"?(await new Promise((E,A)=>{b.auth.signIn(d,m,$=>{$?A($):E()})}),N("Signed in successfully. Redirecting"),await t()):(await new Promise((E,A)=>{b.auth.signUp(d,m,$=>{$?A($):E()})}),N("Account created successfully. You can now sign in."),s("signin")),r==="signin"&&setTimeout(()=>n("/"),800)}catch(E){const A=(E==null?void 0:E.message)||"Authentication failed. Please try again.";g(A)}finally{p(!1)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("header",{className:"space-y-2",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"Sign in / Sign up"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Use your Funkedupshift account to rate sites, add notes, and manage curated content (based on your role)."})]}),e&&l.jsxs("div",{className:"rounded-xl border border-emerald-600/60 bg-emerald-500/10 px-4 py-3 text-sm text-emerald-100",children:["You're currently signed in as"," ",l.jsx("span",{className:"font-semibold text-emerald-200",children:e.email})," (",e.role==="superadmin"?"SuperAdmin":e.role,"). You can safely close this page or continue browsing websites and media."]}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-[minmax(0,1.3fr)_minmax(0,1fr)] items-start",children:[l.jsxs("section",{className:"rounded-2xl border border-slate-800 bg-slate-950/70 p-5 shadow-lg shadow-slate-950/40",children:[l.jsxs("div",{className:"mb-4 flex gap-2 rounded-full bg-slate-900/70 p-1 text-xs font-medium text-slate-300",children:[l.jsx("button",{type:"button",onClick:()=>v("signin"),className:["flex-1 rounded-full px-3 py-1.5 transition-colors",r==="signin"?"bg-slate-50 text-slate-950":"hover:bg-slate-800/80"].join(" "),children:"Sign in"}),l.jsx("button",{type:"button",onClick:()=>v("signup"),className:["flex-1 rounded-full px-3 py-1.5 transition-colors",r==="signup"?"bg-slate-50 text-slate-950":"hover:bg-slate-800/80"].join(" "),children:"Sign up"})]}),l.jsxs("form",{className:"space-y-4",onSubmit:S,children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{htmlFor:"authEmail",className:"text-xs font-medium uppercase tracking-[0.18em] text-slate-400",children:"Email"}),l.jsx("input",{id:"authEmail",type:"email",autoComplete:"email",value:a,onChange:x=>o(x.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",placeholder:"you@example.com",required:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{htmlFor:"authPassword",className:"text-xs font-medium uppercase tracking-[0.18em] text-slate-400",children:"Password"}),l.jsx("input",{id:"authPassword",type:"password",autoComplete:r==="signin"?"current-password":"new-password",value:i,onChange:x=>u(x.target.value),className:"w-full rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",placeholder:r==="signup"?"At least 8 characters":"Your password",minLength:8,required:!0})]}),h&&l.jsx("div",{className:"rounded-md border border-red-500/70 bg-red-500/10 px-3 py-2 text-xs text-red-200",children:h}),j&&!h&&l.jsx("div",{className:"rounded-md border border-emerald-500/70 bg-emerald-500/10 px-3 py-2 text-xs text-emerald-100",children:j}),l.jsx("button",{type:"submit",disabled:f,className:"inline-flex w-full items-center justify-center rounded-full bg-brand-orange px-4 py-2.5 text-sm font-semibold text-slate-950 shadow-md shadow-orange-500/40 transition hover:bg-orange-500 disabled:cursor-not-allowed disabled:opacity-70",children:f?r==="signin"?"Signing in":"Creating account":r==="signin"?"Sign in":"Create account"})]})]}),l.jsxs("aside",{className:"space-y-3 rounded-2xl border border-slate-800 bg-slate-950/40 p-4 text-xs text-slate-300",children:[l.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.25em] text-slate-500",children:"How access works"}),l.jsxs("ul",{className:"space-y-2",children:[l.jsxs("li",{children:[l.jsx("span",{className:"font-semibold text-slate-100",children:"Guests"})," can browse all websites and media without signing in."]}),l.jsxs("li",{children:[l.jsx("span",{className:"font-semibold text-slate-100",children:"Signed-in users"})," can star sites and media, and later add their own metadata and comments."]}),l.jsxs("li",{children:[l.jsx("span",{className:"font-semibold text-slate-100",children:"Managers & admins"})," can curate sites, media, and categories, with extra tooling in the admin area."]})]}),l.jsx("p",{className:"text-slate-500",children:"If you don't see expected admin controls after signing in, confirm your Cognito group membership in the AWS Console."})]})]})]})},ly={admin:"SuperAdmin",manager:"Manager",user:"User"},iu=[{value:-8,label:"UTC-8"},{value:-5,label:"UTC-5"},{value:0,label:"UTC+0/GMT"}],zm="funkedupshift_lastlogin_tz";function ay(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}function oy(){try{const e=parseInt(sessionStorage.getItem(zm)??"",10);if(!isNaN(e)&&iu.some(t=>t.value===e))return e}catch{}return-8}function iy(e){try{sessionStorage.setItem(zm,String(e))}catch{}}function uy(e,t,n){if(!e)return n?`from ${n}`:"";try{const r=new Date(e);if(isNaN(r.getTime()))return e;const s=r.getTime()+t*36e5,a=new Date(s),o=v=>v<10?"0"+v:""+v,i=a.getUTCFullYear(),u=o(a.getUTCMonth()+1),f=o(a.getUTCDate()),p=o(a.getUTCHours()),h=o(a.getUTCMinutes()),g=iu.find(v=>v.value===t),j=g?g.label:t<0?`UTC${t}`:`UTC+${t}`;let N=`${i}-${u}-${f} ${p}:${h} ${j}`;return n&&(N+=` from ${n}`),N}catch{return e}}const cy=()=>{var E,A,$,_;const{user:e}=Ue(),[t,n]=c.useState(null),[r,s]=c.useState(""),[a,o]=c.useState(oy),[i,u]=c.useState(!0),[f,p]=c.useState(!1),[h,g]=c.useState(null),[j,N]=c.useState(null),v=ay(),S=async(D,U)=>{var q;const B=window;if(!((q=B.auth)!=null&&q.getAccessToken))throw new Error("Not signed in");const J=await new Promise(H=>B.auth.getAccessToken(H)),ee={...U==null?void 0:U.headers,Authorization:`Bearer ${J}`};return fetch(D,{...U,headers:ee})};c.useEffect(()=>{if(!e||!v){u(!1);return}let D=!1;return S(`${v}/profile`).then(U=>U.ok?U.json():U.json().then(B=>Promise.reject(new Error(B.error||"Failed")))).then(U=>{var B;D||(n(U),s(((B=U.profile)==null?void 0:B.description)??""))}).catch(U=>{D||N({text:`Failed to load profile: ${(U==null?void 0:U.message)??"Unknown"}`,error:!0})}).finally(()=>{D||u(!1)}),()=>{D=!0}},[e,v]);const x=async()=>{if(v){p(!0),N(null);try{const D=await S(`${v}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:r.trim().slice(0,100)})});if(!D.ok){const U=await D.json();throw new Error(U.error||"Failed")}N({text:"Saved.",error:!1})}catch(D){N({text:`Error: ${(D==null?void 0:D.message)??"Unknown"}`,error:!0})}finally{p(!1)}}},d=async D=>{var J,ee;const U=(J=D.target.files)==null?void 0:J[0];if(D.target.value="",!U||!v)return;if(g(null),!((ee=U.type)!=null&&ee.match(/^image\/(png|jpeg|jpg|gif|webp)$/))){g("Please choose PNG, JPEG, GIF, or WebP.");return}const B=U.type||"image/png";try{const q=await S(`${v}/profile/avatar-upload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contentType:B})});if(!q.ok){const w=await q.json();throw new Error(w.error||"Upload failed")}const{uploadUrl:H,key:O}=await q.json();if(!(await fetch(H,{method:"PUT",body:U,headers:{"Content-Type":B}})).ok)throw new Error("Upload failed");const y=await S(`${v}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({avatarKey:O})});if(!y.ok){const w=await y.json();throw new Error(w.error||"Failed")}const k=await S(`${v}/profile`).then(w=>w.json());n(k)}catch(q){g(`Error: ${(q==null?void 0:q.message)??"Unknown"}`)}},m=async()=>{if(v){g(null);try{const D=await S(`${v}/profile/avatar`,{method:"DELETE"});if(!D.ok){const U=await D.json();throw new Error(U.error||"Failed")}n(U=>U?{...U,profile:{...U.profile,avatarUrl:void 0,avatarKey:void 0}}:null)}catch(D){g(`Error: ${(D==null?void 0:D.message)??"Unknown"}`)}}};if(!e)return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"My Profile"}),l.jsxs("p",{className:"text-sm text-slate-400",children:[l.jsx(re,{to:"/auth",className:"text-brand-orange hover:underline",children:"Sign in"})," ","to view and edit your profile."]})]});if(!v)return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"My Profile"}),l.jsx("p",{className:"text-sm text-red-400",children:"API URL not set."})]});if(i)return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"My Profile"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Loading profile"})]});const b=t!=null&&t.profile?uy(t.profile.lastLoginAt,a,t.profile.lastLoginIp):"";return l.jsxs("div",{className:"space-y-6 max-w-2xl",children:[l.jsx(re,{to:"/",className:"inline-flex items-center gap-1 text-sm text-slate-400 hover:text-slate-200",children:" Back to Home"}),l.jsx("header",{children:l.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-50",children:"My Profile"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-xs font-medium text-slate-400",children:"Last login timezone"}),l.jsx("select",{value:a,onChange:D=>{const U=parseInt(D.target.value,10);iy(U),o(U)},className:"rounded-md border border-slate-700 bg-slate-950 px-2 py-1 text-sm text-slate-50 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange",children:iu.map(D=>l.jsx("option",{value:D.value,children:D.label},D.value))})]}),j&&l.jsx("div",{className:`rounded-md px-3 py-2 text-sm ${j.error?"border-red-500/60 bg-red-500/10 text-red-200":"border-green-500/40 bg-green-500/10 text-green-200"}`,children:j.text}),t&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"User info"}),l.jsx("table",{className:"w-full text-sm",children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"py-1 pr-4 font-medium text-slate-300 w-28",children:"Email"}),l.jsx("td",{className:"text-slate-400",children:t.email??""})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"py-1 pr-4 font-medium text-slate-300",children:"Status"}),l.jsx("td",{className:"text-slate-400",children:t.status??""})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"py-1 pr-4 font-medium text-slate-300",children:"Last login"}),l.jsx("td",{className:"text-slate-400",children:b})]})]})})]}),l.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"System role"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:(((E=t.cognitoGroups)==null?void 0:E.length)??0)>0?t.cognitoGroups.map(D=>{const U=ly[D]??D,B=D==="admin"?"bg-amber-500/20 text-amber-300":D==="manager"?"bg-blue-500/20 text-blue-300":"bg-slate-700 text-slate-200";return l.jsx("span",{className:`rounded-md px-2 py-0.5 text-xs font-medium ${B}`,children:U},D)}):l.jsx("span",{className:"rounded-md px-2 py-0.5 text-xs font-medium bg-slate-700 text-slate-200",children:"User"})})]}),l.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Custom groups"}),(((A=t.customGroups)==null?void 0:A.length)??0)>0?l.jsx("div",{className:"flex flex-wrap gap-2",children:t.customGroups.map(D=>l.jsx("span",{className:"rounded-md px-2 py-0.5 text-xs font-medium bg-emerald-500/20 text-emerald-300",children:D},D))}):l.jsx("p",{className:"text-sm text-slate-500",children:"Not in any custom groups."})]}),l.jsxs("section",{className:"rounded-xl border border-slate-800 bg-slate-950/60 p-4",children:[l.jsx("h2",{className:"text-sm font-semibold text-slate-200 mb-3",children:"Edit profile"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1",children:"Profile icon"}),l.jsxs("div",{className:"flex items-start gap-4",children:[($=t.profile)!=null&&$.avatarUrl?l.jsx("img",{src:t.profile.avatarUrl,alt:"Profile",className:"h-24 w-24 rounded-full border-2 border-slate-700 object-cover"}):l.jsx("div",{className:"h-24 w-24 rounded-full border-2 border-slate-700 bg-slate-800 flex items-center justify-center text-2xl text-slate-500",children:"?"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/webp",onChange:d,className:"block w-full text-xs text-slate-300 file:mr-3 file:rounded-md file:border-0 file:bg-slate-800 file:px-3 file:py-1.5 file:text-slate-100"}),((_=t.profile)==null?void 0:_.avatarUrl)&&l.jsx("button",{type:"button",onClick:m,className:"self-start rounded-md border border-red-500/60 bg-red-500/10 px-2 py-1 text-xs font-medium text-red-300 hover:bg-red-500/20",children:"Remove icon"})]})]}),l.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"PNG, JPEG, GIF, or WebP. Same constraints as thumbnail uploads."}),h&&l.jsx("p",{className:"mt-1 text-xs text-red-400",children:h})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"profile-description",className:"block text-xs font-medium text-slate-400 mb-1",children:"Description"}),l.jsx("textarea",{id:"profile-description",value:r,onChange:D=>s(D.target.value),maxLength:100,placeholder:"About you (max 100 characters)",rows:4,className:"w-full max-w-md rounded-md border border-slate-700 bg-slate-950 px-3 py-2 text-sm text-slate-50 placeholder:text-slate-500 focus:border-brand-orange focus:outline-none focus:ring-1 focus:ring-brand-orange"}),l.jsxs("div",{className:`mt-1 text-xs ${r.length>=100?"text-red-400":"text-slate-500"}`,children:[r.length," / 100"]})]}),l.jsx("button",{type:"button",onClick:x,disabled:f,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-semibold text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:f?"Saving":"Save"})]})]})]})]})},dy=/^\d{4}-\d{2}-\d{2}$/;function Bc(e){if(!dy.test(e))return!1;const t=new Date(e);return!isNaN(t.getTime())}const _n=({id:e,value:t,onChange:n,label:r,required:s,className:a="",inputClassName:o=""})=>{const i=c.useRef(null),u=c.useRef(null),f=v=>{const x=v.target.value.replace(/[^\d-]/g,"");n(x)},p=()=>{const v=t.trim();v&&!Bc(v)&&n("")},h=v=>{const S=v.target.value;S&&n(S)},g=()=>{const v=i.current;v&&(v.focus(),typeof v.showPicker=="function"&&v.showPicker())},j="rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",N=t&&Bc(t);return l.jsxs("div",{className:a,children:[l.jsxs("label",{htmlFor:`${e}-text`,className:"block text-xs font-semibold text-slate-400 mb-1",children:[r,l.jsx("span",{className:"block font-normal text-slate-500 mt-0.5",children:"yyyy-MM-DD or use calendar"})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("input",{ref:u,type:"text",id:`${e}-text`,value:t,onChange:f,onBlur:p,placeholder:"yyyy-MM-DD",required:s,className:`${j} flex-1 min-w-0 ${o}`,inputMode:"numeric",autoComplete:"off"}),l.jsx("input",{ref:i,type:"date",id:e,value:N?t:"",onChange:h,required:s,className:"sr-only","aria-hidden":!0}),l.jsx("button",{type:"button",onClick:g,title:"Open calendar","aria-label":"Open calendar",className:"rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-slate-400 hover:bg-slate-800 hover:text-slate-200 focus:border-brand-orange focus:outline-none shrink-0",children:l.jsx(_x,{className:"h-5 w-5"})})]})]})};function zc(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const Xa=10,fy=()=>{const{user:e}=Ue(),[t,n]=c.useState([]),[r,s]=c.useState([]),[a,o]=c.useState([]),[i,u]=c.useState(1),[f,p]=c.useState(!1),[h,g]=c.useState(""),[j,N]=c.useState(""),[v,S]=c.useState(""),[x,d]=c.useState(""),[m,b]=c.useState(!1),[E,A]=c.useState(null),[$,_]=c.useState(null),[D,U]=c.useState(!1),B=c.useRef(null),J=oi(e),ee=Bl(e),q=L=>{const V=t.find(ne=>ne.id===L||ne.PK===L);return V&&(V.name||V.id)||L},H=async(L,V={})=>{var te;const ne=window;if(!((te=ne.auth)!=null&&te.getAccessToken))throw new Error("Not signed in");const G=await new Promise(ce=>ne.auth.getAccessToken(ce));if(!G)throw new Error("Not signed in");const Z={...V.headers,Authorization:`Bearer ${G}`};return fetch(L,{...V,headers:Z})},O=async()=>{const L=zc();if(L)try{const V=await H(`${L}/squash/players`);if(!V.ok){const Z=await V.json().catch(()=>({}));throw new Error(Z.error||"Failed")}const G=((await V.json()).players??[]).map(Z=>({...Z,id:Z.id||Z.PK||""}));n(G)}catch(V){_((V==null?void 0:V.message)??"Failed to load players")}},P=async()=>{const L=zc();if(!L)return;const V=new URLSearchParams;h&&V.set("date",h),j&&V.set("dateFrom",j),v&&V.set("dateTo",v),r.length&&V.set("playerIds",r.join(","));const ne=V.toString()?`?${V.toString()}`:"";U(!0),_(null);try{const G=await H(`${L}/squash/matches${ne}`);if(!G.ok){const te=await G.json().catch(()=>({}));throw new Error(te.error||"Failed")}const Z=await G.json();o(Z.matches??[]),p(!0),u(1)}catch(G){_((G==null?void 0:G.message)??"Failed to search matches")}finally{U(!1)}},y=()=>{g(""),N(""),S(""),s([]),d(""),p(!1),o([]),u(1)},k=L=>{r.includes(L)||s([...r,L]),d("")},w=L=>{s(r.filter(V=>V!==L))},R=t.filter(L=>!r.includes(L.id)&&(!x.trim()||(L.name||"").toLowerCase().includes(x.toLowerCase())));c.useEffect(()=>{J&&O()},[J]),c.useEffect(()=>{function L(V){B.current&&!B.current.contains(V.target)&&b(!1)}if(m)return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[m]);const T=Math.max(1,Math.ceil(a.length/Xa)),z=(i-1)*Xa,W=a.slice(z,z+Xa),K=L=>{const V=L.teamAGames??0,ne=L.teamBGames??0,G=L.winningTeam==="B"?ne:V,Z=L.winningTeam==="B"?V:ne;return`${G}-${Z}`},F=L=>{const V=[q(L.teamAPlayer1Id||""),q(L.teamAPlayer2Id||"")].filter(Boolean).join(" & "),ne=[q(L.teamBPlayer1Id||""),q(L.teamBPlayer2Id||"")].filter(Boolean).join(" & "),G=L.winningTeam==="B"?ne:V,Z=L.winningTeam==="B"?V:ne;return l.jsxs("li",{className:"flex items-center gap-2 flex-wrap py-2 border-b border-slate-800 last:border-0",children:[l.jsx("span",{className:"font-semibold text-slate-200",children:L.date||""}),l.jsxs("span",{className:"text-slate-300",children:[G," vs ",Z]}),l.jsx("span",{className:"italic text-slate-400",children:K(L)})]},L.id||L.date+G)},I=[];if(T<=7)for(let L=1;L<=T;L++)I.push(L);else{const L=i;I.push(1),L>3&&I.push("");for(let V=Math.max(2,L-1);V<=Math.min(T-1,L+1);V++)I.includes(V)||I.push(V);L<T-2&&I.push(""),T>1&&I.push(T)}return e?J?l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Doubles"}),ee&&l.jsx("p",{className:"text-sm text-slate-400",children:l.jsx(re,{to:"/squash-admin",className:"text-brand-orange hover:text-orange-400",children:"Squash Admin"})}),(E||$)&&l.jsx("div",{className:`rounded-md px-4 py-3 text-sm ${$?"bg-red-900/30 border border-red-800/50 text-red-200":"bg-emerald-900/30 border border-emerald-800/50 text-emerald-200"}`,children:$||E}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Search matches"}),l.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[l.jsx(_n,{id:"searchDate",value:h,onChange:g,label:"Date (exact)",className:"max-w-[12rem]"}),l.jsx(_n,{id:"searchDateFrom",value:j,onChange:N,label:"Date from",className:"max-w-[12rem]"}),l.jsx(_n,{id:"searchDateTo",value:v,onChange:S,label:"Date to",className:"max-w-[12rem]"}),l.jsxs("div",{className:"relative max-w-[14rem] min-w-[12rem]",ref:B,children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1",children:"Filter by players"}),l.jsx("input",{type:"text",value:x,onChange:L=>d(L.target.value),onFocus:()=>b(!0),placeholder:"Search players...",autoComplete:"off",className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none"}),m&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-900 border border-slate-700 rounded-md max-h-48 overflow-y-auto z-10",children:R.length?R.map(L=>l.jsx("button",{type:"button",onClick:()=>k(L.id),className:"w-full text-left px-3 py-2 text-sm text-slate-200 hover:bg-slate-800",children:L.name||L.id},L.id)):l.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No matches"})}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:r.map(L=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-slate-700 text-slate-200 text-xs",children:[q(L),l.jsx("button",{type:"button",onClick:()=>w(L),className:"text-slate-400 hover:text-slate-100","aria-label":"Remove",children:""})]},L))})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:P,disabled:D,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:D?"Searching":"Search"}),l.jsx("button",{type:"button",onClick:y,className:"rounded-md border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Clear"})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Results"}),f?W.length===0?l.jsx("ul",{className:"list-none p-0",children:l.jsx("li",{className:"py-2 text-slate-400",children:"No matches found."})}):l.jsxs(l.Fragment,{children:[l.jsx("ul",{className:"list-none p-0",children:W.map(F)}),T>1&&l.jsxs("div",{className:"flex items-center gap-2 mt-4 flex-wrap",children:[l.jsx("button",{type:"button",disabled:i<=1,onClick:()=>u(L=>Math.max(1,L-1)),className:"rounded-md border border-slate-600 px-3 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 hover:bg-slate-800",children:"Prev"}),l.jsx("span",{className:"flex items-center gap-1",children:I.map((L,V)=>L===""?l.jsx("span",{className:"px-1 text-slate-500",children:""},`ellipsis-${V}`):L===i?l.jsx("span",{className:"min-w-[2rem] px-2 py-1 text-center font-semibold text-slate-200",children:L},L):l.jsx("button",{type:"button",onClick:()=>u(L),className:"min-w-[2rem] rounded px-2 py-1 text-sm text-slate-300 hover:bg-slate-800 border border-slate-600",children:L},L))}),l.jsx("button",{type:"button",disabled:i>=T,onClick:()=>u(L=>Math.min(T,L+1)),className:"rounded-md border border-slate-600 px-3 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 hover:bg-slate-800",children:"Next"})]})]}):l.jsx("p",{className:"text-sm text-slate-500",children:"Enter search criteria and click Search to find matches."})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Doubles"}),l.jsx("div",{className:"rounded-md bg-amber-900/30 border border-amber-800/50 px-4 py-3 text-sm text-amber-200",children:"You do not have access to the Squash section. Join the Squash group or contact an admin."})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Doubles"}),l.jsxs("div",{className:"rounded-md bg-red-900/30 border border-red-800/50 px-4 py-3 text-sm text-red-200",children:["Sign in required. ",l.jsx(re,{to:"/auth",className:"underline hover:text-red-100",children:"Sign in"})]})]})};function Tn(){if(typeof window>"u")return null;const e=window.API_BASE_URL;return e?e.replace(/\/$/,""):null}const eo=10,my=()=>{const{user:e}=Ue(),[t,n]=c.useState("matches"),[r,s]=c.useState([]),[a,o]=c.useState([]),[i,u]=c.useState([]),[f,p]=c.useState(1),[h,g]=c.useState(!1),[j,N]=c.useState(""),[v,S]=c.useState(""),[x,d]=c.useState(""),[m,b]=c.useState(""),[E,A]=c.useState(!1),[$,_]=c.useState(null),[D,U]=c.useState(""),[B,J]=c.useState(""),[ee,q]=c.useState(""),[H,O]=c.useState(""),[P,y]=c.useState(""),[k,w]=c.useState("A"),[R,T]=c.useState(0),[z,W]=c.useState(!1),[K,F]=c.useState(!1),I=c.useRef(null),[L,V]=c.useState([]),[ne,G]=c.useState([]),[Z,te]=c.useState(null),[ce,ot]=c.useState(""),[we,de]=c.useState(""),[Xe,et]=c.useState(""),[Ct,Tr]=c.useState(!1),[Zt,fe]=c.useState(null),[Y,me]=c.useState(null),pe=Bl(e),xe=async(C,X={})=>{var Me;const se=window;if(!((Me=se.auth)!=null&&Me.getAccessToken))throw new Error("Not signed in");const ie=await new Promise(Lr=>se.auth.getAccessToken(Lr));if(!ie)throw new Error("Not signed in");const Ae={...X.headers,Authorization:`Bearer ${ie}`};return fetch(C,{...X,headers:Ae})},ge=C=>{const X=r.find(se=>se.id===C||se.PK===C);return X&&(X.name||X.id)||C},De=async()=>{const C=Tn();if(C)try{const X=await xe(`${C}/squash/players`);if(!X.ok){const Ae=await X.json().catch(()=>({}));throw new Error(Ae.error||"Failed")}const ie=((await X.json()).players??[]).map(Ae=>({...Ae,id:Ae.id||Ae.PK||""}));s(ie),V(ie)}catch(X){fe((X==null?void 0:X.message)??"Failed to load players")}},Xt=async()=>{const C=Tn();if(C)try{const X=await xe(`${C}/admin/users?limit=60`);if(!X.ok)return;const se=await X.json();G(se.users??[])}catch{G([])}},Te=async()=>{const C=Tn();if(!C)return;const X=new URLSearchParams;j&&X.set("date",j),v&&X.set("dateFrom",v),x&&X.set("dateTo",x),a.length&&X.set("playerIds",a.join(","));const se=X.toString()?`?${X.toString()}`:"";F(!0),fe(null);try{const ie=await xe(`${C}/squash/matches${se}`);if(!ie.ok){const Me=await ie.json().catch(()=>({}));throw new Error(Me.error||"Failed")}const Ae=await ie.json();u(Ae.matches??[]),g(!0),p(1)}catch(ie){fe((ie==null?void 0:ie.message)??"Failed to search matches")}finally{F(!1)}},tt=()=>{N(""),S(""),d(""),o([]),b(""),g(!1),u([]),p(1)},Pt=C=>{a.includes(C)||o([...a,C]),b("")},Tt=C=>{o(a.filter(X=>X!==C))},fa=r.filter(C=>!a.includes(C.id)&&(!m.trim()||(C.name||"").toLowerCase().includes(m.toLowerCase()))),Wm=[B,ee,H,P],Ts=C=>{const X=C==="p1"?0:C==="p2"?1:C==="p3"?2:3,se=Wm.filter((ie,Ae)=>Ae!==X);return r.filter(ie=>!se.includes(ie.id))},Hm=async C=>{if(C.preventDefault(),!D||!B||!ee||!H||!P){fe("All fields are required.");return}const X=[B,ee,H,P];if(new Set(X).size!==4){fe("Each player can only be on one team.");return}const se=Tn();if(!se)return;const Me={date:D,teamAPlayer1Id:B,teamAPlayer2Id:ee,teamBPlayer1Id:H,teamBPlayer2Id:P,winningTeam:k,teamAGames:k==="A"?3:R,teamBGames:k==="B"?3:R},Lr=$?"PUT":"POST";$&&(Me.id=$),W(!0),fe(null);try{const qn=await xe(`${se}/squash/matches`,{method:Lr,headers:{"Content-Type":"application/json"},body:JSON.stringify(Me)});if(!qn.ok){const ep=await qn.json().catch(()=>({}));throw new Error(ep.error||"Failed")}_(null),U(""),J(""),q(""),O(""),y(""),w("A"),T(0),Te()}catch(qn){fe((qn==null?void 0:qn.message)??"Failed")}finally{W(!1)}},Vm=()=>{_(null),U(""),J(""),q(""),O(""),y(""),w("A"),T(0)},Km=C=>{var se,ie;const X=C.id||((ie=(se=C.PK)==null?void 0:se.replace)==null?void 0:ie.call(se,"SQUASH#MATCH#",""))||"";_(X),U(C.date||""),J(C.teamAPlayer1Id||""),q(C.teamAPlayer2Id||""),O(C.teamBPlayer1Id||""),y(C.teamBPlayer2Id||""),w(C.winningTeam||"A"),T(C.winningTeam==="A"?C.teamBGames??0:C.teamAGames??0)},qm=async C=>{if(!confirm("Delete this match?"))return;const X=Tn();if(X)try{const se=await xe(`${X}/squash/matches?id=${encodeURIComponent(C)}`,{method:"DELETE"});if(!se.ok){const ie=await se.json().catch(()=>({}));throw new Error(ie.error||"Failed")}Te()}catch(se){fe((se==null?void 0:se.message)??"Delete failed")}},Qm=async C=>{C.preventDefault();const X=ce.trim();if(!X){fe("Name is required.");return}const se=Tn();if(!se)return;const ie={name:X,email:we.trim()||void 0,userId:Xe||void 0},Ae=Z?"PUT":"POST";Z&&(ie.id=Z),Tr(!0),fe(null);try{const Me=await xe(`${se}/squash/players`,{method:Ae,headers:{"Content-Type":"application/json"},body:JSON.stringify(ie)});if(!Me.ok){const Lr=await Me.json().catch(()=>({}));throw new Error(Lr.error||"Failed")}te(null),ot(""),de(""),et(""),De()}catch(Me){fe((Me==null?void 0:Me.message)??"Failed")}finally{Tr(!1)}},Ym=()=>{te(null),ot(""),de(""),et("")},Jm=C=>{te(C.id),ot(C.name||""),de(C.email||""),et(C.userId||"")},Zm=async C=>{if(!confirm("Delete this player?"))return;const X=Tn();if(X)try{const se=await xe(`${X}/squash/players?id=${encodeURIComponent(C)}`,{method:"DELETE"});if(!se.ok){const ie=await se.json().catch(()=>({}));throw new Error(ie.error||"Failed")}De()}catch(se){fe((se==null?void 0:se.message)??"Delete failed")}};c.useEffect(()=>{pe&&(De(),t==="players"&&Xt())},[pe,t]),c.useEffect(()=>{function C(X){I.current&&!I.current.contains(X.target)&&A(!1)}if(E)return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[E]);const Ot=Math.max(1,Math.ceil(i.length/eo)),uu=(f-1)*eo,cu=i.slice(uu,uu+eo),Xm=C=>{const X=C.teamAGames??0,se=C.teamBGames??0;return C.winningTeam==="A"?`${X}-${se}`:`${se}-${X}`},en=[];if(Ot<=7)for(let C=1;C<=Ot;C++)en.push(C);else{const C=f;en.push(1),C>3&&en.push("");for(let X=Math.max(2,C-1);X<=Math.min(Ot-1,C+1);X++)en.includes(X)||en.push(X);C<Ot-2&&en.push(""),Ot>1&&en.push(Ot)}return e?pe?l.jsxs("div",{className:"space-y-6",children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Admin"}),l.jsx("p",{className:"text-sm text-slate-400",children:l.jsx(re,{to:"/squash",className:"text-brand-orange hover:text-orange-400",children:"Squash"})}),(Y||Zt)&&l.jsx("div",{className:`rounded-md px-4 py-3 text-sm ${Zt?"bg-red-900/30 border border-red-800/50 text-red-200":"bg-emerald-900/30 border border-emerald-800/50 text-emerald-200"}`,children:Zt||Y}),l.jsxs("div",{className:"flex gap-2 border-b border-slate-800 pb-2",children:[l.jsx("button",{type:"button",onClick:()=>n("matches"),className:`px-4 py-2 rounded-md text-sm font-medium ${t==="matches"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Matches"}),l.jsx("button",{type:"button",onClick:()=>n("players"),className:`px-4 py-2 rounded-md text-sm font-medium ${t==="players"?"bg-slate-800 text-slate-100":"text-slate-400 hover:text-slate-200"}`,children:"Players"})]}),t==="matches"&&l.jsxs(l.Fragment,{children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Add match"}),l.jsxs("form",{onSubmit:Hm,className:"grid grid-cols-2 gap-4 max-w-2xl",children:[l.jsx("div",{className:"col-span-2",children:l.jsx(_n,{id:"matchDate",value:D,onChange:U,label:"Date",required:!0})}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"matchTeamAP1",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Team A  Player 1"}),l.jsxs("select",{id:"matchTeamAP1",value:B,onChange:C=>J(C.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[l.jsx("option",{value:"",children:" Select "}),Ts("p1").map(C=>l.jsx("option",{value:C.id,children:C.name||C.id},C.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"matchTeamAP2",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Team A  Player 2"}),l.jsxs("select",{id:"matchTeamAP2",value:ee,onChange:C=>q(C.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[l.jsx("option",{value:"",children:" Select "}),Ts("p2").map(C=>l.jsx("option",{value:C.id,children:C.name||C.id},C.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"matchTeamBP1",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Team B  Player 1"}),l.jsxs("select",{id:"matchTeamBP1",value:H,onChange:C=>O(C.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[l.jsx("option",{value:"",children:" Select "}),Ts("p3").map(C=>l.jsx("option",{value:C.id,children:C.name||C.id},C.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"matchTeamBP2",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Team B  Player 2"}),l.jsxs("select",{id:"matchTeamBP2",value:P,onChange:C=>y(C.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[l.jsx("option",{value:"",children:" Select "}),Ts("p4").map(C=>l.jsx("option",{value:C.id,children:C.name||C.id},C.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"matchWinningTeam",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Winning team"}),l.jsxs("select",{id:"matchWinningTeam",value:k,onChange:C=>w(C.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[l.jsx("option",{value:"A",children:"Team A"}),l.jsx("option",{value:"B",children:"Team B"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"matchLoserGames",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Games won by losing team"}),l.jsxs("select",{id:"matchLoserGames",value:R,onChange:C=>T(parseInt(C.target.value,10)),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[l.jsx("option",{value:0,children:"0"}),l.jsx("option",{value:1,children:"1"}),l.jsx("option",{value:2,children:"2"})]})]}),l.jsxs("div",{className:"col-span-2 flex gap-2",children:[l.jsx("button",{type:"submit",disabled:z,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:$?"Update match":"Add match"}),l.jsx("button",{type:"button",onClick:Vm,className:"rounded-md border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Search matches"}),l.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[l.jsx(_n,{id:"searchDate",value:j,onChange:N,label:"Date (exact)",className:"max-w-[12rem]"}),l.jsx(_n,{id:"searchDateFrom",value:v,onChange:S,label:"Date from",className:"max-w-[12rem]"}),l.jsx(_n,{id:"searchDateTo",value:x,onChange:d,label:"Date to",className:"max-w-[12rem]"}),l.jsxs("div",{className:"relative max-w-[14rem] min-w-[12rem]",ref:I,children:[l.jsx("label",{className:"block text-xs font-semibold text-slate-400 mb-1",children:"Filter by players"}),l.jsx("input",{type:"text",value:m,onChange:C=>b(C.target.value),onFocus:()=>A(!0),placeholder:"Search players...",autoComplete:"off",className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none"}),E&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-slate-900 border border-slate-700 rounded-md max-h-48 overflow-y-auto z-10",children:fa.length?fa.map(C=>l.jsx("button",{type:"button",onClick:()=>Pt(C.id),className:"w-full text-left px-3 py-2 text-sm text-slate-200 hover:bg-slate-800",children:C.name||C.id},C.id)):l.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No matches"})}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:a.map(C=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-slate-700 text-slate-200 text-xs",children:[ge(C),l.jsx("button",{type:"button",onClick:()=>Tt(C),className:"text-slate-400 hover:text-slate-100","aria-label":"Remove",children:""})]},C))})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:Te,disabled:K,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:K?"Searching":"Search"}),l.jsx("button",{type:"button",onClick:tt,className:"rounded-md border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Clear"})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Search results"}),h?cu.length===0?l.jsx("ul",{className:"list-none p-0",children:l.jsx("li",{className:"py-2 text-slate-400",children:"No matches found."})}):l.jsxs(l.Fragment,{children:[l.jsx("ul",{className:"list-none p-0",children:cu.map(C=>{var Ae,Me;const X=C.id||((Me=(Ae=C.PK)==null?void 0:Ae.replace)==null?void 0:Me.call(Ae,"SQUASH#MATCH#",""))||"",se=[ge(C.teamAPlayer1Id||""),ge(C.teamAPlayer2Id||"")].filter(Boolean).join(" & "),ie=[ge(C.teamBPlayer1Id||""),ge(C.teamBPlayer2Id||"")].filter(Boolean).join(" & ");return l.jsxs("li",{className:"flex items-center gap-2 flex-wrap py-2 border-b border-slate-800 last:border-0",children:[l.jsx("span",{className:"font-semibold text-slate-200",children:C.date||""}),l.jsxs("span",{className:"text-slate-300",children:[se," vs ",ie]}),l.jsx("span",{className:"italic text-slate-400",children:Xm(C)}),l.jsx("button",{type:"button",onClick:()=>Km(C),className:"rounded-md border border-slate-600 px-2 py-1 text-xs text-slate-300 hover:bg-slate-800",children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>qm(X),className:"rounded-md border border-red-800/50 px-2 py-1 text-xs text-red-300 hover:bg-red-900/30",children:"Delete"})]},X)})}),Ot>1&&l.jsxs("div",{className:"flex items-center gap-2 mt-4 flex-wrap",children:[l.jsx("button",{type:"button",disabled:f<=1,onClick:()=>p(C=>Math.max(1,C-1)),className:"rounded-md border border-slate-600 px-3 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 hover:bg-slate-800",children:"Prev"}),l.jsx("span",{className:"flex items-center gap-1",children:en.map((C,X)=>C===""?l.jsx("span",{className:"px-1 text-slate-500",children:""},`ellipsis-${X}`):C===f?l.jsx("span",{className:"min-w-[2rem] px-2 py-1 text-center font-semibold text-slate-200",children:C},C):l.jsx("button",{type:"button",onClick:()=>p(C),className:"min-w-[2rem] rounded px-2 py-1 text-sm text-slate-300 hover:bg-slate-800 border border-slate-600",children:C},C))}),l.jsx("button",{type:"button",disabled:f>=Ot,onClick:()=>p(C=>Math.min(Ot,C+1)),className:"rounded-md border border-slate-600 px-3 py-1 text-sm disabled:opacity-50 disabled:cursor-not-allowed text-slate-300 hover:bg-slate-800",children:"Next"})]})]}):l.jsx("p",{className:"text-sm text-slate-500",children:"Enter search criteria and click Search to find matches."})]})]}),t==="players"&&l.jsxs(l.Fragment,{children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Players"}),l.jsxs("form",{onSubmit:Qm,className:"space-y-4 max-w-md",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"playerName",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Name"}),l.jsx("input",{type:"text",id:"playerName",value:ce,onChange:C=>ot(C.target.value),required:!0,placeholder:"Player name",className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"playerEmail",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Email (optional)"}),l.jsx("input",{type:"email",id:"playerEmail",value:we,onChange:C=>de(C.target.value),placeholder:"player@example.com",className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"playerUserId",className:"block text-xs font-semibold text-slate-400 mb-1",children:"Link to user (optional)"}),l.jsxs("select",{id:"playerUserId",value:Xe,onChange:C=>et(C.target.value),className:"block w-full rounded-md border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-200 focus:border-brand-orange focus:outline-none",children:[l.jsx("option",{value:"",children:" None "}),ne.map(C=>l.jsx("option",{value:C.sub||"",children:C.email||C.username||C.sub},C.sub||C.username))]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"submit",disabled:Ct,className:"rounded-md bg-brand-orange px-4 py-2 text-sm font-medium text-slate-950 hover:bg-orange-500 disabled:opacity-50",children:Z?"Update player":"Add player"}),l.jsx("button",{type:"button",onClick:Ym,className:"rounded-md border border-slate-600 px-4 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800",children:"Cancel"})]})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-base font-semibold text-slate-200 mb-3",children:"Player list"}),L.length===0?l.jsx("p",{className:"text-sm text-slate-500",children:"No players yet. Add players above."}):l.jsx("ul",{className:"list-none p-0",children:L.map(C=>l.jsxs("li",{className:"flex items-center gap-2 flex-wrap py-2 border-b border-slate-800 last:border-0",children:[l.jsx("span",{className:"font-semibold text-slate-200",children:C.name||C.id}),C.email&&l.jsxs("span",{className:"text-slate-500 text-sm",children:["(",C.email,")"]}),l.jsx("button",{type:"button",onClick:()=>Jm(C),className:"rounded-md border border-slate-600 px-2 py-1 text-xs text-slate-300 hover:bg-slate-800",children:"Edit"}),l.jsx("button",{type:"button",onClick:()=>Zm(C.id),className:"rounded-md border border-red-800/50 px-2 py-1 text-xs text-red-300 hover:bg-red-900/30",children:"Delete"})]},C.id))})]})]})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Admin"}),l.jsx("div",{className:"rounded-md bg-amber-900/30 border border-amber-800/50 px-4 py-3 text-sm text-amber-200",children:"Squash Admin requires manager (in Squash group) or SuperAdmin access."})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h1",{className:"text-xl font-semibold text-slate-100",children:"Squash Admin"}),l.jsxs("div",{className:"rounded-md bg-red-900/30 border border-red-800/50 px-4 py-3 text-sm text-red-200",children:["Sign in required. ",l.jsx(re,{to:"/auth",className:"underline hover:text-red-100",children:"Sign in"})]})]})},Gc=[{label:"Websites",to:"/websites",section:"discover",minRole:"guest"},{label:"Media",to:"/media",section:"discover",minRole:"guest"},{label:"Internet Dashboard",to:"/internet-dashboard",section:"discover",minRole:"guest"},{label:"Profile",to:"/profile",section:"discover",minRole:"user"},{label:"Squash",to:"/squash",section:"squash",minRole:"user"},{label:"Squash Admin",to:"/squash-admin",section:"squash",minRole:"manager"},{label:"Add Site",to:"/admin/sites/add",section:"admin",minRole:"manager",adminGroup:"websites"},{label:"Categories",to:"/admin/categories",section:"admin",minRole:"manager",adminGroup:"websites"},{label:"Add Media",to:"/admin/media/add",section:"admin",minRole:"manager",adminGroup:"media"},{label:"Media Categories",to:"/admin/media-categories",section:"admin",minRole:"manager",adminGroup:"media"},{label:"Users",to:"/admin/users",section:"admin",minRole:"manager",adminGroup:"membership"},{label:"Groups",to:"/admin/groups",section:"admin",minRole:"manager",adminGroup:"membership"},{label:"Branding",to:"/admin/branding",section:"admin",minRole:"superadmin"}],Wc={membership:"Membership",websites:"Websites",media:"Media"},Hc=["membership","websites","media"],Gm="funkedupshift_adminGroupOpen",Xs={membership:!1,websites:!1,media:!1};function py(){try{const e=sessionStorage.getItem(Gm);if(!e)return{...Xs};const t=JSON.parse(e);return typeof t!="object"||t===null?{...Xs}:{...Xs,...t}}catch{return{...Xs}}}function hy(e){try{sessionStorage.setItem(Gm,JSON.stringify(e))}catch{}}const xy=()=>{const{user:e,isLoading:t,signOut:n}=Ue(),{logo:r}=Fm(),s=Ut(),[a,o]=oe.useState(!1),[i,u]=oe.useState(py),f=d=>{u(m=>{const b={...m,[d]:!m[d]};return hy(b),b})},p=()=>{n(),o(!1),s("/")};e==null||e.role;const h=Gc.filter(d=>Ye(e??null,d.minRole)),g=h.filter(d=>d.section==="discover"),j=Gc.filter(d=>d.section==="squash").filter(d=>d.to==="/squash"?oi(e):Bl(e)),N=h.filter(d=>d.section==="admin"),v=N.filter(d=>!d.adminGroup),S=d=>N.filter(m=>m.adminGroup===d),x=({isActive:d})=>["flex items-center rounded-md px-3 py-2 text-sm font-medium",d?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800/70 hover:text-white"].join(" ");return l.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-50 flex flex-col",children:[l.jsx("header",{className:"border-b border-slate-800 bg-slate-950/80 backdrop-blur z-20 sticky top-0",children:l.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-3 flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-md p-2 text-slate-200 hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-brand-orange lg:hidden",onClick:()=>o(!0),"aria-label":"Open main navigation",children:l.jsx(Ux,{className:"h-6 w-6"})}),l.jsxs(re,{to:"/",className:"flex items-center gap-2",children:[r?l.jsx("img",{src:r.url,alt:r.alt,className:"h-8 w-auto rounded-md border border-slate-700 object-contain"}):l.jsx("div",{className:"h-8 w-8 rounded-md border border-slate-700 bg-gradient-to-br from-brand-orange to-brand-navy"}),l.jsx("span",{className:"text-sm font-semibold tracking-[0.2em] uppercase text-slate-100",children:"Funked Up Shift"})]})]}),l.jsx("div",{className:"flex items-center gap-3",children:e?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"hidden sm:inline text-xs text-slate-300",children:[e.email," ",l.jsxs("span",{className:"text-slate-500",children:["(",e.role==="superadmin"?"SuperAdmin":e.role,")"]})]}),l.jsx("button",{type:"button",onClick:p,className:"rounded-full border border-slate-700 px-3 py-1 text-xs font-medium text-slate-200 hover:bg-slate-800",children:"Sign out"})]}):t?l.jsx("span",{className:"text-xs text-slate-400",children:"Loading..."}):l.jsx(re,{to:"/auth",className:"rounded-full bg-brand-orange px-3 py-1 text-xs font-semibold text-slate-950 hover:bg-orange-500",children:"Sign in"})})]})}),l.jsxs("div",{className:"flex-1 flex",children:[l.jsx("aside",{className:"hidden lg:block w-64 border-r border-slate-800 bg-slate-950/80",children:l.jsxs("nav",{className:"h-full overflow-y-auto px-4 py-6 space-y-6 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Discover"}),l.jsx("div",{className:"space-y-1",children:g.map(d=>l.jsx(nn,{to:d.to,className:x,children:d.label},d.to))})]}),j.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Squash"}),l.jsx("div",{className:"space-y-1",children:j.map(d=>l.jsx(nn,{to:d.to,className:x,children:d.label},d.to))})]}),N.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Admin"}),l.jsxs("div",{className:"space-y-1",children:[Hc.map(d=>{const m=S(d);if(m.length===0)return null;const b=i[d]??!1,E=Wc[d];return l.jsxs("div",{children:[l.jsxs("button",{type:"button",onClick:()=>f(d),className:"flex w-full items-center justify-between rounded-md px-3 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800/70 hover:text-white",children:[E,b?l.jsx(Pc,{className:"h-4 w-4 shrink-0"}):l.jsx(Tc,{className:"h-4 w-4 shrink-0"})]}),b&&l.jsx("div",{className:"ml-2 mt-1 space-y-1 border-l border-slate-800 pl-2",children:m.map(A=>l.jsx(nn,{to:A.to,className:x,children:A.label},A.to))})]},d)}),v.map(d=>l.jsx(nn,{to:d.to,className:x,children:d.label},d.to))]})]})]})}),l.jsxs(Wa,{open:a,onClose:o,className:"lg:hidden",children:[l.jsx("div",{className:"fixed inset-0 bg-black/40","aria-hidden":"true"}),l.jsxs(Wa.Panel,{className:"fixed inset-y-0 left-0 w-72 bg-slate-950 border-r border-slate-800 p-4 flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(Wa.Title,{className:"text-sm font-semibold tracking-[0.15em] uppercase text-slate-100",children:"Funked Up Shift"}),l.jsx("button",{type:"button",className:"rounded-md p-1 text-slate-200 hover:bg-slate-800",onClick:()=>o(!1),"aria-label":"Close main navigation",children:l.jsx(zx,{className:"h-5 w-5"})})]}),l.jsxs("nav",{className:"flex-1 overflow-y-auto space-y-6 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Discover"}),l.jsx("div",{className:"space-y-1",children:g.map(d=>l.jsx(nn,{to:d.to,className:x,onClick:()=>o(!1),children:d.label},d.to))})]}),j.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Squash"}),l.jsx("div",{className:"space-y-1",children:j.map(d=>l.jsx(nn,{to:d.to,className:x,onClick:()=>o(!1),children:d.label},d.to))})]}),N.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Admin"}),l.jsxs("div",{className:"space-y-1",children:[Hc.map(d=>{const m=S(d);if(m.length===0)return null;const b=i[d]??!1,E=Wc[d];return l.jsxs("div",{children:[l.jsxs("button",{type:"button",onClick:()=>f(d),className:"flex w-full items-center justify-between rounded-md px-3 py-2 text-sm font-medium text-slate-300 hover:bg-slate-800/70 hover:text-white",children:[E,b?l.jsx(Pc,{className:"h-4 w-4 shrink-0"}):l.jsx(Tc,{className:"h-4 w-4 shrink-0"})]}),b&&l.jsx("div",{className:"ml-2 mt-1 space-y-1 border-l border-slate-800 pl-2",children:m.map(A=>l.jsx(nn,{to:A.to,className:x,onClick:()=>o(!1),children:A.label},A.to))})]},d)}),v.map(d=>l.jsx(nn,{to:d.to,className:x,onClick:()=>o(!1),children:d.label},d.to))]})]})]})]})]}),l.jsx("main",{className:"flex-1 min-w-0",children:l.jsx("div",{className:"mx-auto max-w-6xl px-4 py-6",children:l.jsxs(gx,{children:[l.jsx(je,{path:"/",element:l.jsx(Pv,{})}),l.jsx(je,{path:"/websites",element:l.jsx(Tv,{})}),l.jsx(je,{path:"/websites/:id",element:l.jsx(Lv,{})}),l.jsx(je,{path:"/media",element:l.jsx(Av,{})}),l.jsx(je,{path:"/media/:id",element:l.jsx(Rv,{})}),l.jsx(je,{path:"/internet-dashboard",element:l.jsx(_v,{})}),l.jsx(je,{path:"/squash",element:l.jsx(fy,{})}),l.jsx(je,{path:"/squash-admin",element:l.jsx(my,{})}),l.jsx(je,{path:"/admin/branding",element:l.jsx(Fv,{})}),l.jsx(je,{path:"/admin/sites/add",element:l.jsx(zv,{})}),l.jsx(je,{path:"/admin/sites/edit/:id",element:l.jsx(Wv,{})}),l.jsx(je,{path:"/admin/media/add",element:l.jsx(Vv,{})}),l.jsx(je,{path:"/admin/media/edit/:id",element:l.jsx(Kv,{})}),l.jsx(je,{path:"/admin/categories",element:l.jsx(qv,{})}),l.jsx(je,{path:"/admin/media-categories",element:l.jsx(Qv,{})}),l.jsx(je,{path:"/admin/users",element:l.jsx(Zv,{})}),l.jsx(je,{path:"/admin/users/edit",element:l.jsx(ny,{})}),l.jsx(je,{path:"/admin/groups",element:l.jsx(ry,{})}),l.jsx(je,{path:"/admin/*",element:l.jsx("div",{children:"Admin area"})}),l.jsx(je,{path:"/profile",element:l.jsx(cy,{})}),l.jsx(je,{path:"/auth",element:l.jsx(sy,{})}),l.jsx(je,{path:"*",element:l.jsx("div",{children:"Not found"})})]})})})]}),l.jsx("footer",{className:"border-t border-slate-800 bg-slate-950",children:l.jsxs("div",{className:"mx-auto max-w-6xl px-4 py-4 flex flex-col sm:flex-row items-center justify-between gap-3 text-xs text-slate-500",children:[l.jsxs("nav",{className:"flex flex-wrap gap-3 justify-center sm:justify-start",children:[l.jsx(re,{to:"/",className:"hover:text-slate-300",children:"Home"}),l.jsx(re,{to:"/websites",className:"hover:text-slate-300",children:"Websites"}),l.jsx(re,{to:"/media",className:"hover:text-slate-300",children:"Media"}),l.jsx(re,{to:"/internet-dashboard",className:"hover:text-slate-300",children:"Internet dashboard"}),e&&l.jsx(re,{to:"/profile",className:"hover:text-slate-300",children:"Profile"}),Ye(e??null,"superadmin")&&l.jsx(re,{to:"/admin/branding",className:"hover:text-slate-300",children:"Branding"}),oi(e)&&l.jsx(re,{to:"/squash",className:"hover:text-slate-300",children:"Squash"}),Bl(e)&&l.jsx(re,{to:"/squash-admin",className:"hover:text-slate-300",children:"Squash Admin"})]}),l.jsxs("div",{className:"text-slate-600",children:[l.jsx("span",{className:"font-mono text-[11px]",children:"funkedupshift"})," ",l.jsx("span",{className:"text-slate-700",children:""})," ",l.jsx("span",{children:"All data public, admin-managed curation"})]})]})})]})},Vc=document.getElementById("root");Vc&&to.createRoot(Vc).render(l.jsx(oe.StrictMode,{children:l.jsx(Ex,{children:l.jsx(kv,{children:l.jsx(Cv,{children:l.jsx(xy,{})})})})}));
